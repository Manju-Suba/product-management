"use strict";(self.webpackChunkproduct_management=self.webpackChunkproduct_management||[]).push([[299],{81411:(e,s,t)=>{t.d(s,{A:()=>a});const a=new(t(28379).b)},45813:(e,s,t)=>{t.r(s),t.d(s,{default:()=>fe});var a=t(65043),r=t(93946),n=t(42145),l=(t(92342),t(63406)),i=(t(25015),t(85727)),c=t(32513),o=t(18125),d=t(48903),h=t(28727),m=t(58568),x=t(9425),p=t(87021),u=t(12834),g=t(35402),j=t(35475),b=t(70579);const f=e=>{let{close:s}=e,t=(0,g.A)();const[i,c]=(0,a.useState)(!1),[h,m]=(0,a.useState)(""),[x,f]=(0,a.useState)(!1),y=(0,a.useRef)(null),[N,v]=(0,a.useState)({designation:""});(0,a.useEffect)((()=>{}),[]);const w=()=>{m(""),s()};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(r.sK,{children:[(0,b.jsx)(r.UF,{sm:2,style:{width:"26px",display:"flex"},children:(0,b.jsx)("span",{style:{cursor:"pointer",marginLeft:"17px",marginTop:"40px"},onClick:s,children:(0,b.jsx)(u.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})}),(0,b.jsxs)(r.UF,{style:{marginLeft:"12px"},children:[(0,b.jsx)("h6",{className:"draft-heading",style:{marginTop:"29px"},children:"Add Designation"}),(0,b.jsx)(o.A,{className:"bread-tab",separator:(0,b.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,b.jsx)(j.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary first-subheading",children:"Dashboard"})},{title:(0,b.jsx)("span",{className:"bread-items text-secondary second-subheading",style:{cursor:"pointer"},onClick:w,children:"Designation Master"})},{title:(0,b.jsx)("span",{className:"text-secondary second-subheading",style:{cursor:"default"},children:"Add Designation"})}]}),(0,b.jsxs)(r.qI,{className:"mt-4  needs-validation",ref:y,validated:i,onSubmit:async(e,s)=>{e.preventDefault();const a=e.currentTarget;if((()=>{const e={designation:""};return""===h&&(e.designation="Please Enter Designation"),v(e),!(""!==e.designation)})())if(!1===a.checkValidity())e.preventDefault(),e.stopPropagation(),c(!0);else{f(!0);const e=new FormData;e.append("name",h);const s="master/role/create";await t.post(s,e,{headers:(0,l.dJ)("multi")}).then((e=>{f(!1),208===e.status?n.oR.error(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}):(n.oR.success(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),y.current&&y.current.reset(),w())})).catch((e=>{f(!1);const s=e.response.data;s?n.oR.error(s.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}):n.oR.error(e,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}))}},style:{marginLeft:"24px",width:"100%"},children:[(0,b.jsx)(r.sK,{gutter:16,children:(0,b.jsxs)(r.UF,{sm:3,span:6,children:[(0,b.jsxs)("div",{className:"label-field-container",children:[(0,b.jsxs)(r.A6,{className:"form-label text-c",htmlFor:"validationCustom01",children:["Designation",(0,b.jsx)("span",{className:"red-text1",style:{marginLeft:"5px"},children:"*"})]}),(0,b.jsx)(d.A,{style:{marginTop:"10px"},variant:"borderless",maxLength:48,className:"border-0 time-border-bottom des-box ",placeholder:"Enter Designation",value:h,onChange:e=>{const{value:s}=e.target;(/^(?!^\s)[A-Za-z\s-]*[A-Za-z][A-Za-z\s-]*$/.test(s)||""===s)&&m(s)}})]}),(0,b.jsx)("span",{className:"text-danger nameflow-error ",children:N.designation})]})}),(0,b.jsx)("div",{style:{position:"absolute",left:0,right:"17px"},children:(0,b.jsxs)(r.sK,{className:"m-3",children:[(0,b.jsx)(r.UF,{sm:6}),(0,b.jsxs)(r.UF,{sm:6,className:"d-flex justify-content-end align-items-center",children:[(0,b.jsx)(r.Q_,{className:"cancel-btn text-c",onClick:s,children:"Cancel"}),(0,b.jsx)(p.Ay,{className:" Edit_save_changes",style:{fontSize:"13px",color:"white"},htmlType:"submit",loading:x,children:"Submit"})]})]})})]})]})]})})};var y=t(81411);const N=e=>{let{close:s,viewDesignation:t}=e,i=(0,g.A)();const[c,h]=(0,a.useState)(t.name),m=(0,a.useRef)(null),[x,f]=(0,a.useState)(!1),[N,v]=(0,a.useState)(!1),[w,A]=(0,a.useState)({designation:""});(0,a.useEffect)((()=>{}),[]);const C=()=>{y.A.emit("callDesignationList"),s()};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(r.sK,{children:[(0,b.jsx)(r.UF,{sm:2,style:{width:"26px",display:"flex",marginLeft:"17px",marginTop:"40px"},children:(0,b.jsx)("span",{style:{cursor:"pointer"},onClick:s,children:(0,b.jsx)(u.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})}),(0,b.jsxs)(r.UF,{children:[(0,b.jsx)("h6",{className:"draft-heading",style:{marginTop:"29px"},children:"Edit Designation"}),(0,b.jsx)(o.A,{className:"bread-tab",separator:(0,b.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,b.jsx)(j.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary first-subheading",children:"Dashboard"})},{title:(0,b.jsx)("span",{className:"bread-items text-secondary second-subheading",style:{cursor:"pointer"},onClick:C,children:"Desigination Master"})},{title:(0,b.jsx)("span",{className:"text-secondary second-subheading",style:{cursor:"default"},children:"Edit Designation"})}]}),(0,b.jsx)(r.UF,{xs:12,className:"",style:{marginLeft:"22px",width:"100%"},children:(0,b.jsxs)(r.qI,{className:"mt-4  needs-validation",ref:m,validated:x,onSubmit:async(e,s)=>{e.preventDefault();const a=e.currentTarget;if((()=>{const e={designation:""};return""===c&&(e.designation="Please Enter Designation"),A(e),!(""!==e.designation)})())if(!1===a.checkValidity())e.preventDefault(),e.stopPropagation(),f(!0);else{v(!0);const e=new FormData;e.append("name",c);const s="master/role/update/"+t.id;await i.put(s,e,{headers:(0,l.dJ)("multi")}).then((e=>{v(!1),208===e.status?n.oR.error(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}):(n.oR.success(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),m.current&&m.current.reset(),C())})).catch((e=>{v(!1);const s=e.response.data;s?n.oR.error(s.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}):n.oR.error(e,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}))}},children:[(0,b.jsx)(r.sK,{gutter:16,children:(0,b.jsxs)(r.UF,{sm:3,span:6,children:[(0,b.jsxs)("div",{className:"label-field-container",children:[(0,b.jsxs)(r.A6,{className:"form-label text-c",htmlFor:"validationCustom01",children:["Designation ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),(0,b.jsx)(d.A,{variant:"borderless",maxLength:48,type:"text",className:"border-0 time-border-bottom user-input  ",placeholder:"Enter Designation",value:c,onChange:e=>{const{value:s}=e.target;(/^(?!^\s)[A-Za-z\s-]*[A-Za-z][A-Za-z\s-]*$/.test(s)||""===s)&&h(s)}})]}),(0,b.jsx)("span",{className:"text-danger nameflow-error ",children:w.designation})]})}),(0,b.jsx)("div",{style:{position:"absolute",left:0,right:"17px"},children:(0,b.jsxs)(r.sK,{className:"m-3",children:[(0,b.jsx)(r.UF,{sm:6}),(0,b.jsxs)(r.UF,{sm:6,className:"d-flex justify-content-end align-items-center",children:[(0,b.jsx)(r.Q_,{className:"cancel-btn text-c",onClick:s,children:"Cancel"}),(0,b.jsxs)(p.Ay,{className:"Edit_update_changes ",style:{fontSize:"13px",color:"white"},htmlType:"submit",loading:N,children:[" ","Update"]})]})]})})]})})]})]})})};var v=t(48758),w=t(51376),A=t(10446),C=t.n(A);const{confirm:S}=i.A,k=()=>{let e=(0,g.A)();const[s,t]=(0,a.useState)([]),[i,p]=(0,a.useState)([]),[u,y]=(0,a.useState)(""),[A,k]=(0,a.useState)(!1),[T,I]=(0,a.useState)(!1),[O,R]=(0,a.useState)(null),D=(0,a.useRef)(""),[_,P]=(0,a.useState)(!0),[F,M]=(0,a.useState)(new AbortController),U=(0,a.useRef)(null),E=(0,a.useRef)(!0),L=(0,a.useRef)(0),B=(0,a.useRef)(!1),[H,z]=(0,a.useState)(!1);(0,a.useEffect)((()=>{A||T||(E.current=!0,K())}),[A,T]);const J=e=>{if(e){const e=s.map((e=>e.id));p(e),y("".concat(e.length," Selected"))}else p([]),y("")},G=(e,s)=>{p(s?s=>{const t=[...s,e];return y("".concat(t.length," Selected")),t}:s=>{const t=s.filter((s=>s!==e));return y(t.length>0?"".concat(t.length," Selected"):""),t})},Z=()=>{I(!1),L.current=0,D.current="",B.current=!1},q=()=>{k(!1),L.current=0,D.current="",B.current=!1},K=async()=>{var s;let a;0===L.current&&(P(!0),t([]),F.abort(),a=new AbortController,M(a));const r="master/role/list?page=".concat(L.current,"&size=10&search=").concat(B.current,"&value=").concat(D.current);await e.get(r,{headers:(0,l.dJ)("json"),signal:null===(s=a)||void 0===s?void 0:s.signal}).then((e=>{const s=e.data.data.content;0===L.current?t(s):t((e=>{const t=new Set(e.map((e=>e.id))),a=s.filter((e=>!t.has(e.id)));return[...e,...a]})),s.length<10&&(E.current=!1),L.current=L.current+1,P(!1)})).catch((e=>{}))},Y=()=>{k(!0)},V=async s=>{const t="master/role/byid/"+s;e.get(t,{headers:(0,l.dJ)("json")}).then((e=>{const s=e.data.data;R(s),I(!0)})).catch((e=>{}))},X=s=>{S({title:"Delete Designation",content:"Are you sure to delete this Designation ?",icon:(0,b.jsx)(w.A,{}),okText:"Yes",okType:"danger",cancelButtonProps:{style:{borderColor:"#f54550",color:"black"}},closable:!0,okButtonProps:{style:{borderColor:"#f54550",color:"white",backgroundColor:"#f54550"}},cancelText:"No",async onOk(){try{await(async s=>{const t="master/role/delete/"+s;return new Promise(((s,a)=>{setTimeout((()=>{e.delete(t,{headers:(0,l.dJ)("json")}).then((e=>{L.current=0,D.current="",B.current=!1,K(),y(""),p([]),s(e)})).catch((e=>{a(e)}))}),1e3)}))})(s),n.oR.success("Designation Deleted Successfully",{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}catch(t){n.oR.error("Deletion failed",{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}},onCancel(){W()}})},W=()=>{p([]),y("")},Q=u?[{title:(0,b.jsx)(c.A,{className:"checkbox_design",checked:i.length===s.length&&s.length,onChange:e=>J(e.target.checked)}),dataIndex:"checkbox",key:"checkbox",width:"3%",align:"center",render:(e,s)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:(0,b.jsx)(c.A,{className:"checkbox_design",checked:i.includes(s.id),onChange:e=>G(s.id,e.target.checked)})},{title:(0,b.jsx)("span",{style:{color:"#f50505"},children:u}),dataIndex:"index",key:"index",width:"5%",align:"center",render:(e,s,t)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:t+1},{title:"",dataIndex:"name",key:"name",width:"35%",render:(e,s,t)=>"noMoreData"===s.key?(z(!0),{children:(0,b.jsx)("div",{style:{textAlign:"center"},children:(0,b.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),props:{colSpan:4}}):(0,b.jsx)("span",{className:"designation-row-name",children:e})},{title:(0,b.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,b.jsx)("button",{type:"button",className:"action-view cross-button",onClick:()=>X(i),style:{padding:"4px 8px"},children:(0,b.jsx)(x.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#e40e2d"})})}),dataIndex:"action",key:"action",width:"5%",align:"center",render:(e,s)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,b.jsx)("button",{type:"button",className:"action-view  edit-button mx-1",style:{padding:"4px 8px"},onClick:()=>V(s.id),children:(0,b.jsx)(m.A,{width:"13",height:"13",viewBox:"0 0 18 18",fill:"none",color:"white",clipH:"18",clipW:"18"})}),(0,b.jsx)("button",{type:"button",className:"action-view cross-button mx-1",style:{padding:"4px 8px"},onClick:u?null:()=>X(s.id),children:(0,b.jsx)(x.A,{width:"14",height:"13",viewBox:"0 0 18 18",fill:"#A5A1A1"})})]})}]:[{title:(0,b.jsx)(c.A,{onChange:e=>J(e.target.checked)}),dataIndex:"checkbox",key:"checkbox",width:"3%",align:"center",render:(e,s)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:(0,b.jsx)(c.A,{className:"checkbox_design",checked:i.includes(s.id),onChange:e=>G(s.id,e.target.checked)})},{title:"SI.No",dataIndex:"index",key:"index",width:"5%",align:"center",render:(e,s,t)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:t+1},{title:"Designation",dataIndex:"name",key:"name",width:"35%",render:(e,s,t)=>"noMoreData"===s.key?(z(!0),{children:(0,b.jsx)("div",{style:{textAlign:"center"},children:(0,b.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),props:{colSpan:4}}):(0,b.jsx)("span",{className:"designation-row-name",children:e})},{title:"Action",dataIndex:"action",key:"action",width:"5%",align:"center",render:(e,s)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,b.jsx)("button",{type:"button",className:"action-view  edit-button mx-1",style:{padding:"4px 8px"},onClick:()=>V(s.id),children:(0,b.jsx)(m.A,{width:"13",height:"13",viewBox:"0 0 18 18",fill:"none",color:"white",clipH:"18",clipW:"18"})}),(0,b.jsx)("button",{type:"button",className:"action-view cross-button mx-1",style:{padding:"4px 8px"},onClick:u?null:()=>X(s.id),children:(0,b.jsx)(x.A,{width:"14",height:"13",viewBox:"0 0 18 18",fill:"#A5A1A1"})})]})}],$=[...s.map(((e,s)=>({key:e.id,id:e.id,index:s+1,name:e.name})))];let ee;!E.current&&0!==$.length&&$.length>10&&$.push({key:"noMoreData",index:"",name:"No more Data to load",checkbox:"",action:""}),ee=A?(0,b.jsx)(f,{close:q}):T?(0,b.jsx)(N,{close:Z,viewDesignation:O}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(r.sK,{className:"mt-3 user-master-header",children:[(0,b.jsxs)(r.UF,{sm:8,children:[(0,b.jsx)("b",{style:{paddingLeft:"30px"},children:"Designation Master"}),(0,b.jsx)("br",{}),(0,b.jsx)(o.A,{style:{paddingLeft:"30px"},className:"bread-tab",separator:(0,b.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,b.jsx)(j.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,b.jsx)("span",{className:"text-secondary ",style:{cursor:"default"},children:"Designation Master"})}]})]}),(0,b.jsxs)(r.UF,{sm:2,children:[" ",(0,b.jsx)("div",{style:{width:"90%",marginRight:"20px"},className:"mt-1 des-mas",children:(0,b.jsx)(d.A,{placeholder:"Search",variant:"borderless",className:"border-0 time-border-bottom ",onChange:e=>{return s=e.target.value,L.current=0,E.current=!0,D.current=s,B.current=!0,""===s&&(B.current=!1),void K();var s},prefix:(0,b.jsx)("img",{src:v,alt:"Search",className:"search-icon",style:{width:"14px",height:"14px"}})})})]}),(0,b.jsx)(r.UF,{sm:2,children:(0,b.jsx)("div",{style:{width:"100%"},children:(0,b.jsxs)("button",{className:"createdesignation-button button-clr",type:"button",onClick:Y,children:[(0,b.jsx)("span",{className:"plus-lable",children:"+"})," Add Designation"]})})})]}),(0,b.jsxs)("div",{className:"mt-2 design_table",children:[(0,b.jsx)("style",{children:"\n            .design_table .ant-table-wrapper .ant-table-thead > tr > th {\n              background-color: ".concat(u?"#ffa5b240 !important":"",";\n            }\n          ")}),(0,b.jsx)(h.A,{columns:Q,dataSource:$,size:"middle",className:"".concat(H?"last-row-table":""),rowKey:"id",pagination:!1,scroll:{y:490},loading:{spinning:_,indicator:(0,b.jsx)(r.JT,{color:"danger"})}})]})]});const se=(0,a.useCallback)(C()((()=>{if(!U.current)return;const{scrollTop:e,scrollHeight:s,clientHeight:t}=U.current;e+t>=s-10&&E.current&&!_&&(P(!0),E.current&&K())}),100),[E.current,_]);return(0,a.useEffect)((()=>{const e=document.querySelector(".design_table .ant-table-body");return e&&(U.current=e,e.addEventListener("scroll",se)),()=>{e&&e.removeEventListener("scroll",se)}}),[se]),ee},T=e=>{let{close:s}=e,t=(0,g.A)();const[i,c]=(0,a.useState)(!1),[h,m]=(0,a.useState)(""),[x,f]=(0,a.useState)(!1),y=(0,a.useRef)(null),[N,v]=(0,a.useState)({business:""});(0,a.useEffect)((()=>{}),[]);const w=()=>{m(""),s()};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(r.sK,{children:[(0,b.jsx)(r.UF,{sm:1,style:{width:"20px"},className:"cancle-arrow-content",children:(0,b.jsx)("span",{style:{cursor:"pointer",marginRight:"2px"},onClick:s,children:(0,b.jsx)(u.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})}),(0,b.jsxs)(r.UF,{children:[(0,b.jsx)("h6",{className:"draft-heading",style:{marginTop:"29px"},children:"Add Business"}),(0,b.jsx)(o.A,{className:"bread-tab",separator:(0,b.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,b.jsx)(j.N_,{rel:"Dashboard",to:"/dashboard",style:{marginLeft:"17px"},className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,b.jsx)("span",{className:"bread-items text-secondary second-subheading",style:{cursor:"pointer"},onClick:w,children:"Business Master"})},{title:(0,b.jsx)("span",{className:"text-secondary second-subheading",style:{cursor:"default"},children:"Add Business"})}]}),(0,b.jsx)(r.UF,{xs:12,className:"",style:{marginLeft:"22px",width:"100%"},children:(0,b.jsxs)(r.qI,{className:"mt-4  needs-validation",ref:y,validated:i,onSubmit:async(e,s)=>{e.preventDefault();const a=e.currentTarget;if((()=>{const e={business:""};return""===h&&(e.business="Please Enter Business"),v(e),!(""!==e.business)})())if(!1===a.checkValidity())e.preventDefault(),e.stopPropagation(),c(!0);else{const e=new FormData;e.append("name",h),f(!0);const s="master/bussiness/create";await t.post(s,e,{headers:(0,l.dJ)("multi")}).then((e=>{f(!1),208===e.status?n.oR.error(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}):(n.oR.success(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),y.current&&y.current.reset(),w())})).catch((e=>{f(!1);const s=e.response.data;s?n.oR.error(s.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}):n.oR.error(e,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}))}},children:[(0,b.jsx)(r.sK,{gutter:16,children:(0,b.jsxs)(r.UF,{sm:3,span:6,children:[(0,b.jsxs)("div",{className:"label-field-container",children:[(0,b.jsxs)(r.A6,{className:"form-label text-c",htmlFor:"validationCustom01",children:["Business"," ",(0,b.jsx)("span",{className:"red-text1",style:{marginLeft:"5px"},children:"*"})]}),(0,b.jsx)(d.A,{style:{marginTop:"10px"},variant:"borderless",maxLength:48,className:"border-0 time-border-bottom  des-box  ",placeholder:"Enter Business",value:h,onChange:e=>{const{value:s}=e.target;(/^(?!^\s)[A-Za-z\s-]*[A-Za-z][A-Za-z\s-]*$/.test(s)||""===s)&&m(s)}})]}),(0,b.jsx)("span",{className:"text-danger nameflow-error ",children:N.business})]})}),(0,b.jsx)("div",{style:{position:"absolute",left:0,right:"17px"},children:(0,b.jsxs)(r.sK,{className:"m-3",children:[(0,b.jsx)(r.UF,{sm:6}),(0,b.jsxs)(r.UF,{sm:6,className:"d-flex justify-content-end align-items-center",children:[(0,b.jsx)(r.Q_,{className:"cancel-btn text-c",onClick:s,children:"Cancel"}),(0,b.jsx)(p.Ay,{className:" Edit_save_changes",style:{fontSize:"13px",color:"white"},htmlType:"submit",loading:x,children:"Submit"})]})]})})]})})]})]})})},I=e=>{let{close:s,viewBusiness:t}=e,i=(0,g.A)();const[c,h]=(0,a.useState)(t.name),[m,x]=(0,a.useState)(!1),f=(0,a.useRef)(null),[y,N]=(0,a.useState)(!1),[v,w]=(0,a.useState)({business:""});(0,a.useEffect)((()=>{}),[]);const A=()=>{s()};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(r.sK,{children:[(0,b.jsx)(r.UF,{sm:2,style:{width:"26px",display:"flex",marginLeft:"17px",marginTop:"40px"},children:(0,b.jsx)("span",{style:{cursor:"pointer"},onClick:s,children:(0,b.jsx)(u.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})}),(0,b.jsxs)(r.UF,{children:[(0,b.jsx)("h6",{className:"draft-heading",style:{marginTop:"29px"},children:"Edit Business"}),(0,b.jsx)(o.A,{className:"bread-tab",separator:(0,b.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,b.jsx)(j.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary first-subheading",children:"Dashboard"})},{title:(0,b.jsx)("span",{className:"bread-items text-secondary second-subheading",style:{cursor:"pointer"},onClick:A,children:"Business Master"})},{title:(0,b.jsx)("span",{className:"text-secondary second-subheading",style:{cursor:"default"},children:"Edit Business"})}]}),(0,b.jsx)(r.UF,{xs:12,className:"",style:{marginLeft:"22px",width:"100%"},children:(0,b.jsxs)(r.qI,{className:"mt-4  needs-validation",ref:f,validated:y,onSubmit:async(e,s)=>{e.preventDefault();const a=e.currentTarget;if((()=>{const e={business:""};return""===c&&(e.business="Please Enter Designation"),w(e),!(""!==e.business)})())if(!1===a.checkValidity())e.preventDefault(),e.stopPropagation(),N(!0);else{const e=new FormData;e.append("name",c),x(!0);const s="master/bussiness/update/"+t.id;await i.put(s,e,{headers:(0,l.dJ)("multi")}).then((e=>{x(!1),208===e.status?n.oR.error(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}):(n.oR.success(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),f.current&&f.current.reset(),A())})).catch((e=>{x(!1);const s=e.response;s&&(s?n.oR.error(s.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}):n.oR.error(e,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}))}))}},children:[(0,b.jsx)(r.sK,{gutter:16,children:(0,b.jsxs)(r.UF,{sm:3,span:6,children:[(0,b.jsxs)("div",{className:"label-field-container",children:[(0,b.jsxs)(r.A6,{className:"form-label text-c",htmlFor:"validationCustom01",children:["Business",(0,b.jsx)("span",{className:"red-text1",style:{marginLeft:"5px"},children:"*"})]}),(0,b.jsx)(d.A,{variant:"borderless",maxLength:48,type:"text",className:"border-0 time-border-bottom  des-box  ",placeholder:"Enter Designation",value:c,onChange:e=>{const{value:s}=e.target;(/^(?!^\s)[A-Za-z\s-]*[A-Za-z][A-Za-z\s-]*$/.test(s)||""===s)&&h(s)}})]}),(0,b.jsx)("span",{className:"text-danger nameflow-error ",children:v.business})]})}),(0,b.jsx)("div",{style:{position:"absolute",left:0,right:"17px"},children:(0,b.jsxs)(r.sK,{className:"m-3",children:[(0,b.jsx)(r.UF,{sm:6}),(0,b.jsxs)(r.UF,{sm:6,className:"d-flex justify-content-end align-items-center",children:[(0,b.jsx)(r.Q_,{className:"cancel-btn text-c",onClick:s,children:"Cancel"}),(0,b.jsx)(p.Ay,{className:"Edit_update_changes ",style:{fontSize:"13px",color:"white"},htmlType:"submit",loading:m,children:"Update"})]})]})})]})})]})]})})},{confirm:O}=i.A,R=()=>{let e=(0,g.A)();const[s,t]=(0,a.useState)([]),[i,p]=(0,a.useState)([]),[u,f]=(0,a.useState)(""),[y,N]=(0,a.useState)(!1),[A,S]=(0,a.useState)(!1),[k,R]=(0,a.useState)(null),D=(0,a.useRef)(""),[_,P]=(0,a.useState)(!0),[F,M]=(0,a.useState)(new AbortController),U=(0,a.useRef)(null),E=(0,a.useRef)(!0),L=(0,a.useRef)(0),B=(0,a.useRef)(!1),[H,z]=(0,a.useState)(!1);(0,a.useEffect)((()=>{y||A||(E.current=!0,K())}),[y,A]);const J=e=>{if(e){const e=s.map((e=>e.id));p(e),f("".concat(e.length," Selected"))}else p([]),f("")},G=(e,s)=>{p(s?s=>{const t=[...s,e];return f("".concat(t.length," Selected")),t}:s=>{const t=s.filter((s=>s!==e));return f(t.length>0?"".concat(t.length," Selected"):""),t})},Z=()=>{L.current=0,D.current="",B.current=!1,S(!1)},q=()=>{L.current=0,D.current="",B.current=!1,N(!1)},K=async()=>{var s;let a;0===L.current&&(P(!0),t([]),F.abort(),a=new AbortController,M(a));const r="master/bussiness/list?page=".concat(L.current,"&size=10&search=").concat(B.current,"&value=").concat(D.current);await e.get(r,{headers:(0,l.dJ)("json"),signal:null===(s=a)||void 0===s?void 0:s.signal}).then((e=>{const s=e.data.data.content;0===L.current?t(s):t((e=>{const t=new Set(e.map((e=>e.id))),a=s.filter((e=>!t.has(e.id)));return[...e,...a]})),s.length<10&&(E.current=!1),L.current=L.current+1,P(!1)})).catch((e=>{}))},Y=()=>{N(!0)},V=async s=>{const t="master/bussiness/byid/"+s;e.get(t,{headers:(0,l.dJ)("json")}).then((e=>{const s=e.data.data;R(s),S(!0)})).catch((e=>{}))},X=s=>{O({title:"Delete Business",content:"Are you sure to delete this Business ?",icon:(0,b.jsx)(w.A,{}),okText:"Yes",okType:"danger",cancelButtonProps:{style:{borderColor:"#f54550",color:"black"}},closable:!0,okButtonProps:{style:{borderColor:"#f54550",color:"white",backgroundColor:"#f54550"}},cancelText:"No",async onOk(){try{await(async s=>{const t="master/bussiness/delete/"+s;return new Promise(((s,a)=>{setTimeout((()=>{e.delete(t,{headers:(0,l.dJ)("json")}).then((e=>{L.current=0,D.current="",B.current=!1,K(),f(""),p([]),s(e)})).catch((e=>{a(e)}))}),1e3)}))})(s),n.oR.success("Business Deleted Successfully",{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}catch(t){n.oR.error("Deletion failed",{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}},onCancel(){W()}})},W=()=>{p([]),f("")},Q=u?[{title:(0,b.jsx)(c.A,{className:"checkbox_design",checked:i.length===s.length&&s.length,onChange:e=>J(e.target.checked)}),dataIndex:"checkbox",key:"checkbox",width:"3%",align:"center",render:(e,s)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:(0,b.jsx)(c.A,{className:"checkbox_design",checked:i.includes(s.id),onChange:e=>G(s.id,e.target.checked)})},{title:(0,b.jsx)("span",{style:{color:"#f50505"},children:u}),dataIndex:"index",key:"index",width:"5%",align:"center",render:(e,s,t)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:t+1},{title:"",dataIndex:"name",key:"name",width:"35%",render:(e,s,t)=>"noMoreData"===s.key?(z(!0),{children:(0,b.jsx)("div",{style:{textAlign:"center"},children:(0,b.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),props:{colSpan:4}}):(0,b.jsx)("span",{className:"designation-row-name",children:e})},{title:(0,b.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,b.jsx)("button",{type:"button",className:"action-view cross-button",onClick:()=>X(i),style:{padding:"4px 8px"},children:(0,b.jsx)(x.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#e40e2d"})})}),dataIndex:"action",key:"action",width:"5%",align:"center",render:(e,s)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,b.jsx)("button",{type:"button",className:"action-view  edit-button mx-1",style:{padding:"4px 8px"},onClick:()=>V(s.id),children:(0,b.jsx)(m.A,{width:"13",height:"13",viewBox:"0 0 18 18",fill:"none",color:"white",clipH:"18",clipW:"18"})}),(0,b.jsx)("button",{type:"button",className:"action-view cross-button mx-1",style:{padding:"4px 8px"},onClick:u?null:()=>X(s.id),children:(0,b.jsx)(x.A,{width:"14",height:"13",viewBox:"0 0 18 18",fill:"#A5A1A1"})})]})}]:[{title:(0,b.jsx)(c.A,{onChange:e=>J(e.target.checked)}),dataIndex:"checkbox",key:"checkbox",width:"3%",align:"center",render:(e,s)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:(0,b.jsx)(c.A,{className:"checkbox_design",checked:i.includes(s.id),onChange:e=>G(s.id,e.target.checked)})},{title:"SI.No",dataIndex:"index",key:"index",width:"5%",align:"center",render:(e,s,t)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:t+1},{title:"Business",dataIndex:"name",key:"name",width:"35%",render:(e,s,t)=>(console.log(s.key,"record.key"),"noMoreData"===s.key?(z(!0),{children:(0,b.jsx)("div",{style:{textAlign:"center"},children:(0,b.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),props:{colSpan:4}}):(0,b.jsx)("span",{className:"designation-row-name",children:e}))},{title:"Action",dataIndex:"action",key:"action",width:"5%",align:"center",render:(e,s)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,b.jsx)("button",{type:"button",className:"action-view  edit-button mx-1",style:{padding:"4px 8px"},onClick:()=>V(s.id),children:(0,b.jsx)(m.A,{width:"13",height:"13",viewBox:"0 0 18 18",fill:"none",color:"white",clipH:"18",clipW:"18"})}),(0,b.jsx)("button",{type:"button",className:"action-view cross-button mx-1",style:{padding:"4px 8px"},onClick:u?null:()=>X(s.id),children:(0,b.jsx)(x.A,{width:"14",height:"13",viewBox:"0 0 18 18",fill:"#A5A1A1"})})]})}],$=[...s.map(((e,s)=>({key:e.id,id:e.id,index:s+1,name:e.name})))];let ee;!E.current&&0!==$.length&&$.length>10&&$.push({key:"noMoreData",index:"",name:"No more Data to load",checkbox:"",action:""}),ee=y?(0,b.jsx)(T,{close:q}):A?(0,b.jsx)(I,{close:Z,viewBusiness:k}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(r.sK,{className:"mt-3 user-master-header",children:[(0,b.jsxs)(r.UF,{sm:8,children:[(0,b.jsx)("b",{style:{paddingLeft:"30px"},children:"Business Master"}),(0,b.jsx)("br",{}),(0,b.jsx)(o.A,{style:{paddingLeft:"30px"},className:"bread-tab",separator:(0,b.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,b.jsx)(j.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,b.jsx)("span",{className:"text-secondary ",style:{cursor:"default"},children:"Business Master"})}]})]}),(0,b.jsxs)(r.UF,{sm:2,children:[" ",(0,b.jsx)("div",{style:{width:"90%",marginRight:"20px"},className:"mt-1 des-mas",children:(0,b.jsx)(d.A,{placeholder:"Search",variant:"borderless",className:"border-0 time-border-bottom ",onChange:e=>{return s=e.target.value,L.current=0,E.current=!0,D.current=s,B.current=!0,""===s&&(B.current=!1),void K();var s},prefix:(0,b.jsx)("img",{src:v,alt:"Search",className:"search-icon",style:{width:"14px",height:"14px"}})})})]}),(0,b.jsx)(r.UF,{sm:2,children:(0,b.jsxs)("button",{className:"bus-createflow-button button-clr",type:"button",onClick:Y,children:[(0,b.jsx)("span",{className:"plus-lable",children:"+"})," Add Business"]})})]}),(0,b.jsxs)("div",{className:"mt-2 design_table",children:[(0,b.jsx)("style",{children:"\n            .design_table .ant-table-wrapper .ant-table-thead > tr > th {\n              background-color: ".concat(u?"#ffa5b240 !important":"",";\n            }\n          ")}),(0,b.jsx)(h.A,{columns:Q,dataSource:$,className:"".concat(H?"last-row-table":""),size:"middle",rowKey:"id",pagination:!1,scroll:{y:490},loading:{spinning:_,indicator:(0,b.jsx)(r.JT,{color:"danger"})}})]})]});const se=(0,a.useCallback)(C()((()=>{if(!U.current)return;const{scrollTop:e,scrollHeight:s,clientHeight:t}=U.current;e+t>=s-10&&E.current&&!_&&(P(!0),E.current&&K())}),100),[E.current,_]);return(0,a.useEffect)((()=>{const e=document.querySelector(".design_table .ant-table-body");return e&&(U.current=e,e.addEventListener("scroll",se)),()=>{e&&e.removeEventListener("scroll",se)}}),[se]),ee};var D=t(17944);const _=e=>{let{close:s}=e,t=(0,g.A)();const[i,c]=(0,a.useState)(!1),[h,m]=(0,a.useState)(""),[f,y]=(0,a.useState)([{}]),[N,v]=(0,a.useState)([""]),w=(0,a.useRef)(null),[A,C]=(0,a.useState)({task:"",activity:[]}),[S,k]=(0,a.useState)(!1),[T,I]=(0,a.useState)([!0]),[O,R]=(0,a.useState)([!0]);(0,a.useEffect)((()=>{const e=Array.from({length:N.length},(()=>!0));R(e)}),[N]);(0,a.useEffect)((()=>{}),[]);const _=()=>{m(""),v([""]),s()},P=e=>{y([...f,{}]),v([...N,""]),C((e=>({...e,activity:[...e.activity,""]}))),I((()=>O.map(((e,s)=>!1))))},F=e=>{0!==e&&(y((s=>{const t=[...s];return t.splice(e,1),t})),v((s=>{const t=[...s];return t.splice(e,1),t})),C((s=>{const t={...s};return t.activity.splice(e,1),t}))),I((s=>{const t=[...s];return t[e-1]=!0,t}))};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(r.sK,{children:[(0,b.jsx)(r.UF,{sm:2,style:{width:"26px",display:"flex",marginLeft:"17px",marginTop:"40px"},children:(0,b.jsx)("span",{style:{cursor:"pointer"},onClick:s,children:(0,b.jsx)(u.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})}),(0,b.jsxs)(r.UF,{children:[(0,b.jsx)("h6",{className:"Add_draft-heading",style:{marginTop:"29px"},children:"Add Task Activity"}),(0,b.jsx)(o.A,{className:"bread-tab",separator:(0,b.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,b.jsx)(j.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,b.jsx)("span",{className:"bread-items text-secondary second-subheading",style:{cursor:"pointer"},onClick:_,children:"Task Activity Master"})},{title:(0,b.jsx)("span",{className:"text-secondary second-subheading",style:{cursor:"default"},children:"Add Task Activity"})}]}),(0,b.jsx)(r.UF,{xs:8,className:"",style:{width:"100%"},children:(0,b.jsxs)(r.qI,{className:"mt-4  needs-validation",ref:w,validated:i,onSubmit:async(e,s)=>{e.preventDefault();const a=e.currentTarget,r=(()=>{const e={task:"",activity:Array.from({length:f.length},(()=>""))};return""===h&&(e.task="Please Enter Task"),N.forEach(((s,t)=>{""===s&&(e.activity[t]="Please Enter Activity")})),C(e),!(Object.values(e.activity).some((e=>""!==e))||""!==e.task)})();if(r)if(!1===a.checkValidity())e.preventDefault(),e.stopPropagation(),c(!0);else{const e=new FormData;e.append("groupName",h),e.append("category",N),k(!0);const s="master/taskcategory/create";await t.post(s,e,{headers:(0,l.dJ)("multi")}).then((e=>{k(!1),208===e.status?n.oR.error(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}):(n.oR.success(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),w.current&&w.current.reset(),_())})).catch((e=>{k(!1);const s=e.response.data;s?n.oR.error(s.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}):n.oR.error(e,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}))}},children:[(0,b.jsx)("div",{className:"activity_overflow",children:(0,b.jsxs)(r.sK,{children:[(0,b.jsxs)(r.UF,{sm:3,children:[(0,b.jsxs)("div",{className:"label-field-container",children:[(0,b.jsxs)(r.A6,{className:"form-label text-c",htmlFor:"validationCustom01",children:["Group Name"," ",(0,b.jsx)("span",{className:"red-text1",style:{marginLeft:"5px"},children:"*"})]}),(0,b.jsx)(d.A,{style:{marginTop:"10px",width:"90%"},variant:"borderless",maxLength:48,className:"border-0 time-border-bottom  ",placeholder:"Enter Task",value:h,onChange:e=>{const{value:s}=e.target;(/^(?!^\s)[A-Za-z\s\-&/]*[A-Za-z][A-Za-z\s\-&/]*$/.test(s)||""===s)&&m(s)}})]}),(0,b.jsx)("span",{className:"text-danger nameflow-error",children:A.task})," "]}),f.map(((e,s)=>(0,b.jsxs)(a.Fragment,{children:[(0,b.jsxs)(r.UF,{sm:2,children:[(0,b.jsxs)("div",{className:"label-field-container",children:[(0,b.jsxs)(r.A6,{className:"form-label text-c",htmlFor:"validationCustom01",children:["Activity"," ",(0,b.jsx)("span",{className:"red-text1",style:{marginLeft:"5px"},children:"*"})]}),(0,b.jsx)(d.A,{style:{marginTop:"10px"},variant:"borderless",className:"border-0 time-border-bottom  ",type:"text",maxLength:48,id:"validationCustom".concat(s+1),placeholder:"Enter Activity",value:N[s],onChange:e=>{const t=e?e.target.value:"";if(/^(?!^\s)[A-Za-z\s\-&/]*[A-Za-z][A-Za-z\s\-&/]*$/.test(t)||""===t){const e=[...N];e[s]=t,v(e)}}})]}),(0,b.jsx)("span",{className:"text-danger nameflow-error",children:A.activity[s]})," "]}),(0,b.jsx)(r.UF,{sm:1,className:"my-4",children:(0,b.jsx)("div",{className:"label-field-container",children:0!==s?(0,b.jsxs)("div",{style:{display:"flex",width:"60px",justifyContent:"space-around"},children:[" ",!1===T[s]?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("button",{style:{marginRight:"40px"},className:"text-decoration-none border-0  delete_svg",type:"button",onClick:()=>F(s),children:(0,b.jsx)(x.A,{width:"15",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("button",{className:"text-decoration-none border-0 plus_svg",onClick:()=>P(),type:"button",children:[" ",(0,b.jsx)(D.A,{width:"8",height:"12",viewBox:"0 0 18 18",fill:"#A5A1A1"})]}),(0,b.jsx)("button",{className:"text-decoration-none border-0  delete_svg",type:"button",onClick:()=>F(s),children:(0,b.jsx)(x.A,{width:"12",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})]})]}):(0,b.jsx)(b.Fragment,{children:T[0]?(0,b.jsxs)("button",{className:"text-decoration-none border-0 plus_svg",onClick:()=>P(),type:"button",children:[" ",(0,b.jsx)(D.A,{width:"8",height:"12",viewBox:"0 0 18 18",fill:"#A5A1A1"})]}):""})})})]},s)))]})}),(0,b.jsx)("div",{style:{position:"absolute",left:0,right:"17px"},children:(0,b.jsxs)(r.sK,{className:"m-3",children:[(0,b.jsx)(r.UF,{sm:6}),(0,b.jsxs)(r.UF,{sm:6,className:"d-flex justify-content-end align-items-center",children:[(0,b.jsx)(r.Q_,{className:"cancel-btn text-c",onClick:s,children:"Cancel"}),(0,b.jsx)(p.Ay,{className:" Edit_save_changes",style:{fontSize:"13px",color:"white"},htmlType:"submit",loading:S,children:"Submit"})]})]})})]})})]})]})})},P=e=>{let{close:s,viewTask:t}=e,i=(0,g.A)();const[c,h]=(0,a.useState)(!1),[m,f]=(0,a.useState)(t.groupName),[y,N]=(0,a.useState)(t.categories),[v,w]=(0,a.useState)(t.categories),A=(0,a.useRef)(null),[C,S]=(0,a.useState)({task:"",activity:[]}),[k,T]=(0,a.useState)(!1),[I,O]=(0,a.useState)([!1]),[R,_]=(0,a.useState)([!0]);(0,a.useEffect)((()=>{const e=Array.from({length:v.length},(()=>!0)),s=Array.from({length:v.length},(()=>!1));_(e),v.length>0&&(s[v.length-1]=!0),O(s)}),[v]);(0,a.useEffect)((()=>{}),[]);const P=()=>{f(""),w([""]),s()},F=e=>{N([...y,{}]),w([...v,""]),S((e=>({...e,activity:[...e.activity,""]}))),O((()=>R.map(((e,s)=>!1))))},M=e=>{0!==e&&(N((s=>{const t=[...s];return t.splice(e,1),t})),w((s=>{const t=[...s];return t.splice(e,1),t})),S((s=>{const t={...s};return t.activity.splice(e,1),t}))),O((s=>{const t=[...s];return t[e-1]=!0,t}))};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(r.sK,{children:[(0,b.jsx)(r.UF,{sm:2,style:{width:"26px",display:"flex",marginLeft:"17px",marginTop:"40px"},children:(0,b.jsx)("span",{style:{cursor:"pointer"},onClick:s,children:(0,b.jsx)(u.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})}),(0,b.jsxs)(r.UF,{children:[(0,b.jsx)("h6",{className:"draft-heading",style:{marginTop:"29px"},children:"Edit Task Activity"}),(0,b.jsx)(o.A,{className:"bread-tab",separator:(0,b.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,b.jsx)(j.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary first-subheading",children:"Dashboard"})},{title:(0,b.jsx)("span",{className:"bread-items text-secondary second-subheading",style:{cursor:"pointer"},onClick:P,children:"Task Activity Master"})},{title:(0,b.jsx)("span",{className:"text-secondary second-subheading",style:{cursor:"default"},children:"Edit Task Activity"})}]}),(0,b.jsx)(r.UF,{xs:12,className:"",style:{marginLeft:"22px",width:"100%"},children:(0,b.jsxs)(r.qI,{className:"mt-4  needs-validation",ref:A,validated:c,onSubmit:async(e,s)=>{e.preventDefault();const a=e.currentTarget,r=(()=>{const e={task:"",activity:Array.from({length:y.length},(()=>""))};return""===m&&(e.task="Please Enter Task"),v.forEach(((s,t)=>{""===s&&(e.activity[t]="Please Enter Activity")})),S(e),!(Object.values(e.activity).some((e=>""!==e))||""!==e.task)})();if(r)if(!1===a.checkValidity())e.preventDefault(),e.stopPropagation(),h(!0);else{const e=new FormData;e.append("groupName",m),e.append("category",v),T(!0);const s="master/taskcategory/update/"+t.id;await i.put(s,e,{headers:(0,l.dJ)("multi")}).then((e=>{T(!1),208===e.status?n.oR.error(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}):(n.oR.success(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),A.current&&A.current.reset(),P())})).catch((e=>{T(!1);const s=e.response.data;s?n.oR.error(s.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}):n.oR.error(e,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}))}},children:[(0,b.jsx)("div",{className:"activity_overflow",children:(0,b.jsxs)(r.sK,{gutter:16,children:[(0,b.jsxs)(r.UF,{sm:3,span:6,children:[(0,b.jsxs)("div",{className:"label-field-container",children:[(0,b.jsxs)(r.A6,{className:"form-label text-c",htmlFor:"validationCustom01",children:["GroupName"," ",(0,b.jsx)("span",{className:"red-text1",style:{marginLeft:"5px"},children:"*"})]}),(0,b.jsx)(d.A,{style:{width:"95%"},variant:"borderless",maxLength:48,className:"border-0 time-border-bottom",placeholder:"Enter Task",value:m,onChange:e=>{const{value:s}=e.target;(/^(?!^\s)[A-Za-z\s\-&/]*[A-Za-z][A-Za-z\s\-&/]*$/.test(s)||""===s)&&f(s)}})]}),(0,b.jsx)("span",{className:"text-danger nameflow-error",children:C.task})," "]}),y.map(((e,s)=>(0,b.jsxs)(a.Fragment,{children:[(0,b.jsxs)(r.UF,{sm:2,children:[(0,b.jsxs)("div",{className:"label-field-container",children:[(0,b.jsxs)(r.A6,{className:"form-label text-c",htmlFor:"validationCustom01",children:["Activity"," ",(0,b.jsx)("span",{className:"red-text1",style:{marginLeft:"5px"},children:"*"})]}),(0,b.jsx)(d.A,{variant:"borderless",className:"border-0 time-border-bottom",type:"text",maxLength:48,id:"validationCustom".concat(s+1),placeholder:"Enter Activity",value:v[s],onChange:e=>{const t=e?e.target.value:"";if(/^(?!^\s)[A-Za-z\s\-&/]*[A-Za-z][A-Za-z\s\-&/]*$/.test(t)||""===t){const e=[...v];e[s]=t,w(e)}}})]}),(0,b.jsx)("span",{className:"text-danger nameflow-error",children:C.activity[s]})," "]}),(0,b.jsx)(r.UF,{sm:1,className:"my-4",children:(0,b.jsx)("div",{className:"label-field-container",children:0!==s?(0,b.jsxs)("div",{style:{display:"flex",width:"20px"},children:[" ",!1===I[s]?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("button",{className:"text-decoration-none border-0  d-flex delete_svg",type:"button",onClick:()=>M(s),children:(0,b.jsx)(x.A,{width:"12",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("button",{className:"text-decoration-none border-0  d-flex plus_svg",type:"button",onClick:()=>F(),children:[" ",(0,b.jsx)(D.A,{width:"8",height:"12",viewBox:"0 0 18 18",fill:"#A5A1A1"})]}),(0,b.jsx)("button",{className:"text-decoration-none border-0  d-flex delete_svg",type:"button",onClick:()=>M(s),children:(0,b.jsx)(x.A,{width:"12",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})]})]}):(0,b.jsx)(b.Fragment,{children:I[0]?(0,b.jsxs)("button",{className:"text-decoration-none border-0  d-flex plus_svg",type:"button",onClick:()=>F(),children:[" ",(0,b.jsx)(D.A,{width:"8",height:"12",viewBox:"0 0 18 18",fill:"#A5A1A1"})]}):""})})})]},s)))]})}),(0,b.jsx)("div",{style:{position:"absolute",left:0,right:"17px"},children:(0,b.jsxs)(r.sK,{className:"m-3",children:[(0,b.jsx)(r.UF,{sm:6}),(0,b.jsxs)(r.UF,{sm:6,className:"d-flex justify-content-end align-items-center",children:[(0,b.jsx)(r.Q_,{className:"cancel-btn text-c",onClick:s,children:"Cancel"}),(0,b.jsx)(p.Ay,{className:" Edit_save_changes",style:{fontSize:"13px",color:"white"},htmlType:"submit",loading:k,children:"Update"})]})]})})]})})]})]})})};var F=t(25589),M=t(74668);const U=e=>{let{close:s,viewDesignation:t,viewTask:i}=e,c=(0,g.A)();const d=(0,a.useRef)(null),[h,m]=(0,a.useState)([]),[x,f]=(0,a.useState)(!1),[y,N]=(0,a.useState)({designationError:""});(0,a.useEffect)((()=>{if(i){const e=i.designations;if(e){const s=e.map((e=>{var s;return{value:e,label:(null===(s=t.find((s=>s.id===e)))||void 0===s?void 0:s.name)||""}}));m(s)}}}),[i]);const v=()=>{s()},w=[...t.map((e=>({value:e.id,label:e.name})))];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(r.sK,{children:[(0,b.jsx)(r.UF,{sm:2,style:{width:"26px",display:"flex",marginLeft:"17px",marginTop:"40px"},children:(0,b.jsx)("span",{style:{cursor:"pointer"},onClick:s,children:(0,b.jsx)(u.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})}),(0,b.jsxs)(r.UF,{children:[(0,b.jsx)("h6",{className:"draft-heading",style:{marginTop:"29px"},children:"Designation Mapping"}),(0,b.jsx)(o.A,{className:"bread-tab",separator:(0,b.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,b.jsx)(j.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary first-subheading",children:"Dashboard"})},{title:(0,b.jsx)("span",{className:"bread-items text-secondary second-subheading",style:{cursor:"pointer"},onClick:v,children:"Task Activity Master"})},{title:(0,b.jsx)("span",{className:"text-secondary second-subheading",style:{cursor:"default"},children:"Designation Mapping"})}]})]})]}),(0,b.jsx)(r.sK,{children:(0,b.jsx)(r.UF,{xs:12,className:"",style:{marginLeft:"63px",width:"100%"},children:(0,b.jsxs)(r.qI,{className:"mt-4  needs-validation",ref:d,onSubmit:async()=>{const e=(()=>{const e={designationError:""};return 0===h.length&&(e.designationError="Please Select Designation"),N(e),!(""!==e.designationError)})();if(e){f(!0);const e="master/taskcategory/map/designation?groupId=".concat(i.id,"&roleId=").concat(h);c.post(e,null,{headers:(0,l.dJ)("json")}).then((e=>{!0===e.data.status&&(n.oR.success("Designation Mapped SuccesFully",{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),f(!1),v())})).catch((e=>{f(!1),n.oR.error("Error fetching data",{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}))}},children:[(0,b.jsx)("div",{className:"activity_overflow",children:(0,b.jsx)(r.sK,{gutter:16,children:(0,b.jsxs)(r.UF,{sm:3,span:6,children:[(0,b.jsxs)("div",{className:"label-field-container",children:[(0,b.jsx)(r.A6,{className:"form-label text-c",htmlFor:"validationCustom01",children:"Designation"}),(0,b.jsx)(F.A,{suffixIcon:(0,b.jsx)("img",{src:M,alt:"Downarrowimg",style:{width:"12px",height:"7px"}}),className:"form-custom-selects",value:h,onChange:e=>{m(e)},showSearch:!0,placeholder:"Choose Designation",mode:"multiple",allowClear:!0,options:w,filterOption:(e,s)=>s.label.toLowerCase().indexOf(e.toLowerCase())>=0})]}),(0,b.jsx)("span",{className:"text-danger nameflow-error",children:y.designationError})]})})}),(0,b.jsx)("div",{style:{position:"absolute",left:0,right:"17px"},children:(0,b.jsxs)(r.sK,{className:"m-3",children:[(0,b.jsx)(r.UF,{sm:6}),(0,b.jsxs)(r.UF,{sm:6,className:"d-flex justify-content-end align-items-center",children:[(0,b.jsx)(r.Q_,{className:"cancel-btn text-c",onClick:s,children:"Cancel"}),(0,b.jsx)(p.Ay,{className:"Edit_save_changes",style:{fontSize:"13px",color:"white"},htmlType:"submit",loading:x,children:"Submit"})]})]})})]})})})]})},{confirm:E}=i.A,L=()=>{let e=(0,g.A)();const[s,t]=(0,a.useState)([]),[i,p]=(0,a.useState)([]),[u,f]=(0,a.useState)(""),[y,N]=(0,a.useState)(!1),[A,S]=(0,a.useState)(!1),[k,T]=(0,a.useState)(null),[I,O]=(0,a.useState)(!1),[R,F]=(0,a.useState)([]),M=(0,a.useRef)(""),[L,B]=(0,a.useState)(!0),[H,z]=(0,a.useState)(new AbortController),J=(0,a.useRef)(null),G=(0,a.useRef)(!0),Z=(0,a.useRef)(0),q=(0,a.useRef)(!1),[K,Y]=(0,a.useState)(!1);(0,a.useEffect)((()=>{y||A||(G.current=!0,ee())}),[y,A]);const V=e=>{if(e){const e=s.map((e=>e.id));p(e),f("".concat(e.length," Selected"))}else p([]),f("")},X=(e,s)=>{p(s?s=>{const t=[...s,e];return f("".concat(t.length," Selected")),t}:s=>{const t=s.filter((s=>s!==e));return f(t.length>0?"".concat(t.length," Selected"):""),t})},W=()=>{S(!1),Z.current=0,M.current="",q.current=!1},Q=()=>{N(!1),Z.current=0,M.current="",q.current=!1},$=()=>{Z.current=0,M.current="",q.current=!1,O(!1)},ee=async()=>{var s;let a;0===Z.current&&(B(!0),t([]),H.abort(),a=new AbortController,z(a));const r="master/taskcategory/list?page=".concat(Z.current,"&size=10&search=").concat(q.current,"&value=").concat(M.current);await e.get(r,{headers:(0,l.dJ)("json"),signal:null===(s=a)||void 0===s?void 0:s.signal}).then((e=>{const s=e.data.data.content;0===Z.current?t(s):t((e=>{const t=new Set(e.map((e=>e.id))),a=s.filter((e=>!t.has(e.id)));return[...e,...a]})),s.length<10&&(G.current=!1),Z.current=Z.current+1,B(!1)})).catch((e=>{}))},se=()=>{N(!0)},te=async s=>{const t="master/taskcategory/roles/"+s;e.get(t,{headers:(0,l.dJ)("json")}).then((e=>{const s=e.data.data;F(s),O(!0)})).catch((e=>{}))},ae=async s=>{const t="master/taskcategory/byid/"+s;e.get(t,{headers:(0,l.dJ)("json")}).then((e=>{T(e.data.data)})).catch((e=>{}))},re=async s=>{const t="master/taskcategory/byid/"+s;e.get(t,{headers:(0,l.dJ)("json")}).then((e=>{const s=e.data.data;T(s),S(!0)})).catch((e=>{}))},ne=s=>{E({title:"Delete Task Activity",content:"Are you sure to delete this Task Activity ?",icon:(0,b.jsx)(w.A,{}),okText:"Yes",okType:"danger",cancelButtonProps:{style:{borderColor:"#f54550",color:"black"}},closable:!0,okButtonProps:{style:{borderColor:"#f54550",color:"white",backgroundColor:"#f54550"}},cancelText:"No",async onOk(){try{await(async s=>{const t="master/taskcategory/delete/"+s;return new Promise(((s,a)=>{setTimeout((()=>{e.delete(t,{headers:(0,l.dJ)("json")}).then((e=>{Z.current=0,M.current="",q.current=!1,ee(),f(""),p([]),s(e)})).catch((e=>{a(e)}))}),1e3)}))})(s),n.oR.success("Task Activity Deleted Successfully",{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}catch(t){n.oR.error("Deletion failed",{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}},onCancel(){le()}})},le=()=>{p([]),f("")},ie=(e,s)=>{const t=e;return t.length>s?"".concat(t.substring(0,s),"..."):t},ce=u?[{title:(0,b.jsx)(c.A,{className:"checkbox_design",checked:i.length===s.length&&s.length,onChange:e=>V(e.target.checked)}),dataIndex:"checkbox",key:"checkbox",width:"3%",align:"center",render:(e,s)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:(0,b.jsx)(c.A,{className:"checkbox_design",checked:i.includes(s.id),onChange:e=>X(s.id,e.target.checked)})},{title:(0,b.jsx)("span",{style:{color:"#f50505"},children:u}),dataIndex:"index",key:"index",width:"5%",align:"center",render:(e,s,t)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:t+1},{title:"",dataIndex:"groupName",key:"groupName",width:"35%",render:(e,s,t)=>"noMoreData"===s.key?{children:(0,b.jsx)("div",{style:{textAlign:"center"},children:(0,b.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),props:{colSpan:5}}:ie(e,100)},{title:"Activity",dataIndex:"category",key:"category",width:"35%",render:(e,s,t)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:ie(e,100)},{title:(0,b.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,b.jsx)("button",{type:"button",className:"action-view cross-button",onClick:()=>ne(i),style:{padding:"4px 8px"},children:(0,b.jsx)(x.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#e40e2d"})})}),dataIndex:"action",key:"action",width:"5%",align:"center",render:(e,s)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,b.jsx)("button",{type:"button",className:"action-view  edit-button mx-1",style:{padding:"4px 8px"},onClick:()=>re(s.id),children:(0,b.jsx)(m.A,{width:"13",height:"13",viewBox:"0 0 18 18",fill:"none",color:"white",clipH:"18",clipW:"18"})}),(0,b.jsx)("button",{type:"button",style:{padding:"4px 8px"},className:"action-view check-button mx-1",onClick:()=>{te(s.id),ae(s.id)},children:(0,b.jsx)(D.A,{width:"13",height:"12",viewBox:"0 0 18 18",fill:"#A5A1A1"})}),(0,b.jsx)("button",{type:"button",className:"action-view cross-button mx-1",style:{padding:"4px 8px"},onClick:u?null:()=>ne(s.id),children:(0,b.jsx)(x.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})]})}]:[{title:(0,b.jsx)(c.A,{onChange:e=>V(e.target.checked)}),dataIndex:"checkbox",key:"checkbox",width:"3%",align:"center",render:(e,s)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:(0,b.jsx)(c.A,{className:"checkbox_design",checked:i.includes(s.id),onChange:e=>X(s.id,e.target.checked)})},{title:"SI.No",dataIndex:"index",key:"index",width:"5%",align:"center",render:(e,s,t)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:t+1},{title:"Group Name",dataIndex:"groupName",key:"groupName",width:"15%",render:(e,s,t)=>(console.log(s.key,"record.key"),"noMoreData"===s.key?(Y(!0),{children:(0,b.jsx)("div",{style:{textAlign:"center"},children:(0,b.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),props:{colSpan:5}}):ie(e,100))},{title:"Activity",dataIndex:"category",key:"category",width:"35%",render:(e,s,t)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:ie(e,100)},{title:"Action",dataIndex:"action",key:"action",width:"8%",align:"center",render:(e,s)=>"noMoreData"===s.key?{children:null,props:{colSpan:0}}:(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,b.jsx)("button",{type:"button",className:"action-view  edit-button mx-1",style:{padding:"4px 8px"},onClick:()=>re(s.id),children:(0,b.jsx)(m.A,{width:"13",height:"13",viewBox:"0 0 18 18",fill:"none",color:"white",clipH:"18",clipW:"18"})}),(0,b.jsx)("button",{type:"button",style:{padding:"4px 8px"},className:"action-view check-button mx-1",onClick:()=>{te(s.id),ae(s.id)},children:(0,b.jsx)(D.A,{width:"13",height:"12",viewBox:"0 0 18 18",fill:"#A5A1A1"})}),(0,b.jsx)("button",{type:"button",className:"action-view cross-button mx-1",style:{padding:"4px 8px"},onClick:u?null:()=>ne(s.id),children:(0,b.jsx)(x.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})]})}],oe=[...s.map(((e,s)=>({key:e.id,id:e.id,index:s+1,category:e.category,groupName:e.groupName})))];let de;!G.current&&0!==oe.length&&oe.length>10&&oe.push({key:"noMoreData",index:"",groupName:"No more Data to load",category:"",checkbox:"",action:""}),de=y?(0,b.jsx)(_,{close:Q}):A?(0,b.jsx)(P,{close:W,viewTask:k}):I?(0,b.jsx)(U,{close:$,viewDesignation:R,viewTask:k}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(r.sK,{className:"mt-3 user-master-header",children:[(0,b.jsxs)(r.UF,{sm:8,children:[(0,b.jsx)("b",{style:{paddingLeft:"30px"},children:"Designation Master"}),(0,b.jsx)("br",{}),(0,b.jsx)(o.A,{style:{paddingLeft:"30px"},className:"bread-tab",separator:(0,b.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,b.jsx)(j.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,b.jsx)("span",{className:"text-secondary ",style:{cursor:"default"},children:"Designation Master"})}]})]}),(0,b.jsxs)(r.UF,{sm:2,children:[" ",(0,b.jsx)("div",{style:{width:"90%",marginRight:"20px"},className:"mt-1 des-mas",children:(0,b.jsx)(d.A,{placeholder:"Search",variant:"borderless",className:"border-0 time-border-bottom ",onChange:e=>{return s=e.target.value,Z.current=0,G.current=!0,M.current=s,q.current=!0,""===s&&(q.current=!1),void ee();var s},prefix:(0,b.jsx)("img",{src:v,alt:"Search",className:"search-icon",style:{width:"14px",height:"14px"}})})})]}),(0,b.jsx)(r.UF,{sm:2,children:(0,b.jsx)("div",{style:{width:"100%"},children:(0,b.jsxs)("button",{className:"createdesignation-button button-clr",type:"button",onClick:se,children:[(0,b.jsx)("span",{className:"plus-lable",children:"+"})," Add Designation"]})})})]}),(0,b.jsxs)("div",{className:"mt-2 design_table",children:[(0,b.jsx)("style",{children:"\n            .design_table .ant-table-wrapper .ant-table-thead > tr > th {\n              background-color: ".concat(u?"#ffa5b240 !important":"",";\n            }\n          ")}),(0,b.jsx)(h.A,{columns:ce,dataSource:oe,className:"".concat(K?"last-row-table":""),size:"middle",rowKey:"id",pagination:!1,scroll:{y:490},loading:{spinning:L,indicator:(0,b.jsx)(r.JT,{color:"danger"})}})]})]});const he=(0,a.useCallback)(C()((()=>{if(!J.current)return;const{scrollTop:e,scrollHeight:s,clientHeight:t}=J.current;e+t>=s-10&&G.current&&!L&&(B(!0),G.current&&ee())}),100),[G.current,L]);return(0,a.useEffect)((()=>{const e=document.querySelector(".design_table .ant-table-body");return e&&(J.current=e,e.addEventListener("scroll",he)),()=>{e&&e.removeEventListener("scroll",he)}}),[he]),de};var B=t(12624),H=t(25848);const z=e=>{let{width:s,height:t,fill:a,viewBox:r,color:n}=e;return(0,b.jsx)("svg",{width:s,height:t,viewBox:r,fill:a,xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)("circle",{cx:"5.3457",cy:"4.5",r:"4.5",fill:n})})};var J=t(59748),G=t(47419),Z=t(11645),q=t(61393),K=t(67515),Y=t(39591),V=t(89073),X=t(71586);const W=Math.PI/180;function Q(e){let{handleOpenModalBanner:s,handleCloseModalBanner:t,handledefaultprofic:l,handleprofilepicvalue:c}=e;const[o,d]=(0,a.useState)(l),h=(0,a.useRef)(null),m=(0,a.useRef)(null),[p,u]=(0,a.useState)(),[g,j]=(0,a.useState)(l),[f,y]=(0,a.useState)(""),[N,v]=(0,a.useState)(""),w=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=new URL(l).pathname,s=e.split("/");(async(e,s)=>{try{const t=await fetch(e);if(!t.ok)throw new Error("Failed to fetch image");const a=await t.blob(),r=new File([a],s,{type:a.type});v(r)}catch(t){}})(e,s[s.length-1])}),[]);var A,C,S;A=async()=>{null!==g&&void 0!==g&&g.width&&null!==g&&void 0!==g&&g.height&&m.current&&h.current&&async function(e,s,t){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const n=s.getContext("2d");if(!n)throw new Error("No 2d context");const l=e.naturalWidth/e.width,i=e.naturalHeight/e.height,c=window.devicePixelRatio;s.width=Math.floor(t.width*l*c),s.height=Math.floor(t.height*i*c),n.scale(c,c),n.imageSmoothingQuality="high";const o=t.x*l,d=t.y*i,h=r*W,m=e.naturalWidth/2,x=e.naturalHeight/2;n.save(),n.translate(-o,-d),n.translate(m,x),n.rotate(h),n.scale(a,a),n.translate(-m,-x),n.drawImage(e,0,0,e.naturalWidth,e.naturalHeight,0,0,e.naturalWidth,e.naturalHeight),n.restore()}(m.current,h.current,g,1,0)},C=100,S=[g,1,0],(0,a.useEffect)((()=>{const e=setTimeout((()=>{A.apply(void 0,S)}),C);return()=>{clearTimeout(e)}}),S);return(0,b.jsxs)(i.A,{visible:s,onCancel:t,style:{maxWidth:"1000px"},maskClosable:!1,size:"extra-small",footer:!1,className:"modal_width",children:[(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{style:{fontWeight:"700"},children:" Edit Profile Picture"}),(0,b.jsx)("button",{className:"btn-close invisible",type:"button",onClick:t})]}),(0,b.jsx)(V.A,{children:(0,b.jsx)(r.W6,{children:Boolean(o)?(0,b.jsx)(X.Ay,{crop:p,onChange:(e,s)=>u(s),onComplete:e=>j(e),aspect:1,children:(0,b.jsx)("img",{ref:m,alt:"Crop me",src:o,style:{transform:"scale(".concat(1,") rotate(").concat(0,"deg)"),height:"100%",width:"100%"},onLoad:function(e){{const{width:s,height:t}=e.currentTarget;u(function(e,s,t){return(0,X.ge)((0,X.dS)({unit:"%",width:80,height:80},t,e,s),e,s)}(s,t,1))}}})}):(0,b.jsx)("div",{style:{height:"154px",width:"200px",display:"flex",justifyContent:"center",alignItems:"center"},className:"text-center",children:(0,b.jsx)("b",{style:{marginLeft:"71px",fontSize:"14px"},children:" Add Profile"})})})}),(0,b.jsxs)(r.sK,{className:"mt-2",children:[(0,b.jsxs)(r.UF,{sm:10,children:[(0,b.jsxs)("div",{className:"input-group  custom-input-group custom_input_group",children:[(0,b.jsx)("input",{type:"text",value:N?N.name:"",readOnly:!0,name:"fieldName",className:"form-control border-0","aria-label":"Upload File","aria-describedby":"basic-addon1",style:{fontSize:"13px",fontWeight:"500"}}),(0,b.jsx)("div",{className:"input-group-append",children:(0,b.jsx)("button",{className:"browse input-group-text text-danger",onClick:()=>{w.current.click()},type:"button",children:"Choose File"})})]}),f&&(0,b.jsx)("div",{style:{color:"red"},children:f}),(0,b.jsx)("input",{type:"file",className:"file",ref:w,style:{display:"none"},accept:"image/png, image/jpeg, image/jpg",onChange:e=>{const s=e.target.files[0];v(s);const t=e.target;if(t.files&&t.files.length>0){const e=t.files[0];if(!e.type.startsWith("image/png")&&!e.type.startsWith("image/jpeg")&&!e.type.startsWith("image/jpg"))return d(""),u(void 0),y("Please select a PNG, JPG, or JPEG file."),void(t.value="");u(void 0);const s=new FileReader;s.addEventListener("load",(()=>d(s.result.toString()||""))),s.readAsDataURL(e),y("")}else y("Please select an image file.")}})]}),(0,b.jsx)(r.UF,{sm:1,children:(0,b.jsx)("button",{type:"button",className:"action-view cross-button",style:{marginTop:"5px"},onClick:()=>{d(""),w.current.value="",v("")},children:(0,b.jsx)(x.A,{width:"18",height:"18",viewBox:"0 0 18 18",fill:"red"})})})]}),(0,b.jsxs)(r.sK,{className:"mt-3",children:[(0,b.jsx)(r.UF,{sm:5}),(0,b.jsxs)(r.UF,{sm:12,className:"d-flex justify-content-end align-items-center",children:[(0,b.jsx)(r.Q_,{className:"cancel-btn text-c",onClick:t,style:{width:"100px",height:"44px",marginTop:"2px"},children:"Cancel"}),(0,b.jsx)(r.Q_,{className:"submit-button save_changes ",style:{fontSize:"13px",color:"white",marginTop:"-3px"},type:"button",onClick:async()=>{if(g&&m.current)try{const e=document.createElement("canvas"),s=m.current.naturalWidth/m.current.width,a=m.current.naturalHeight/m.current.height;e.width=g.width,e.height=g.height;const r=e.getContext("2d"),l=new Image;l.crossOrigin="anonymous",l.src=o,l.onload=()=>{r.drawImage(l,g.x*s,g.y*a,g.width*s,g.height*a,0,0,g.width,g.height),e.toBlob((e=>{const s=new File([e],"croppedImage.jpeg",{type:"image/jpeg"});c(s),n.oR.success("Profile Image Uploaded Successfully",{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),t()}),"image/jpeg")}}catch(e){n.oR.error("Profile Image Failed to Upload",{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}else c(""),n.oR.success("Profile Image Removed Successfully",{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),t()},children:"Update"})]})]})]})}var $=t(43003),ee=t(59354),se=t(60446),te=t.n(se);const{Option:ae}=F.A,re=e=>{let{close:s}=e,t=(0,g.A)();const i=(0,a.useRef)(null),[c,h]=(0,a.useState)([]),[m,x]=(0,a.useState)([]),[f,N]=(0,a.useState)([]),[v,w]=(0,a.useState)([]),[A,C]=(0,a.useState)(null),[S,k]=(0,a.useState)(""),[T,I]=(0,a.useState)(""),[O,R]=(0,a.useState)(Y),[D,_]=(0,a.useState)(!1),[P]=J.A.useForm(),[U,E]=(0,a.useState)(!1),L=(0,a.useRef)(null),[B,H]=(0,a.useState)(null);let z,V,X;z=Array.isArray(c)&&Array.isArray(m)?[...c,...m]:[],V=Array.isArray(f)&&Array.isArray(m)?[...f,...m]:[],X=Array.isArray(v)&&Array.isArray(m)?[...v,...m]:[];const W=z.map((e=>({value:e.userName,label:(0,b.jsxs)("div",{className:"select-options select-options-bg",children:[(0,b.jsx)("img",{src:e.profile_pic?l.ZX+e.profile_pic:Y,style:e.profile_pic?{width:"29px"}:{width:"39px"},alt:e.name,className:"img-flag"}),(0,b.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,b.jsx)("p",{className:"user-name1",title:e.name,children:e.name}),(0,b.jsx)("p",{className:"role-text1",children:e.role})]})]})}))),se=X.map((e=>({value:e.userName,label:(0,b.jsxs)("div",{className:"select-options select-options-bg",children:[(0,b.jsx)("img",{src:e.profile_pic?l.ZX+e.profile_pic:Y,style:e.profile_pic?{width:"29px"}:{width:"39px"},alt:e.name,className:"img-flag"}),(0,b.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,b.jsx)("p",{className:"user-name1",title:e.name,children:(0,$.MX)(e.name)}),(0,b.jsx)("p",{className:"role-text1",children:e.role})]})]})}))),re=V.map((e=>({value:e.userName,label:(0,b.jsxs)("div",{className:"select-options select-options-bg",children:[(0,b.jsx)("img",{src:e.profile_pic?l.ZX+e.profile_pic:Y,style:e.profile_pic?{width:"29px"}:{width:"39px"},alt:e.name,className:"img-flag"}),(0,b.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,b.jsx)("p",{className:"user-name1",title:e.name,children:(0,$.MX)(e.name)}),(0,b.jsx)("p",{className:"role-text1",children:e.role})]})]})}))),ne=async e=>{const s="master/employee/list/"+e;await t.get(s,{headers:(0,l.dJ)("json")}).then((e=>{const s=e.data.data;w(s)})).catch((e=>{}))};(0,a.useEffect)((()=>{ce(),(async()=>{t.get("common/tech_head",{headers:(0,l.dJ)("json")}).then((e=>{h(e.data.data)})).catch((e=>{}))})(),(async e=>{t.get("user/approval-user/list",{headers:(0,l.dJ)("json")}).then((e=>{x(e.data.data)})).catch((e=>{}))})(),(async()=>{t.get("common/prod_head",{headers:(0,l.dJ)("json")}).then((e=>{N(e.data.data)})).catch((e=>{}))})()}),[]);const[le,ie]=(0,a.useState)([]),ce=async()=>{await t.get("master/role/all-list",{headers:(0,l.dJ)("json")}).then((e=>{const s=e.data.data;ie(s)})).catch((e=>{}))},oe=()=>{s(),I(""),k(""),C(null),P.resetFields(),y.A.emit("callUserList")},de=()=>{_(!0)},he=le.map((e=>({value:e.id,label:e.name}))),me=te()("2024-05-01");return(0,b.jsxs)(r.sK,{children:[(0,b.jsxs)(r.UF,{sm:1,style:{width:"20px"},className:"cancle-arrow-content",children:[" ",(0,b.jsx)("span",{style:{cursor:"pointer",marginRight:"2px"},onClick:s,className:"back_arrow",children:(0,b.jsx)(u.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})]}),(0,b.jsxs)(r.UF,{children:[(0,b.jsx)("h6",{className:"draft-heading",style:{marginTop:"29px"},children:"Add User"}),(0,b.jsx)(o.A,{className:"bread-tab",separator:(0,b.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,b.jsx)(j.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary first-subheading",children:"Dashboard"})},{title:(0,b.jsx)("span",{className:"bread-items text-secondary second-subheading",style:{cursor:"pointer"},onClick:oe,children:"User Master"})},{title:(0,b.jsx)("span",{className:"text-secondary second-subheading",style:{cursor:"default"},children:"Add User"})}]}),D&&(0,b.jsx)(Q,{handleOpenModalBanner:de,handleCloseModalBanner:()=>{_(!1)},handledefaultprofic:O,handleprofilepicvalue:e=>{e?(C(e),R(URL.createObjectURL(e))):(C(Y),R(Y))}}),(0,b.jsxs)(J.A,{className:"mt-4 needs-validation",ref:i,form:P,layout:"vertical",onFinish:async e=>{E(!0);const s=new FormData;s.append("files",A),s.append("jod",B),Object.keys(e).forEach((t=>{if("nameValue"===t){let a=e[t].split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ");s.append("name",a)}else s.append(t,e[t])}));await t.post("master/employee/create",s,{headers:(0,l.dJ)("multi")}).then((e=>{E(!1),208===e.status?n.oR.error(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}):(n.oR.success(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),oe())})).catch((e=>{E(!1),n.oR.error(e,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}))},requiredMark:!1,encType:"multipart/form-data",validateTrigger:"onSubmit",style:{marginLeft:"22px",width:"100%"},children:[(0,b.jsx)(G.A,{className:"mb-4",children:(0,b.jsx)(Z.A,{children:(0,b.jsxs)("div",{onClick:e=>{e.stopPropagation(),de()},children:[(0,b.jsxs)("div",{className:"image-background",children:[(0,b.jsx)("img",{src:O,className:"user_pic height_width_profile",alt:"profile",style:{height:"49px",width:"51px"}}),(0,b.jsxs)("div",{className:"overlay-text text-center",children:[(0,b.jsx)(K.A,{})," Choose picture"]})]}),(0,b.jsx)("div",{className:"node1 access-person-hovercard"})]})})}),(0,b.jsxs)(G.A,{gutter:16,children:[(0,b.jsx)(Z.A,{sm:4,span:4,children:(0,b.jsx)(J.A.Item,{name:"nameValue",label:(0,b.jsxs)("span",{className:"form-label",children:["Name ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),colon:!1,validateTrigger:["onChange","onSubmit"],rules:[{required:!0,message:"Please enter user name"},{pattern:/^(?!.*\s$)(?!^\s)(?!.*\s{2,})[a-zA-Z\s.]+$/,message:"Invalid input"}],children:(0,b.jsx)(d.A,{variant:"borderless",maxLength:48,className:"border-0 time-border-bottom",placeholder:"Enter the User name"})})}),(0,b.jsx)(Z.A,{sm:1,span:1}),(0,b.jsx)(Z.A,{sm:4,span:3,children:(0,b.jsx)(J.A.Item,{name:"email",label:(0,b.jsxs)("span",{className:"form-label",children:["Email ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),colon:!1,rules:[{required:!0,message:"Please enter Email Address"},{type:"email",message:"Please enter a valid email address"}],children:(0,b.jsx)(d.A,{variant:"borderless",className:"border-0 time-border-bottom",placeholder:"Enter the Email Address"})})}),(0,b.jsx)(Z.A,{sm:1,span:1}),(0,b.jsx)(Z.A,{sm:4,span:3,children:(0,b.jsx)(J.A.Item,{label:(0,b.jsxs)("span",{className:"form-label",children:["Employee Id ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),name:"username",colon:!1,validateTrigger:["onChange","onSubmit"],rules:[{required:!0,message:"Please enter Employee Id"},{pattern:/^(?=.*[a-zA-Z])(?=.*[0-9])[a-zA-Z0-9]*[0-9]+[a-zA-Z0-9]*$|^[0-9]+$/,message:"Only alphanumeric or numeric characters are allowed."}],children:(0,b.jsx)(d.A,{variant:"borderless",maxLength:15,className:"border-0 time-border-bottom",placeholder:"Enter the Employee Id"})})}),(0,b.jsx)(Z.A,{sm:1,span:1}),(0,b.jsx)(Z.A,{sm:4,span:4,children:(0,b.jsx)(J.A.Item,{name:"role_id",label:(0,b.jsxs)("span",{className:"form-label",children:["Designation ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),rules:[{required:!0,message:"Please Choose Designation"}],children:(0,b.jsx)(F.A,{className:"border-0 time-border-bottom hide-cursor",placeholder:"Choose Designation",allowClear:!0,filterOption:(e,s)=>s.label.toLowerCase().indexOf(e.toLowerCase())>=0,showSearch:!0,ref:L,suffixIcon:(0,b.jsx)("img",{src:M,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),options:he})})}),(0,b.jsx)(Z.A,{sm:1,span:1}),(0,b.jsx)(Z.A,{sm:4,children:(0,b.jsx)(J.A.Item,{name:"joiningDate",label:(0,b.jsxs)("span",{className:"form-label",children:["Joining Date ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),rules:[{required:!0,message:"Please Choose Joining Date"}],children:(0,b.jsx)(q.A,{variant:"borderless",className:"border-0 time-border-bottom",style:{paddingLeft:"0px",marginTop:"9px"},placeholder:"Choose Date",allowClear:!0,suffixIcon:(0,b.jsx)(ee.A,{width:"15",height:"14",viewBox:"0 0 15 14",fill:"white"}),disabledDate:e=>e&&e<me.startOf("day"),onChange:(e,s)=>{if(e){const s=te()(e,"DD MMM, YYYY").format("YYYY-MM-DD");H(s)}},format:"DD MMM, YYYY"})})})]}),(0,b.jsxs)(G.A,{gutter:16,className:"mt-3",children:[(0,b.jsx)(Z.A,{sm:4,children:(0,b.jsx)(J.A.Item,{name:"designation",label:(0,b.jsxs)("span",{className:"form-label",children:["Role ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),rules:[{required:!0,message:"Please Choose Role"}],children:(0,b.jsxs)(F.A,{className:"border-0 time-border-bottom",placeholder:"Choose Role",suffixIcon:(0,b.jsx)("img",{src:M,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),children:[(0,b.jsx)(ae,{value:"",children:"Choose Role"}),(0,b.jsx)(ae,{value:"Head",children:"Head"}),(0,b.jsx)(ae,{value:"Employee",children:"Employee"}),(0,b.jsx)(ae,{value:"Owner",children:"Owner"}),(0,b.jsx)(ae,{value:"Approver",children:"Approver"}),(0,b.jsx)(ae,{value:"Others",children:"Others"})]})})}),(0,b.jsx)(Z.A,{sm:1,span:1}),(0,b.jsx)(Z.A,{sm:4,children:(0,b.jsx)(J.A.Item,{name:"branch",label:(0,b.jsxs)("span",{className:"form-label",children:["Branch ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),rules:[{required:!0,message:"Please Choose Branch"}],children:(0,b.jsxs)(F.A,{className:"border-0 time-border-bottom",placeholder:"Choose Branch",onChange:e=>{k(e),P.setFieldsValue({supervisor:void 0}),ne(e)},suffixIcon:(0,b.jsx)("img",{src:M,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),children:[(0,b.jsx)(ae,{value:"Technical",children:"Technical"}),(0,b.jsx)(ae,{value:"Product",children:"Product"}),(0,b.jsx)(ae,{value:"Data",children:"Data"})]})})}),(0,b.jsx)(Z.A,{sm:1,span:1}),(0,b.jsx)(Z.A,{sm:4,children:(0,b.jsx)(J.A.Item,{name:"supervisor",label:(0,b.jsxs)("span",{className:"form-label",children:["Supervisor ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),rules:[{required:!0,message:"Please Choose Supervisor"}],children:(0,b.jsx)(F.A,{className:"border-0 time-border-bottom",placeholder:"Choose Supervisor",allowClear:!0,showSearch:!0,options:se,onChange:e=>{L.current.blur()},filterOption:(e,s)=>{const t=s.label.props.children[1].props.children[0].props.children,a=e.toLowerCase();return t.toLowerCase().includes(a)},ref:L,suffixIcon:(0,b.jsx)("img",{src:M,alt:"Downarrowimg",style:{width:"10px",height:"6px"}})})})}),(0,b.jsx)(Z.A,{sm:1,span:1}),(0,b.jsx)(Z.A,{sm:4,children:(0,b.jsx)(J.A.Item,{name:"roleType",label:(0,b.jsxs)("span",{className:"form-label",children:["Role Intake ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),rules:[{required:!0,message:"Please Choose Supervisor"}],children:(0,b.jsxs)(F.A,{className:"border-0 time-border-bottom",showSearch:!0,placeholder:"Choose Role",allowClear:!0,ref:L,suffixIcon:(0,b.jsx)("img",{src:M,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),onChange:e=>{L.current.blur(),P.setFieldsValue({finalApprove:void 0}),I(e)},children:[(0,b.jsx)(ae,{value:"ON Role",children:"ON Role"}),(0,b.jsx)(ae,{value:"Contract",children:"Contract"})]})})}),(0,b.jsx)(Z.A,{sm:1}),"Contract"===T&&(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(Z.A,{sm:3,children:(0,b.jsx)(J.A.Item,{name:"finalApprove",label:(0,b.jsxs)("span",{className:"form-label",children:[" ","Final \xa0Approver ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),rules:[{required:!0,message:"Please Choose Final Approver"}],children:(0,b.jsx)(F.A,{className:"border-0 time-border-bottom",placeholder:"Choose Role",allowClear:!0,showSearch:!0,suffixIcon:(0,b.jsx)("img",{src:M,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),filterOption:(e,s)=>{const t=s.label.props.children[1].props.children[0].props.children,a=e.toLowerCase();return t.toLowerCase().includes(a)},onChange:e=>{L.current.blur()},ref:L,options:"Technical"===S?W:re})})})})]}),(0,b.jsx)(G.A,{children:(0,b.jsxs)(Z.A,{style:{width:"95%"},className:"d-flex justify-content-end align-items-end user-master-footer",children:[(0,b.jsx)(p.Ay,{className:"edit-cancel-btn",onClick:s,children:"Cancel"}),(0,b.jsx)(p.Ay,{className:" Edit_save_changes",style:{fontSize:"13px",color:"white"},htmlType:"submit",loading:U,children:"Submit"})]})})]})]})]})};t(89576);const{Option:ne}=F.A,le=e=>{let{close:s,viewUser:t}=e,i=(0,g.A)();const c=(0,a.useRef)(null),[h,m]=(0,a.useState)([]),[x,f]=(0,a.useState)([]),[y,N]=(0,a.useState)([]),[v,w]=(0,a.useState)([]),[A,C]=(0,a.useState)(null),[S,k]=(0,a.useState)(t.profile_pic?l.ZX+t.profile_pic:Y),[T,I]=(0,a.useState)(t.branch),[O,R]=(0,a.useState)(t.roleType),D=(0,a.useRef)(t.supervisorId),_=(0,a.useRef)(t.approvalFinalId),[P]=J.A.useForm(),[U,E]=(0,a.useState)(!1),[L,B]=(0,a.useState)(t.rolesid),[H,z]=(0,a.useState)(!1),G=(0,a.useRef)(null),Z=()=>{E(!0)};let q,V,X;q=Array.isArray(h)&&Array.isArray(x)?[...h,...x]:[],V=Array.isArray(y)&&Array.isArray(x)?[...y,...x]:[],X=Array.isArray(v)&&Array.isArray(x)?[...v,...x]:[];const W=q.map((e=>({value:e.userName,val:e.userName,label:(0,b.jsxs)("div",{className:"select-options select-options-bg",children:[(0,b.jsx)("img",{src:e.profile_pic?l.ZX+e.profile_pic:Y,style:e.profile_pic?{width:"29px"}:{width:"39px"},alt:e.name,className:"img-flag"}),(0,b.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,b.jsxs)("p",{className:"user-name1",title:e.name,children:[" ",e.name]}),(0,b.jsx)("p",{className:"role-text1",children:e.role})]})]})}))),ee=X.map((e=>({value:e.userName,val:e.userName,label:(0,b.jsxs)("div",{className:"select-options select-options-bg",children:[(0,b.jsx)("img",{src:e.profile_pic?l.ZX+e.profile_pic:Y,style:e.profile_pic?{width:"29px"}:{width:"39px"},alt:e.name,className:"img-flag"}),(0,b.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,b.jsx)("p",{className:"user-name1",title:e.name,children:(0,$.MX)(e.name)}),(0,b.jsx)("p",{className:"role-text1",children:e.role})]})]})}))),se=V.map((e=>({value:e.userName,val:e.userName,label:(0,b.jsxs)("div",{className:"select-options select-options-bg",children:[(0,b.jsx)("img",{src:e.profile_pic?l.ZX+e.profile_pic:Y,style:e.profile_pic?{width:"29px"}:{width:"39px"},alt:e.name,className:"img-flag"}),(0,b.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,b.jsx)("p",{className:"user-name1",title:e.name,children:(0,$.MX)(e.name)}),(0,b.jsx)("p",{className:"role-text1",children:e.role})]})]})}))),te=async e=>{const s="master/employee/list/"+e;await i.get(s,{headers:(0,l.dJ)("json")}).then((e=>{const s=e.data.data;w(s)})).catch((e=>{}))};(0,a.useEffect)((()=>{le(),(async()=>{i.get("common/tech_head",{headers:(0,l.dJ)("json")}).then((e=>{m(e.data.data)})).catch((e=>{}))})(),(async e=>{i.get("user/approval-user/list",{headers:(0,l.dJ)("json")}).then((e=>{f(e.data.data)})).catch((e=>{}))})(),(async()=>{i.get("common/prod_head",{headers:(0,l.dJ)("json")}).then((e=>{N(e.data.data)})).catch((e=>{}))})(),te(t.branch)}),[t]);const[ae,re]=(0,a.useState)([]),le=async()=>{await i.get("master/role/all-list",{headers:(0,l.dJ)("json")}).then((e=>{const s=e.data.data;re(s)})).catch((e=>{}))},ie=()=>{s(),R(""),I(""),D.current=0,_.current=0,C(null)};P.setFieldsValue({supervisorname:ee.find((e=>e.val===t.supervisorId?e:null))}),"Contract"===t.roleType&&P.setFieldsValue({finalApprovename:"Technical"===t.branch?W.find((e=>e.val===t.approvalFinalId?e:null)):se.find((e=>e.val===t.approvalFinalId?e:null))});return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(r.sK,{children:[(0,b.jsxs)(r.UF,{xs:1,style:{width:"10px",display:"felx"},className:"cancle-arrow-content",children:[" ",(0,b.jsx)("span",{style:{cursor:"pointer",marginRight:"2px"},onClick:s,children:(0,b.jsx)(u.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})]}),(0,b.jsxs)(r.UF,{xs:11,children:[(0,b.jsx)("h6",{className:"draft-heading",style:{marginTop:"29px"},children:"Edit User"}),(0,b.jsx)(o.A,{style:{marginLeft:"12px"},className:"bread-tab",separator:(0,b.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,b.jsx)(j.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary edit-first-subheading",children:"Dashboard"})},{title:(0,b.jsx)("span",{className:"bread-items text-secondary second-subheading",style:{cursor:"pointer"},onClick:ie,children:"User Master"})},{title:(0,b.jsx)("span",{className:"text-secondary second-subheading",style:{cursor:"default"},children:"Edit User"})}]}),U&&(0,b.jsx)(Q,{handleOpenModalBanner:Z,handleCloseModalBanner:()=>{E(!1)},handledefaultprofic:S,handleprofilepicvalue:e=>{e?(C(e),k(URL.createObjectURL(e))):(C(Y),k(Y))}}),(0,b.jsxs)(J.A,{className:"mt-4 needs-validation edit_user_card",ref:c,form:P,initialValues:{nameValue:t.name,email:t.email,branch:t.branch,roleType:t.roleType,username:t.employeeId,designation:t.designation,role:t.role,supervisor:t.supervisorId?t.supervisorId:null,finalApprove:t.approvalFinalId?t.approvalFinalId:null},layout:"vertical",onFinish:async e=>{const s=new FormData;z(!0),s.append("files",A),Object.keys(e).forEach((t=>{if("role"===t&&s.append("role_id",L),"nameValue"===t){let a=e[t].split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ");s.append("name",a)}else s.append(t,e[t])}));const a="master/employee/update/"+t.id;await i.put(a,s,{headers:(0,l.dJ)("multi")}).then((e=>{z(!1),208===e.status?n.oR.error(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}):(n.oR.success(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),ie())})).catch((e=>{z(!1),n.oR.error(e,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}))},requiredMark:!1,encType:"multipart/form-data",validateTrigger:"onSubmit",style:{marginLeft:"20px",width:"100%"},children:[(0,b.jsx)(r.sK,{className:"mb-5",children:(0,b.jsx)(r.UF,{sm:4,children:(0,b.jsxs)("div",{className:"user_pic_div",onClick:e=>{e.stopPropagation(),Z()},children:[(0,b.jsxs)("div",{className:"image-background",children:[(0,b.jsx)("img",{src:S,className:"user_pic height_width_profile",alt:t.name,style:{height:"49px",width:"51px"}}),(0,b.jsxs)("div",{className:"overlay-text text-center",children:[(0,b.jsx)(K.A,{})," Choose picture"]})]}),(0,b.jsxs)("div",{className:"node1 access-person-hovercard",style:t.profile_pic?{marginLeft:"11px"}:{},children:[(0,b.jsxs)("p",{className:"member-user-name1 user_pic_name",title:t.name,children:[" ",t.name]}),(0,b.jsx)("p",{className:"member-role-text1 user_pic_role",children:t.role})]})]})})}),(0,b.jsxs)(r.sK,{className:"edit_user_details",children:[(0,b.jsx)(r.UF,{sm:4,md:3,children:(0,b.jsx)(J.A.Item,{name:"nameValue",label:(0,b.jsxs)("span",{className:"form-label",children:["Name ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),colon:!1,rules:[{required:!0,message:"Please enter user name"},{pattern:/^(?!.*\s$)(?!^\s)(?!.*\s{2,})[a-zA-Z\s.]+$/,message:"Invalid input"}],validateTrigger:["onChange","onSubmit"],children:(0,b.jsx)(d.A,{maxLength:48,variant:"borderless",className:"border-0 time-border-bottom user-input",placeholder:"Enter the User name"})})}),(0,b.jsx)(r.UF,{sm:4,md:3,children:(0,b.jsx)(J.A.Item,{name:"email",label:(0,b.jsxs)("span",{className:"form-label",children:["Email ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),colon:!1,rules:[{required:!0,message:"Please enter Email Address"},{type:"email",message:"Please enter a valid email address"}],children:(0,b.jsx)(d.A,{variant:"borderless",className:"border-0 time-border-bottom",placeholder:"Enter the Email Address"})})}),(0,b.jsx)(r.UF,{sm:4,md:3,children:(0,b.jsx)(J.A.Item,{name:"username",label:(0,b.jsxs)("span",{className:"form-label",children:["Employee Id ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),colon:!1,rules:[{required:!0,message:"Please enter Employee Id"},{pattern:/^(?=.*[a-zA-Z])(?=.*[0-9])[a-zA-Z0-9]*[0-9]+[a-zA-Z0-9]*$|^[0-9]+$/,message:"Only alphanumeric characters or numeric are allowed"}],validateTrigger:["onChange","onSubmit"],children:(0,b.jsx)(d.A,{variant:"borderless",maxLength:15,className:"border-0 time-border-bottom",placeholder:"Enter the Employee Id"})})}),(0,b.jsx)(r.UF,{sm:4,md:3,children:(0,b.jsx)(J.A.Item,{name:"role",label:(0,b.jsxs)("span",{className:"form-label",children:["Designation ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),rules:[{required:!0,message:"Please Choose Designation"}],children:(0,b.jsx)(F.A,{className:"border-0 time-border-bottom",placeholder:"Choose Designation",onChange:e=>{const s=ae.find((s=>s.name===e?s.id:null));B(s.id),G.current.blur()},allowClear:!0,ref:G,showSearch:!0,suffixIcon:(0,b.jsx)("img",{src:M,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),children:ae&&ae.map(((e,s)=>(0,b.jsx)(ne,{value:e.name,children:e.name},s)))})})}),(0,b.jsx)(r.UF,{sm:3,md:3,children:(0,b.jsx)(J.A.Item,{name:"designation",label:(0,b.jsxs)("span",{className:"form-label",children:["Role ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),rules:[{required:!0,message:"Please Choose Role"}],children:(0,b.jsxs)(F.A,{className:"border-0 time-border-bottom",placeholder:"Choose Role",suffixIcon:(0,b.jsx)("img",{src:M,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),children:[(0,b.jsx)(ne,{value:"",children:"Choose Role"}),(0,b.jsx)(ne,{value:"Head",children:"Head"}),(0,b.jsx)(ne,{value:"Employee",children:"Employee"}),(0,b.jsx)(ne,{value:"Owner",children:"Owner"}),(0,b.jsx)(ne,{value:"Approver",children:"Approver"}),(0,b.jsx)(ne,{value:"Others",children:"Others"})]})})}),(0,b.jsx)(r.UF,{sm:4,md:3,children:(0,b.jsx)(J.A.Item,{name:"branch",label:(0,b.jsxs)("span",{className:"form-label",children:["Branch ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),rules:[{required:!0,message:"Please Choose Branch"}],children:(0,b.jsxs)(F.A,{className:"border-0 time-border-bottom",placeholder:"Choose Branch",onChange:e=>{I(e),P.setFieldsValue({supervisor:void 0}),te(e)},suffixIcon:(0,b.jsx)("img",{src:M,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),children:[(0,b.jsx)(ne,{value:"Technical",children:"Technical"}),(0,b.jsx)(ne,{value:"Product",children:"Product"}),(0,b.jsx)(ne,{value:"Data",children:"Data"})]})})}),(0,b.jsx)(r.UF,{sm:4,md:3,children:(0,b.jsx)(J.A.Item,{name:"supervisor",label:(0,b.jsxs)("span",{className:"form-label",children:["Supervisor ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),rules:[{required:!0,message:"Please Choose Supervisor"}],children:(0,b.jsx)(F.A,{className:"border-0 time-border-bottom",placeholder:"Choose Supervisor",allowClear:!0,showSearch:!0,options:ee,filterOption:(e,s)=>{const t=s.label.props.children[1].props.children[0].props.children,a=e.toLowerCase();return t.toLowerCase().includes(a)},onChange:e=>{if(e){const s=e;D.current=s}else D.current=0;G.current.blur()},ref:G,suffixIcon:(0,b.jsx)("img",{src:M,alt:"Downarrowimg",style:{width:"10px",height:"6px"}})})})}),(0,b.jsx)(r.UF,{sm:4,md:3,children:(0,b.jsx)(J.A.Item,{name:"roleType",label:(0,b.jsxs)("span",{className:"form-label",children:["RoleIntake ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),rules:[{required:!0,message:"Please Choose Supervisor"}],children:(0,b.jsxs)(F.A,{className:"border-0 time-border-bottom",showSearch:!0,placeholder:"Choose Role",allowClear:!0,suffixIcon:(0,b.jsx)("img",{src:M,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),onChange:e=>{G.current.blur(),P.setFieldsValue({finalApprove:void 0}),R(e)},ref:G,children:[(0,b.jsx)(ne,{value:"ON Role",children:"ON Role"}),(0,b.jsx)(ne,{value:"Contract",children:"Contract"})]})})}),"Contract"===O&&(0,b.jsx)(r.UF,{sm:4,className:"final_approver",children:(0,b.jsx)(J.A.Item,{name:"finalApprove",label:(0,b.jsxs)("span",{className:"form-label",children:["Final Approver ",(0,b.jsx)("span",{className:"red-text1",children:"*"})]}),rules:[{required:!0,message:"Please Choose Final Approver"}],children:(0,b.jsx)(F.A,{className:"border-0 time-border-bottom ",placeholder:"Choose Approver",allowClear:!0,showSearch:!0,suffixIcon:(0,b.jsx)("img",{src:M,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),filterOption:(e,s)=>{const t=s.label.props.children[1].props.children[0].props.children,a=e.toLowerCase();return t.toLowerCase().includes(a)},onChange:e=>{if(e){const s=e;_.current=s}else _.current=0;G.current.blur()},ref:G,options:"Technical"===T?W:se})})})]}),(0,b.jsx)(r.sK,{children:(0,b.jsxs)(r.UF,{style:{width:"100%"},className:"d-flex justify-content-end align-items-end edit-master-footer ",children:[(0,b.jsx)(p.Ay,{className:"edit-cancel-btn ",onClick:s,children:"Cancel"}),(0,b.jsx)(p.Ay,{className:" Edit_save_changes",style:{fontSize:"13px",color:"white"},htmlType:"submit",loading:H,children:"Update"})]})})]})]})]})})};var ie=t(64997);const{confirm:ce}=i.A,oe=()=>{let e=(0,g.A)();const[s,t]=(0,a.useState)([]),[i,h]=(0,a.useState)([]),[p,u]=(0,a.useState)(""),[f,y]=(0,a.useState)(!1),[N,A]=(0,a.useState)(!1),[C,S]=(0,a.useState)(null),k=(0,a.useRef)(""),[T,I]=(0,a.useState)(!1),[O,R]=(0,a.useState)(!0),[D,_]=(0,a.useState)({rowIndex:null,userStatus:null}),[P,F]=(0,a.useState)(new AbortController),M=(0,a.useRef)(!0),U=(0,a.useRef)(0),[E,L]=(0,a.useState)(0),J=(0,a.useRef)(!1);(0,a.useEffect)((()=>{if(!N&&!f){M.current=!0,K(0);const e=document.querySelector(".table-container");return e.addEventListener("scroll",G),()=>{e.removeEventListener("scroll",G)}}}),[N,f]);const G=()=>{const e=document.querySelector(".table-container");e.scrollTop+e.clientHeight===e.scrollHeight&&!0===M.current&&K(0)},Z=e=>{if(e){const e=s.map((e=>e.id));h(e),u("".concat(e.length," Selected"))}else h([]),u("")},q=()=>{I(!0)},K=async s=>{var a;let r,n=U.current;s&&(L(0),U.current=0,n=0,R(!0),t([]),P.abort(),r=new AbortController,F(r));const i="master/employee/list?page=".concat(n,"&size=10&search=").concat(J.current,"&value=").concat(k.current);await e.get(i,{headers:(0,l.dJ)("json"),signal:null===(a=r)||void 0===a?void 0:a.signal}).then((e=>{const a=e.data.data;t(s?a:e=>{const s=new Set(e.map((e=>e.id))),t=a.filter((e=>!s.has(e.id)));return[...e,...t]}),a.length<10&&(M.current=!1),console.log(n+1,"Loading"),L(n+1),U.current=n+1,R(!1)})).catch((e=>{}))},Y=()=>{I(!1)},V=s=>{ce({title:"Delete User",content:"Are you sure to delete this User ?",icon:(0,b.jsx)(w.A,{}),okText:"Yes",okType:"danger",cancelButtonProps:{style:{borderColor:"#f54550",color:"black"}},closable:!0,okButtonProps:{style:{borderColor:"#f54550",color:"white",backgroundColor:"#f54550"}},cancelText:"No",async onOk(){try{await(async s=>{const t="master/employee/delete/user/"+s;return new Promise(((s,a)=>{setTimeout((()=>{e.delete(t,{headers:(0,l.dJ)("json")}).then((e=>{U.current=0,L(0),k.current="",J.current=!1,K(1),u(""),h([]),s(e)})).catch((e=>{a(e)}))}),1e3)}))})(s),n.oR.success("User Deleted Successfully",{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}catch(t){n.oR.error("Deletion failed",{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}},onCancel(){X()}})},X=()=>{h([]),u("")};return(0,b.jsx)(b.Fragment,{children:f?(0,b.jsx)(re,{close:()=>{y(!1),U.current=0,L(0),k.current="",J.current=!1}}):N?(0,b.jsx)(le,{close:()=>{A(!1),U.current=0,L(0),k.current="",J.current=!1},viewUser:C}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(r.sK,{className:"mt-3 user-master-header",children:[(0,b.jsxs)(r.UF,{xs:12,sm:6,md:8,children:[(0,b.jsx)("b",{style:{paddingLeft:"30px"},children:"User Master"}),(0,b.jsx)("br",{}),(0,b.jsx)(o.A,{style:{paddingLeft:"30px"},className:"bread-tab",separator:(0,b.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,b.jsx)(j.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,b.jsx)("span",{className:"text-secondary ",style:{cursor:"default"},children:"User Master"})}]})]}),(0,b.jsxs)(r.UF,{xs:6,sm:3,md:2,children:[" ",(0,b.jsx)(d.A,{placeholder:"Search",className:"border-0 user-select-sec ",onChange:e=>{return s=e.target.value,U.current=0,L(0),M.current=!0,k.current=s,J.current=!0,""===s&&(J.current=!1),void K(1);var s},variant:"borderless",prefix:(0,b.jsx)("img",{src:v,alt:v,style:{width:"14px",height:"14px"},className:"search-icon"})})]}),(0,b.jsx)(r.UF,{xs:6,sm:3,md:2,className:"add-usermaster",children:(0,b.jsxs)("button",{className:"master-createflow-button button-clr",type:"button",onClick:()=>{y(!0)},children:[(0,b.jsx)("span",{className:"plus-lable",children:"+"})," Add User"]})})]}),(0,b.jsx)("div",{className:"table-container table_scroll_master masters-table-scroll mt-2",style:{border:"none"},children:(0,b.jsxs)(ie.A,{dataLength:s.length,next:G,hasMore:M.current,loader:(0,b.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,b.jsx)(r.JT,{color:"danger"})}),endMessage:0!==s.length&&(0,b.jsx)("p",{style:{textAlign:"center"},children:(0,b.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),children:[(0,b.jsxs)(r._v,{hover:!0,children:[(0,b.jsx)(r.wV,{className:"head-row",children:p?(0,b.jsxs)(r.YI,{children:[(0,b.jsx)(r.$s,{className:"table-head-selected head-row text-center  text-c ",scope:"col",width:"4%",style:{position:"sticky",top:"0",zIndex:"12"},children:(0,b.jsx)(c.A,{id:"flexCheckDefault",className:"checkbox_design",checked:i.length===s.length&&s.length,onChange:e=>Z(e.target.checked)})}),(0,b.jsx)(r.$s,{className:"table-head-selected  text-c ",colSpan:"9",children:(0,b.jsx)("span",{style:{color:"#f50505"},children:p})}),(0,b.jsx)(r.$s,{className:"table-head-selected  text-c ",width:"10%",children:(0,b.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,b.jsx)("button",{type:"button",className:"action-view cross-button",onClick:()=>V(i),style:{padding:"4px 8px"},children:(0,b.jsx)(x.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#e40e2d"})})})})]}):(0,b.jsxs)(r.YI,{children:[(0,b.jsx)(r.$s,{className:"table-head-draft head-row text-center  text-c",width:"4%",children:(0,b.jsx)(c.A,{id:"flexCheckDefault",onChange:e=>Z(e.target.checked)})}),(0,b.jsx)(r.$s,{className:"table-head-draft  text-c grid-cell-header text-center",scope:"col",width:"4%",children:"SI.No"}),(0,b.jsx)(r.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"17%",children:"Username & Email"}),(0,b.jsx)(r.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"10%",children:"Employee ID"}),(0,b.jsx)(r.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"10%",children:"Designation"}),(0,b.jsx)(r.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"6%",children:"Role"}),(0,b.jsx)(r.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"10%",children:"Branch"}),(0,b.jsx)(r.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"10%",children:"Supervisor"}),(0,b.jsx)(r.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"10%",children:"Role Intake"}),(0,b.jsx)(r.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"10%",children:"Final Approval"}),(0,b.jsx)(r.$s,{className:"table-head-draft  text-c grid-cell-header text-center",scope:"col",width:"20%",children:"Action"})]})}),(0,b.jsx)(r.jS,{children:s&&s.map(((s,t)=>(0,b.jsxs)(r.YI,{children:[(0,b.jsx)(r.cC,{className:"text-c  text-center grid-cell ".concat(i.includes(s.id)?"checked-table-row":""),width:"4%",children:(0,b.jsx)(c.A,{id:"flexCheckDefault",className:"checkbox_design",checked:i.includes(s.id),onChange:e=>{((e,s)=>{h(s?s=>[...s,e]:s=>s.filter((s=>s!==e)));const t=(s?[...i,e]:i.filter((s=>s!==e))).length;u(t<1?"":"".concat(t," Selected"))})(s.id,e.target.checked)}})}),(0,b.jsx)(r.cC,{className:"text-c pd-text1 grid-cell text-center",width:"4%",children:t+1}),(0,b.jsx)(r.cC,{className:"text-c pdn-text1 grid-cell",title:s.name,width:"17%",children:(0,b.jsxs)("div",{className:"user_pic_div",children:[(0,b.jsx)("div",{style:{marginBottom:"11px"},children:(0,b.jsx)(z,{color:s.userStatus?"#A3FA34":"#ED0023",width:"10",height:"9",viewBox:"0 0 10 9",fill:"none"})}),(0,b.jsx)("div",{className:"image-background",children:(0,b.jsx)("img",{src:s.profile_pic?l.ZX+s.profile_pic:H,className:"user_pic",alt:s.name})}),(0,b.jsxs)("div",{className:"node1 access-person-hovercard",style:s.profile_pic?{marginLeft:"11px",marginTop:"10px"}:{},children:[(0,b.jsxs)("p",{className:"member-user-name1 user_pic_name",title:(0,$.MX)(s.name),children:[" ",(0,$.MX)(s.name)]}),(0,b.jsx)("p",{className:"member-role-text1 user_pic_name",title:s.email,children:s.email})]})]})}),(0,b.jsx)(r.cC,{className:"text-c pd-text1 grid-cell",title:s.employeeId,width:"8%",children:s.employeeId}),(0,b.jsx)(r.cC,{className:"text-c pd-text1 grid-cell",title:s.role,width:"10%",children:s.role}),(0,b.jsx)(r.cC,{className:"text-c pd-text1 grid-cell",title:s.designation,width:"10%",children:s.designation}),(0,b.jsx)(r.cC,{className:"text-c pd-text1 grid-cell",title:s.branch,width:"10%",children:s.branch}),(0,b.jsx)(r.cC,{className:"text-c pd-text1 grid-cell",title:(0,$.MX)(s.supervisor),width:"10%",children:(0,$.MX)(s.supervisor)}),(0,b.jsx)(r.cC,{className:"text-c pd-text1 grid-cell",title:s.roleType,width:"7%",children:s.roleType}),(0,b.jsx)(r.cC,{className:"text-c pd-text1 grid-cell",title:s.approvalFinalName,width:"10%",children:null!==s.approvalFinalName?(0,$.MX)(s.approvalFinalName):"-"}),(0,b.jsx)(r.cC,{width:"20%",children:(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,b.jsx)("button",{type:"button",className:"action-view  edit-button",style:{padding:"4px 8px"},onClick:()=>(async s=>{const t="master/employee/view/"+s;e.get(t,{headers:(0,l.dJ)("json")}).then((e=>{const s=e.data.data;S(s),A(!0)})).catch((e=>{}))})(s.id),children:(0,b.jsx)(m.A,{width:"13",height:"13",viewBox:"0 0 18 18",fill:"none",color:"white",clipH:"18",clipW:"18"})}),(0,b.jsx)(B.A,{className:s.userStatus?"activeUser mx-1":"inactiveUser mx-1",size:"small",id:"formSwitchCheckDefaultLg",onChange:q,onClick:()=>{_({rowIndex:s.id,userStatus:s.userStatus})},checked:s.userStatus,style:{backgroundColor:s.userStatus?"#3CB043":"#fa170f",cursor:"pointer"}}),(0,b.jsx)("button",{type:"button",className:"action-view cross-button",style:{padding:"4px 8px"},onClick:p?null:()=>V(s.id),children:(0,b.jsx)(x.A,{width:"14",height:"13",viewBox:"0 0 18 18",fill:"#A5A1A1"})})]})})]},t)))})]}),null===s&&!O||0===s.length&&!O?(0,b.jsx)("div",{className:"text-c text-center my-3 td-text",children:"No Data Found"}):O?(0,b.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,b.jsx)(r.JT,{color:"danger"})}):(0,b.jsx)("div",{})]})}),T&&(0,b.jsx)(r.zS,{size:"sm",backdrop:"static",alignment:"center",visible:T,onClose:Y,className:"right ".concat(T?"modal-visible":"modal-hidden"),children:(0,b.jsxs)(r.Tc,{children:[(0,b.jsx)(r.sK,{children:(0,b.jsx)(r.UF,{style:{fontSize:"14px",fontWeight:"600"},children:!0===D.userStatus?"Are you sure you want to Inactivate this User?":"Are you sure you want to Activate this User?"})}),(0,b.jsx)(r.sK,{className:"mt-2",children:(0,b.jsxs)(r.UF,{className:"d-flex justify-content-end align-items-end user-master-footer",children:[(0,b.jsx)(r.Q_,{className:"edit-cancel-btn",onClick:Y,children:"Cancel"}),(0,b.jsx)(r.Q_,{className:" Edit_save_changes",style:{fontSize:"13px",color:"white",width:"20%"},onClick:()=>(async()=>{const s=!D.userStatus;try{const a="master/employee/update/".concat(D.rowIndex,"/status/").concat(s),r=(await e.put(a,{id:D.rowIndex,status:s},{headers:(0,l.dJ)("json")})).data.data;return Array.isArray(r)&&t(r.filter()),U.current=0,L(0),k.current="",J.current=!1,K(1)}catch(a){}finally{I(!1),_({rowIndex:null,userStatus:null})}})(),children:"Confirm"})]})})]})})]})})};var de=t(38510),he=t(96651),me=t(8354),xe=t(11125),pe=t(94122),ue=t(46021),ge=t(1872),je=t(14159);const be=e=>{let{formatDate:s,FlowList:t,prodOwnerList:i,techOwnerList:c,dataOwnerList:o,categories:d,techHeadList:h,dataHeadList:x,prodHeadList:p}=e,u=(0,g.A)();const j=(0,l.pU)(),f=null===j||void 0===j?void 0:j.branch,[y,N]=(0,a.useState)(),[v,w]=(0,a.useState)([]),[A,C]=(0,a.useState)([]),[S,k]=(0,a.useState)([]),[T,I]=(0,a.useState)(!1),[O,R]=(0,a.useState)(!0),[D,_]=(0,a.useState)(new AbortController),P=(0,a.useRef)(null),U=(0,a.useRef)(!0),E=(0,a.useRef)(0),L=(0,a.useRef)(!1),B=(0,a.useRef)(0),[H,z]=(0,a.useState)(!0),[J,G]=(0,a.useState)(!1),[Z,q]=(0,a.useState)(!1);(0,a.useEffect)((()=>{if(ee(),!J&&!T&&!Z){E.current=0,U.current=!0,Y();const e=document.querySelector(".table-container");return e.addEventListener("scroll",K),()=>{e.removeEventListener("scroll",K)}}}),[J,T,Z]);const K=()=>{const e=document.querySelector(".table-container");e.scrollTop+e.clientHeight===e.scrollHeight&&!0===U.current&&Y()},Y=async()=>{var e;let s;0===E.current&&(R(!0),w([]),D.abort(),s=new AbortController,_(s));const t="product/list?page=".concat(E.current,"&size=10&search=").concat(L.current,"&status=Approved&value=").concat(B.current,"&key=Admin");u.get(t,{headers:(0,l.dJ)("json"),signal:null===(e=s)||void 0===e?void 0:e.signal}).then((e=>{const s=e.data.data;0===E.current?w(s):w((e=>[...e,...s])),s.length<10&&(U.current=!1),E.current=E.current+1,R(!1)})).catch((e=>{}))},X=c.map((e=>({value:e.name,label:(0,b.jsxs)("div",{className:"select-options select-options-bg",children:[(0,b.jsx)("img",{src:e.profile_pic?l.ZX+e.profile_pic:xe,style:e.profile_pic?{width:"29px",borderRadius:"14px"}:{width:"39px"},alt:e.name,className:"img-flag"}),(0,b.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,b.jsxs)("p",{className:"user-name1",title:e.name,children:[" ",e.name]}),(0,b.jsx)("p",{className:"role-text1",children:e.role})]})]})}))),W=o.map((e=>({value:e.name,label:(0,b.jsxs)("div",{className:"select-options select-options-bg",children:[(0,b.jsx)("img",{src:e.profile_pic?l.ZX+e.profile_pic:xe,style:e.profile_pic?{width:"29px",borderRadius:"14px"}:{width:"39px"},alt:e.name,className:"img-flag"}),(0,b.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,b.jsxs)("p",{className:"user-name1",title:e.name,children:[" ",e.name]}),(0,b.jsx)("p",{className:"role-text1",children:e.role})]})]})}))),Q=i.map((e=>({value:e.name,label:(0,b.jsxs)("div",{className:"select-options select-options-bg",children:[(0,b.jsx)("img",{src:e.profile_pic?l.ZX+e.profile_pic:xe,style:e.profile_pic?{width:"29px",borderRadius:"14px"}:{width:"39px"},alt:e.name,className:"img-flag"}),(0,b.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,b.jsxs)("p",{className:"user-name1",title:e.name,children:[" ",e.name]}),(0,b.jsx)("p",{className:"role-text1",children:e.role})]})]})}))),$=async e=>{const s="product/view/"+e;u.get(s,{headers:(0,l.dJ)("json")}).then((e=>{const s=e.data.data;k(s)})).catch((e=>{}))},ee=async()=>{u.get("product/head/search?status=Approved",{headers:(0,l.dJ)("json")}).then((e=>{const s=e.data.data;C(s),z(!1)})).catch((e=>{}))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.N9,{}),J?(0,b.jsx)(ge.A,{flow:null,flowList:t,close:()=>{G(!1)},techHeadList:h,prodHeadList:p,dataHeadList:x,prodOwnerList:i,techOwnerList:c,dataOwnerList:o,titleList:"Product Creation Master",categories:d}):T?(0,b.jsx)(pe.A,{flowList:t,close:()=>{I(!1)},techHeadList:h,prodHeadList:p,dataHeadList:x,categories:d,ViewProductData:S,viewStatus:"Admin",titleList:"Product Creation Master",ownerOption:"Technical"===f?X:"Product"===f?Q:W,mastersTech:X,mastersProd:Q,mastersData:W}):Z?(0,b.jsx)(je.A,{flowList:t,techHeadList:h,prodHeadList:p,dataHeadList:x,categories:d,EditProductData:S,callBackFunc:()=>{q(!1),L.current=!1,E.current=0,B.current=0},title:"Product Creation Master",mastersTech:c,mastersProd:i,mastersData:o,viewStatus:"Admin"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(r.sK,{className:"mt-3",children:[(0,b.jsx)(r.UF,{xs:12,sm:6,md:8,children:(0,b.jsx)("b",{style:{marginLeft:"30px"},children:"Product Creation Master"})}),(0,b.jsx)(r.UF,{xs:6,sm:3,md:2,children:(0,b.jsx)(F.A,{ref:P,className:"contract_members_activity_select custom-select_appr appr-sel",suffixIcon:(0,b.jsx)("img",{src:M,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),id:"products",value:y,onChange:e=>(e=>{void 0===e?(N(),L.current=!1,B.current=0):(N(e),L.current=!0,B.current=e),P.current.blur(),E.current=0,U.current=!0,Y()})(e),showSearch:!0,allowClear:!0,filterOption:(e,s)=>s.label.toLowerCase().indexOf(e.toLowerCase())>=0,dropdownRender:e=>(0,b.jsx)("div",{style:{overflow:"auto"},role:"listbox",children:e}),options:H?[{label:(0,b.jsx)("div",{style:{textAlign:"center"},children:Array.from({length:5},((e,s)=>(0,b.jsx)(de.A,{title:!1,paragraph:{rows:1,width:"100%",height:"10px",style:{height:"10px !important"}}},s)))}),value:"loading",disabled:!0}]:A.map((e=>({value:e.id,label:e.name}))),placeholder:"Choose Product",getPopupContainer:e=>e.parentNode})}),(0,b.jsx)(r.UF,{xs:6,sm:3,md:2,className:"add-usermaster",children:(0,b.jsxs)("button",{className:"master-createflow-button button-clr",type:"button",onClick:e=>{G(!0)},children:[(0,b.jsx)("span",{className:"plus-lable",children:"+"})," Add Product"]})})]}),(0,b.jsx)("div",{className:"table-container table_scroll_master masters-table-scroll mt-2",style:{border:"none"},children:(0,b.jsxs)(ie.A,{dataLength:v.length,next:K,hasMore:U.current,loader:(0,b.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,b.jsx)(r.JT,{color:"danger"})}),endMessage:0!==v.length&&(0,b.jsx)("p",{style:{textAlign:"center"},children:(0,b.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),children:[(0,b.jsxs)(r._v,{hover:!0,children:[(0,b.jsx)(r.wV,{className:"head-row draft-head-row-ts",children:(0,b.jsxs)(r.YI,{children:[(0,b.jsx)(r.$s,{className:"table-head-productlist text-c text-center",scope:"col",width:"4%",children:"SI.No"}),(0,b.jsx)(r.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Product Name"}),(0,b.jsx)(r.$s,{className:"table-head-productlist text-c",scope:"col",width:"8%",children:"Flow"}),(0,b.jsx)(r.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Product Head"}),(0,b.jsx)(r.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Technical Head"}),(0,b.jsx)(r.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Data Head"}),(0,b.jsx)(r.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Start Date"}),(0,b.jsx)(r.$s,{className:"table-head-productlist text-c",width:"10%",scope:"col",children:"Technical Owners"}),(0,b.jsx)(r.$s,{className:"table-head-productlist text-c",width:"10%",scope:"col",children:"Product Owners"}),(0,b.jsx)(r.$s,{className:"table-head-productlist text-c",width:"10%",scope:"col",children:"Data Owners"}),(0,b.jsx)(r.$s,{className:"table-head-productlist text-c text-center",scope:"col",width:"10%",children:"Action"})]})}),(0,b.jsx)(r.jS,{children:v?v.map(((e,t)=>{var a,n;return(0,b.jsxs)(r.YI,{className:"tr-bg-color",children:[(0,b.jsx)(r.cC,{className:"productflow-col-box text-c pad-bottom_flow td-product-text",children:t+1}),(0,b.jsx)(r.cC,{className:"productflow-product-name pad-bottom_flow td-product-text",children:(0,b.jsx)(he.A,{placement:"bottomLeft",title:e.productName,className:"productflow-name-lable",children:e.productName})}),(0,b.jsx)(r.cC,{className:" productflow-product-flow pad-bottom_flow td-product-text",children:(0,b.jsx)(he.A,{placement:"bottomLeft",title:e.flowName?e.flowName:"",className:"flow-name-lable",children:e.flowName?e.flowName:""})}),(0,b.jsx)(r.cC,{className:"productflow-product-head pad-bottom_flow",children:0!==e.prodHead.length?e.prodHead.map((e=>(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,b.jsx)("img",{src:e.profilePic?l.ZX+e.profilePic:xe,alt:"Profile",className:"head-td"}),(0,b.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,b.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,b.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,b.jsx)(r.cC,{className:"productflow-product-head pad-bottom_flow",children:0!==e.techHead.length?e.techHead.map((e=>(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,b.jsx)("img",{src:e.profilePic?l.ZX+e.profilePic:xe,alt:"Profile",className:"head-td"}),(0,b.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,b.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,b.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,b.jsx)(r.cC,{className:"productflow-product-head pad-bottom_flow",children:0!==e.dataHead.length?e.dataHead.map((e=>(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,b.jsx)("img",{src:e.profilePic?l.ZX+e.profilePic:xe,alt:"Profile",className:"head-td"}),(0,b.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,b.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,b.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,b.jsx)(r.cC,{className:"productflow-product-Startdate pad-bottom_flow td-product-text",children:s(e.startDate)}),(0,b.jsx)(r.cC,{className:"text-c flowlist-accesperson pad-bottom_flow",children:(0,b.jsxs)("div",{className:"table-cell-container",children:[(0,b.jsxs)("div",{className:"image-background-accessperson",children:[e.technicalOwners.slice(0,3).map(((e,s)=>(0,b.jsx)("div",{className:"accessPerImg",children:(0,b.jsx)("div",{className:"tooltip-container",children:(0,b.jsx)("img",{src:e.profilePic?l.ZX+e.profilePic:xe,className:e.profilePic?"first-image":"second-image",alt:"Access Person Images"})})},s))),(0,b.jsx)("div",{children:e.technicalOwners.length>3&&(0,b.jsx)("div",{className:"accessPerImg text-center more-person-access rounded-circle",children:(0,b.jsxs)("span",{children:["+",e.technicalOwners.length-3]})})})]}),(0,b.jsx)("div",{className:"card-list-person",children:0!==e.technicalOwners.length&&(0,b.jsx)(V.A,{style:{width:"230px",height:"120px",overflowY:"auto"},className:"Access-card",children:e.technicalOwners.map((e=>(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:" access-person-tooltip  ",children:[(0,b.jsx)("div",{className:"image-background",children:(0,b.jsx)("img",{src:e.profilePic?l.ZX+e.profilePic:xe,className:e.profilePic?"card-access-image":"card-approval-image",alt:e.name})}),(0,b.jsxs)("div",{className:"node1 access-person-hovercard",style:e.profilePic?{marginLeft:"11px"}:{},children:[(0,b.jsxs)("p",{className:"member-user-name1",children:[" ",e.name]}),(0,b.jsx)("p",{className:"member-role-text1",children:e.designation})]})]}),(0,b.jsx)(me.A,{})]},e.id)))})})]})}),(0,b.jsx)(r.cC,{className:"text-c flowlist-accesperson pad-bottom_flow",children:(0,b.jsxs)("div",{className:"table-cell-container",children:[(0,b.jsxs)("div",{className:"image-background-accessperson",children:[null===(a=e.productOwners)||void 0===a?void 0:a.slice(0,3).map(((e,s)=>(0,b.jsx)("div",{className:"accessPerImg",children:(0,b.jsx)("div",{className:"tooltip-container",children:(0,b.jsx)("img",{src:e.profilePic?l.ZX+e.profilePic:xe,className:e.profilePic?"first-image":"second-image",alt:"Access Person Images"})})},s))),(0,b.jsx)("div",{children:e.productOwners.length>3&&(0,b.jsx)("div",{className:"accessPerImg text-center more-person-access rounded-circle",children:(0,b.jsxs)("span",{children:["+",e.productOwners.length-3]})})})]}),(0,b.jsx)("div",{className:"card-list-person",children:0!==e.productOwners.length&&(0,b.jsx)(V.A,{style:{width:"230px",height:"120px",overflowY:"auto"},className:"Access-card",children:e.productOwners.map((e=>(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:" access-person-tooltip  ",children:[(0,b.jsx)("div",{className:"image-background",children:(0,b.jsx)("img",{src:e.profilePic?l.ZX+e.profilePic:xe,className:e.profilePic?"card-access-image":"card-approval-image",alt:e.name})}),(0,b.jsxs)("div",{className:"node1 access-person-hovercard",style:e.profilePic?{marginLeft:"11px"}:{},children:[(0,b.jsxs)("p",{className:"member-user-name1",children:[" ",e.name]}),(0,b.jsx)("p",{className:"member-role-text1",children:e.designation})]})]}),(0,b.jsx)(me.A,{})]},e.id)))})})]})}),(0,b.jsx)(r.cC,{className:"text-c flowlist-accesperson pad-bottom_flow",children:(0,b.jsxs)("div",{className:"table-cell-container",children:[(0,b.jsxs)("div",{className:"image-background-accessperson",children:[null===(n=e.dataOwners)||void 0===n?void 0:n.slice(0,3).map(((e,s)=>(0,b.jsx)("div",{className:"accessPerImg",children:(0,b.jsx)("div",{className:"tooltip-container",children:(0,b.jsx)("img",{src:e.profilePic?l.ZX+e.profilePic:xe,className:e.profilePic?"first-image":"second-image",alt:"Access Person Images"})})},s))),(0,b.jsx)("div",{children:e.dataOwners.length>3&&(0,b.jsx)("div",{className:"accessPerImg text-center more-person-access rounded-circle",children:(0,b.jsxs)("span",{children:["+",e.dataOwners.length-3]})})})]}),(0,b.jsx)("div",{className:"card-list-person",children:0!==e.dataOwners.length&&(0,b.jsx)(V.A,{style:{width:"230px",height:"120px",overflowY:"auto"},className:"Access-card",children:e.dataOwners.map((e=>(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:" access-person-tooltip  ",children:[(0,b.jsx)("div",{className:"image-background",children:(0,b.jsx)("img",{src:e.profilePic?l.ZX+e.profilePic:xe,className:e.profilePic?"card-access-image":"card-approval-image",alt:e.name})}),(0,b.jsxs)("div",{className:"node1 access-person-hovercard",style:e.profilePic?{marginLeft:"11px"}:{},children:[(0,b.jsxs)("p",{className:"member-user-name1",children:[" ",e.name]}),(0,b.jsx)("p",{className:"member-role-text1",children:e.designation})]})]}),(0,b.jsx)(me.A,{})]},e.id)))})})]})}),(0,b.jsxs)(r.cC,{className:"productflow-product-Action pad-bottom_flow text-center td-product-text",children:[(0,b.jsx)("button",{type:"button",className:"btn border-0 text-c text-secondary cross-button",style:{fontSize:"12px",padding:"4px 8px"},onClick:()=>{return s=e.id,$(s),void I(!0);var s},children:(0,b.jsx)(ue.A,{width:"13",height:"13",viewBox:"0 0 20 16",fill:"#A5A1A1"})}),(0,b.jsx)("button",{type:"button",className:"action-view edit-button ",onClick:()=>{return s=e.id,$(s),void q(!0);var s},style:{padding:"4px 8px"},children:(0,b.jsx)(m.A,{width:"13",height:"13",viewBox:"0 0 18 18",fill:"none",color:"white",clipH:"18",clipW:"18"})})]})]},t)})):(0,b.jsx)("div",{})})]}),null===v&&!O||0===v.length&&!O?(0,b.jsx)("div",{className:"text-c text-center my-3 td-text",children:"No Data Found"}):O&&0===v.length?(0,b.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,b.jsx)(r.JT,{color:"danger"})}):(0,b.jsx)("div",{})]})})]})]})},fe=()=>{const[e,s]=(0,a.useState)(1);let t=(0,g.A)();const i=(0,l.pU)(),[c,o]=(0,a.useState)([]),[d,h]=(0,a.useState)([]),[m,x]=(0,a.useState)([]),[p,u]=(0,a.useState)([]),[j,f]=(0,a.useState)([]),[y,N]=(0,a.useState)([]),[v,w]=(0,a.useState)([]),[A,C]=(0,a.useState)([]),S=null===i||void 0===i?void 0:i.designation;(0,a.useEffect)((()=>{F(),T(),I(),O(),P(),M(),D(),_(),S.includes("Head")?s(3):S.includes("Approver")?s(4):S.includes("Owner")&&s(6)}),[]);const T=async()=>{t.get("common/prod_owner",{headers:(0,l.dJ)("json")}).then((e=>{h(e.data.data)})).catch((e=>{}))},I=async()=>{t.get("common/tech_owner",{headers:(0,l.dJ)("json")}).then((e=>{x(e.data.data)})).catch((e=>{}))},O=async()=>{t.get("common/data_owner",{headers:(0,l.dJ)("json")}).then((e=>{u(e.data.data)})).catch((e=>{}))},D=async()=>{t.get("common/tech_head",{headers:(0,l.dJ)("json")}).then((e=>{w(e.data.data)})).catch((e=>{}))},_=async()=>{t.get("common/prod_head",{headers:(0,l.dJ)("json")}).then((e=>{N(e.data.data)})).catch((e=>{}))},P=async()=>{t.get("common/data_head",{headers:(0,l.dJ)("json")}).then((e=>{C(e.data.data)})).catch((e=>{}))},F=async()=>{t.get("flow/list/producthead?status=Admin",{headers:(0,l.dJ)("json")}).then((e=>{o(e.data.data)})).catch((e=>{}))},M=async()=>{t.get("product/categories",{headers:(0,l.dJ)("json")}).then((e=>{f(e.data.data)})).catch((e=>{}))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.N9,{}),(0,b.jsx)(r.sK,{className:"my-2",children:(0,b.jsx)(r.UF,{xs:12,lg:6,children:(0,b.jsx)(r.E$,{className:"mt-4 timesheet-content-user",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)(r.by,{variant:"pills",role:"tablist",className:"master-navbar-list ",children:[(0,b.jsx)(r.g9,{role:"presentation4",children:(0,b.jsx)(r.HQ,{className:"nav-link-lable",active:1===e,component:"button",role:"tab","aria-controls":"home-tab-pane","aria-selected":1===e,onClick:()=>s(1),children:"User Master"})}),(0,b.jsx)(r.g9,{role:"presentation3",children:(0,b.jsx)(r.HQ,{active:2===e,component:"button",role:"tab","aria-controls":"profile-tab-pane","aria-selected":2===e,onClick:()=>s(2),children:"Designation Master"})}),(0,b.jsx)(r.g9,{role:"presentation2",children:(0,b.jsx)(r.HQ,{active:3===e,component:"button",role:"tab","aria-controls":"contact-tab-pane","aria-selected":3===e,onClick:()=>s(3),children:"Business Master"})}),(0,b.jsx)(r.g9,{role:"presentation1",children:(0,b.jsx)(r.HQ,{active:4===e,component:"button",role:"tab","aria-controls":"contact-tab-pane","aria-selected":4===e,onClick:()=>s(4),children:"Task Activity Master"})}),(null===S||void 0===S?void 0:S.includes("Internal Admin"))&&(0,b.jsx)(r.g9,{role:"presentation5",children:(0,b.jsx)(r.HQ,{active:5===e,component:"button",role:"tab","aria-controls":"contact-tab-pane","aria-selected":5===e,onClick:()=>s(5),children:"Product Creation Master"})})]}),(0,b.jsxs)(r.eL,{className:"master-tab-content ",children:[(0,b.jsxs)(r.x1,{role:"tabpanel","aria-labelledby":"home-tab-pane",visible:1===e,className:"master_card tab_height_master",children:[" ",(0,b.jsx)(r.sK,{children:1===e&&(0,b.jsx)(oe,{})})]}),(0,b.jsx)(r.x1,{role:"tabpanel","aria-labelledby":"profile-tab-pane",visible:2===e,className:"master_card tab_height_master",children:(0,b.jsx)(r.sK,{children:2===e&&(0,b.jsx)(k,{})})}),(0,b.jsx)(r.x1,{role:"tabpanel","aria-labelledby":"contact-tab-pane",visible:3===e,className:"master_card tab_height_master",children:(0,b.jsx)(r.sK,{children:3===e&&(0,b.jsx)(R,{})})}),(0,b.jsx)(r.x1,{role:"tabpanel","aria-labelledby":"contact-tab-pane",visible:4===e,className:"master_card tab_height_master",children:(0,b.jsx)(r.sK,{children:4===e&&(0,b.jsx)(L,{})})}),(0,b.jsx)(r.x1,{role:"tabpanel","aria-labelledby":"contact-tab-pane",visible:5===e,className:"master_card tab_height_master",children:(0,b.jsx)(r.sK,{children:5===e&&(0,b.jsx)(be,{formatDate:e=>{let s=new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});return s.includes(",")||(s=s.replace(/(\w{3}) (\d{4})/,"$1, $2")),s},FlowList:c,prodOwnerList:d,techOwnerList:m,dataOwnerList:p,categories:j,techHeadList:v,prodHeadList:y,dataHeadList:A})})})]})]})})})})]})}},25848:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAxFSURBVHgBzVhrjFz3XT33fe/Mnffszu7Ym13v+pXYrVOnjmoobULbUKmioEKL1KLCByhIPEMFCBXUUpGqFSjCSCAQSMHhQ0WAQpvSqArEKc2zbeLH2uu19707uzs7s/OeOzP3zbk3qeXQEJrypWNd27sz9///3fM7v3POf4AfopeAH+D14Y//0VnYvQ8Yknc4reNoxhSHGVO7nEga//rrn/rsk/gBX2+qmI/+xsP32j37CyzkPjgtiLxk0UZSEzE+loWhqwgE4RvVvfqnD07N9D71uT99+c2s/30VE4ah8LEH//7PfHv4YKd6U2hWrsK3O0jqMtJJBaqqYGTb6PUHSCUNqLKKTK6Ecim3lkrrf/wHn3v4UUEQwv93Mb/3hWdSPbf/T71m4ydWvvM4RNgoZtKQAgu+04HnORBFIJ1KImXq2NmtxVc6VUAhl0Z5IscCE2sL1xfv/9JTz2280V7SG735F1/7mtbo6P8xsvr3LTz7z5A1HfBGqG4twBl2CZkPXZYgsRjbcTEa2Wg0W+j3LHhBCMNIIG0m0O9bOUkUfyprpM6vV6uj/20/+Y2K2d0onfPd3tkrz/4bvFBEb3cJSjBkG2TU9uswVBnZdIJtDFDdb2MwtJElQkHgwe1b6FsWXri4h0wqgUIqecgwpHNc9hfwZpH5/b968SHbdh7cXr6EbmsPze1FCP4I9qgPVZFxsDROrkgYjkZwXA++78dXp9uH57pw/ACCIOP44VncdXQGG5Vd/t45NZXNPLVRb2y+3p6vy5lf+fyTH5cC8fzylaexvTKP3v4GfLZH8gYwEgnYVhfDQS9uEwIfHv+RJCFeTGHP3n5sCvuDAM2BC0GUcfdb7sJb77wDV64sYG1968Jz127+OL7fNnWq1Y/VK9ex+K2vxPXaViueGD4qes09BJ6LvOjiZEbF8WIex6bHMXf0IMpz08gdmIReGEeztocHP/23uNZx8MK3v4P9RgMffP+PIpc175f84N3fXFz+xv+JzC/+7iMTl5/798f3d5beHkTQuyOMBh0YmgqZSIS+jQQCvK+o4B1zkzhx/CAmj0zBZNuUdBaiYUJkG9kT1BYu45f+5DFc6wNaKk0p0HH2njuJXnDJQ+a9f/noo43b934NZz5z4YL85XN//kJ98+opRc/CHbbhOTa54CJp6Ehwj2hyZnUR75sdw4kjB1A6NAkzm4bM90W+KZLM7Gk8dZrsYczu4qtXKhg4Hmxyay3ijuNP2IP2e47PHH5scX199LrFrD+/9JHO3sqvJrMTSFG0hp09DId96oiIA2MFpFiN7/q4Jyvj9Mw4xibySGZMKFReURRe5VBUiI3QGSK0+9CpS5fmK1i2gpjgsiRhp96A6zhl2+kfrdRbj313f/H2YkTPckrTb0WxMMkxvkFBcxHyTz4/jvG8CV1RoMgiFEWCT0ENiIJnO7xG8EcD+EPqi9Xj1YVvdfjzALom4dREioVyfUlFn+MfUb1Sa5JH7Q8dK+V/63sIfP8Hf/t3OntLv+z29mD1+FS8oTA5hwR5a8o2JgppXNzdRcgCl9oOLr24CumlTdw9lcd7ThzAmRN3QGKhEQlfuL6B1f0+aq0Out0B9WeEyA00cinkliNnhAjIzmCEbEL9ad5y7lYxp85++G9uXnzyE5pEHHzKu5FFbmIKAv0nRWHLUeZfnl+MkTqshXiAk5Oj2IHINEYuWtUm7DvyUIjCyBrg8pV1ohbiYJKiWFDxVDVqUUDiCrSGJNp9Aa5tkUMuuxoIr0Gmsb0wM+xzQVavmAUkVRNWu8q+91GvdhC4DhK6grLMnifH8HdLIVQtwPsPJfAjJTEmatQumW3o7nfwtpkiqjCwsFmD3+8gkdQogkMoJEUxn4KZ1FHZJvqBiFAQHn0NgRVNT7v24AOjUQRfiH5jC8N+Cza54JF00VOenEjjdCmFasvG7HgBB3Qfx868C2p3Fw7vy08UoNCxt3aa2O5J+Id5K+ba8zcrSJPUEwWDj64jnc0in9ExGAy4eRAeuefszy0vL/u3kEnmpuu2dTWuzicKEdkCGp3PEaX1Ux9ErNbaOGGO476SgcmCj3QmgalwCfqhIlpNDWtru1A5RWa5iHecPIw7y9ex6yYw20ni2l4f03kdN1YtmF7IFmuYnpqMssnWV554wn4NMpli6bO21btLEiUoqhGPp0+Z1zQNeWrIeNaMnBdnZiYwRg7dfaSMWfImzfdCX0SzZ+OOUobt9KBnEzgwVcIEPalkMlqEHr650kDVE3F1u8OHk6DrGsY4nd2elZk9WP7WSqW6HE/z1Nw9n2xXN39GN1LUjCK0RC4CJp6mpJnByblyHAMUVUO13eEd7L8jsF6B2qIglBQM2y0USznMnjqCbt1CQIHzB8w7gyE6HRtvOf02zFeaXFPEbr2OqzdXMX9jA12Gsb1a7fxMlr2LkFEU7YvF8uGsIhK+ieMk7nZsAWZmHIenxqgTCtosot6hfnDTmfEsUikz9qdO10JtfRM6p0ologmTY1uvcZyHiGZk6MrYqtTxLy8t4FqNRivJcD3GC1LBYrxocU0KYVI1pMVGb3hZmjl69qFeY0txRhYGnR3GyQHM4gwKHGcENtqdJqr1JnoDZhWao8qFRGsEhS3JZw2UygXcXK5jfWkTXSa8udPHIPMz1esrWL28iKevruJL6xYnTaGDSxQ+mUbvkZN+xJmYl4T4xc7AfkaubV56RkkUHnAd+pDLcF2YppwP0KaiSqHLsQUsjm2kCZbIvMIJa/Ka4CIWNSXa4OjkNMdXRbqoQRJ8SJoHxmDUmW3+q+nGQyAzkHEmGMYyfEiNqHbiFECh7GqGFluCzMnddNs7cSCKoqLaq8PjeMtCwLCto9PvUzGpI1xo3RZRHDjI9vrINFW2RsSVi00UdAN6Qop/DnliGJ9VsbVZx9c3OlgbCByGyGBFIhLEfLz37pOoVLZ47bS1ZPJDS5vV1ZjArdbOJwzD2JDZ8+gGlwb3ilP7aJErfZJQFOjGUa6hSL3cDbHOJ650utjv0AhTPkY0yHw2E6NYLEtoMoL+53IDT1TZUhpjkoIZFaEQnW6vi2vLWzhQnsTxozO7Y4q+dssboyNEqjj3eASlqifgsgiXLXDYd5leEzl2hFh8zmCPh5yi5Z6HlUYbGw0eV0wJE9MybL2J3DTvDR3846UqHlkZsnhwnYAGK8ccifYIKRsNBq3VjV2KqnenlJC+GB2F4mLufddPHgpGjZ/33WHsynyDHuTH2cRMGIwNOhcKojricY+KchnOh+TddTrv9coeR32EdEJEm8V9/sIGzr9aSHSPz0kbkQKu68VmmU8ZRN7Cbm1vbalS+7WtWvPYmWOzZ2LO7Ny4aA49v07Jz7oc6QwJluA4l4smtnf34vwRpf8oLnw3GAq0XJM8UTkZ6+0RWvOrSMkCdvtDPLHl4FUQ482jsB7yYaJWG0RIJRdlRDrlHpqZm9yx2lan7wxrMTKVvco8x2snujk6+0RaEKFR329xnEfxFbXq9oQqceEkY+g4n7JMdR7n8SRDFNPkBjsRt+OVjwtxUQp/FnhP1PoIRT+SP77vdnoPZ1PGHy6uV9dvzzPnDTNzmqxN9botdDsNTkBk+a+gEmUwlZar8sDmUbRMlerMgDVGYyzyeEur4ZM6zDoO0RrCZKE+Nx9yCqMEGG3sewFbZcenzyhcRaeIwHd/89n5G1+9ReDor3a7/ogs6StBwPOO5z0d0rJURY3DUFRUhEw6TevnuIScnIOGgiQLyydUlDIGxnIJIqOiwKiQk8ksfibN3FIq5JidDWqOxnSoxALHUfAYG6LJ2ncE/SXc9rqVgTVNLmeyqfNaotDNJdV359iCSF80PmVUmJnkeYlCmBE8nC2lkWNB5ZyJMRpjgv+PCuBootIeYNPykWLx2bTJloZx66OTphg1SBA+ySa9M51IffT61tbF24u5FTtPnHnnX9e3qp9RR62PSIRxr9UOFS0hRJBHeSY6HRi2hB9LJzHFL2U0IpNNafQjDRpPlnxgiLKC906xGEbX6PA2MZ6jEQY82kTkFeCowpPfvrl2braUu7BQqVzG/3jdKqa2fk1wR+6Xe4Pe82EoX1XM8kOe3XtATyRjW0hSjQ8XpnBX2GIM1fi9jIhcLgkj+gqExYg0WsXxUSKhf/bsNL6+3Wb7TNSbXcxM5lHZ2oEmSZdf/WrkewqJXv8NHir5sV2O45AAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=299.618a90ca.chunk.js.map