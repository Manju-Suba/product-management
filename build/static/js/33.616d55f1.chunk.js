"use strict";(self.webpackChunkproduct_management=self.webpackChunkproduct_management||[]).push([[33],{67033:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var r=a(65043),s=a(93946),c=a(63406),n=a(61393),l=a(18125),o=a(25589),i=a(38510),d=a(87021),p=a(11125),h=(a(92342),a(60446)),x=a.n(h),u=a(35402),m=a(89330),g=a(64997),j=a(74668),f=a(43003),b=a(35475),y=a(70579);const{RangePicker:v}=n.A,Y=e=>{let{today:t,formatDate:a,status:n}=e,h=(0,u.A)();const[Y]=(0,r.useState)(n),[A,w]=(0,r.useState)(0),[N,C]=(0,r.useState)(""),[M,D]=(0,r.useState)(0),[S,R]=(0,r.useState)(""),[L,U]=(0,r.useState)([]),[F,T]=(0,r.useState)([]),[k,E]=(0,r.useState)([]),[_,I]=(0,r.useState)(!0),[P,B]=(0,r.useState)(!1),G=(0,r.useRef)(!0),Q=(0,r.useRef)(1),z=(0,r.useRef)(0),V=(0,r.useRef)(t),Z=(0,r.useRef)(0),K=(0,r.useRef)(),[H,X]=(0,r.useState)(t),[q,J]=(0,r.useState)(t),W=(0,r.useRef)(t),O=(0,r.useRef)(t),[$,ee]=(0,r.useState)(new AbortController),[te,ae]=(0,r.useState)(new AbortController),[re,se]=(0,r.useState)(!1),[ce,ne]=(0,r.useState)(!1),le=(0,r.useRef)("all"),oe=(0,r.useRef)("");(0,r.useEffect)((()=>{xe(W.current,O.current),G.current=!0,se(!0),de();const e=document.querySelector(".table-container");return e.addEventListener("scroll",ie),()=>{e.removeEventListener("scroll",ie)}}),[]);const ie=()=>{const e=document.querySelector(".table-container");e.scrollTop+e.clientHeight===e.scrollHeight&&!0===G.current&&(0!==z.current&&0===Z.current?ue(x()(W.current).format("YYYY-MM-DD"),x()(O.current).format("YYYY-MM-DD"),z.current):0!==Z.current?me(x()(W.current).format("YYYY-MM-DD"),x()(O.current).format("YYYY-MM-DD"),M):0===Z.current&&0===z.current&&xe(x()(W.current).format("YYYY-MM-DD"),x()(O.current).format("YYYY-MM-DD")))},de=async e=>{const t=void 0!==e?"user/supervisorlist?company=".concat(e):"user/supervisorlist";await h.get(t,{headers:(0,c.dJ)("json")}).then((e=>{const t=e.data.data;T(t),se(!1)})).catch((e=>{}))},pe=F.map((e=>({value:e.name,label:(0,y.jsxs)("div",{className:"select-options select-options-bg",children:[(0,y.jsx)("img",{src:e.profile_pic?c.ZX+e.profile_pic:p,style:e.profile_pic?{width:"29px"}:{width:"39px"},alt:e.name,className:"img-flag"}),(0,y.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,y.jsx)("p",{className:"user-name1",title:e.name,children:(0,f.MX)(e.name)}),(0,y.jsx)("p",{className:"role-text1",children:e.role})]})]})}))),he=k.map((e=>({value:e.name,label:(0,y.jsxs)("div",{className:"select-options select-options-bg",children:[(0,y.jsx)("img",{src:e.profile_pic?c.ZX+e.profile_pic:p,style:e.profile_pic?{width:"29px"}:{width:"39px"},alt:e.name,className:"img-flag"}),(0,y.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,y.jsx)("p",{className:"user-name1",title:e.name,children:(0,f.MX)(e.name)}),(0,y.jsx)("p",{className:"role-text1",children:e.role})]})]})}))),xe=async(e,t,a)=>{let r;1===Q.current&&(I(!0),U([]),$&&$.abort(),r=new AbortController,ee(r));let s=""===oe.current?"user/supervisorid/all/".concat(e,"/").concat(t,"/").concat(le.current,"/").concat(Q.current,"/10"):"user/supervisorid/all/".concat(e,"/").concat(t,"/").concat(le.current,"/").concat(Q.current,"/10?company=").concat(oe.current);try{var n;const e=(await h.get(s,{headers:(0,c.dJ)("json"),signal:null===(n=r)||void 0===n?void 0:n.signal})).data.data.content;1===Q.current?U(e):U((t=>[...t,...e])),e.length<10&&(G.current=!1),Q.current=Q.current+1,I(!1)}catch(l){}},ue=async(e,t,a)=>{var r;let s;1===Q.current&&(I(!0),U([]),te&&te.abort(),s=new AbortController,ae(s));let n="user/supervisorid/all/".concat(e,"/").concat(t,"/").concat(le.current,"/").concat(Q.current,"/10?supervisorId=").concat(a);await h.get(n,{headers:(0,c.dJ)("json"),signal:null===(r=s)||void 0===r?void 0:r.signal}).then((e=>{const t=e.data.data.content;1===Q.current?U(t):U((e=>[...e,...t])),t.length<10&&(G.current=!1),Q.current=Q.current+1,I(!1)})).catch((e=>{}))},me=async(e,t,a)=>{var r;let s;1===Q.current&&(I(!0),U([]),$&&$.abort(),s=new AbortController,ee(s));let n="user/supervisorid/all/".concat(e,"/").concat(t,"/").concat(le.current,"/").concat(Q.current,"/10?memberId=").concat(a);await h.get(n,{headers:(0,c.dJ)("json"),signal:null===(r=s)||void 0===r?void 0:r.signal}).then((e=>{const t=e.data.data.content;1===Q.current?U(t):U((e=>[...e,...t])),t.length<10&&(G.current=!1),Q.current=Q.current+1,I(!1)})).catch((e=>{}))},ge=e=>{if(""!==e&&null!==e){const[t,a]=e.split(":").map(Number);let r="";return t>0&&(r+="".concat(t," hrs")),a>0&&(r+=" ".concat(a," mins")),r.trim()}return"-"},je={"Past 1 Week":[x()().subtract(6,"days"),x()()],"Past 2 Weeks":[x()().subtract(13,"days"),x()()],"Past 1 Month":[x()().subtract(1,"months"),x()()],"Custom Range":[null,null]},fe=e=>{de(e),oe.current=e,Q.current=1,G.current=!0,0===Z.current&&0===z.current?(async(e,t,a)=>{let r;1===Q.current&&(I(!0),U([]),$&&$.abort(),r=new AbortController,ee(r));const s=void 0!==a?"user/supervisorid/all/".concat(e,"/").concat(t,"/").concat(le.current,"/").concat(Q.current,"/10?company=").concat(a):"user/supervisorid/all/".concat(e,"/").concat(t,"/").concat(le.current,"/").concat(Q.current,"/10");try{var n;const e=(await h.get(s,{headers:(0,c.dJ)("json"),signal:null===(n=r)||void 0===n?void 0:n.signal})).data.data.content;1===Q.current?U(e):U((t=>[...t,...e])),e.length<10&&(G.current=!1),Q.current=Q.current+1,I(!1)}catch(l){}})(x()(W.current).format("YYYY-MM-DD"),x()(O.current).format("YYYY-MM-DD"),e):0===Z.current&&0!==z.current?ue(x()(W.current).format("YYYY-MM-DD"),x()(O.current).format("YYYY-MM-DD"),z.current):0!==Z.current&&0!==z.current&&me(x()(W.current).format("YYYY-MM-DD"),x()(O.current).format("YYYY-MM-DD"),Z.current)};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(s.sK,{className:"mt-3",children:[(0,y.jsxs)(s.UF,{sm:2,md:2,lg:2,xl:2,children:[(0,y.jsx)("b",{style:{paddingLeft:"30px"},children:Y}),(0,y.jsx)("br",{}),(0,y.jsx)(l.A,{style:{paddingLeft:"30px"},className:"bread-tab",separator:(0,y.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,y.jsx)(b.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,y.jsx)("span",{className:"text-secondary ",style:{cursor:"default"},children:"All Report"})}]})]}),(0,y.jsx)(s.UF,{sm:2,md:2,lg:2,xl:2,children:(0,y.jsx)(v,{variant:"borderless",ranges:je,style:{width:"94%"},ref:K,className:"rangeField report_rangepicker",onChange:e=>{e&&(Q.current=1,G.current=!0,z.current=0,Z.current=0,R(""),D(0),C(""),w(0),U([]),I(!0),E([]),X(e[0]),J(e[1]),W.current=e[0],O.current=e[1],xe(x()(e[0]).format("YYYY-MM-DD"),x()(e[1]).format("YYYY-MM-DD")))},defaultValue:[x()(H,"YYYY-MM-DD"),x()(q,"YYYY-MM-DD")],calendar:"date",format:"DD MMM,YY",allowClear:!1,disabledDate:e=>e&&e>x()().endOf("day")})}),(0,y.jsx)(s.UF,{sm:2,md:1,lg:1,xl:1,style:{padding:"0px"},children:(0,y.jsx)(o.A,{className:"choose_mem_report ",id:"member-list",onChange:e=>fe(e),options:[{value:"hepl",label:"HEPL"},{value:"citpl",label:"CITPL"}],placeholder:"Company",allowClear:!0,showSearch:!0,style:{width:"-webkit-fill-available"},suffixIcon:(0,y.jsx)("img",{src:j,alt:j,style:{width:"10px",height:"6px"}})})}),(0,y.jsx)(s.UF,{sm:3,md:2,lg:1,xl:2,children:(0,y.jsx)(o.A,{className:"choose_mem_report ",id:"member-list",onChange:e=>(e=>{le.current=void 0===e?"all":e,Q.current=1,G.current=!0,0===Z.current&&0===z.current?xe(x()(W.current).format("YYYY-MM-DD"),x()(O.current).format("YYYY-MM-DD")):0===Z.current&&0!==z.current?ue(x()(W.current).format("YYYY-MM-DD"),x()(O.current).format("YYYY-MM-DD"),z.current):0!==Z.current&&0!==z.current&&me(x()(W.current).format("YYYY-MM-DD"),x()(O.current).format("YYYY-MM-DD"),Z.current)})(e),options:[{value:"entered",label:"Entered"},{value:"not entered",label:"Not Entered"}],placeholder:"Choose Status",allowClear:!0,showSearch:!0,style:{width:"-webkit-fill-available"},suffixIcon:(0,y.jsx)("img",{src:j,alt:j,style:{width:"10px",height:"6px"}})})}),(0,y.jsx)(s.UF,{sm:2,md:2,lg:2,xl:2,children:(0,y.jsx)(o.A,{className:" custom-select-report ",id:"supervisor-list",value:pe.find((e=>e.value===N))||null,onChange:e=>{if(e){var t;Q.current=1,G.current=!0,R(""),D(0),U([]),I(!0),E([]),Z.current=0;const a=e,r=Number((null===(t=F.find((e=>e.name===a)))||void 0===t?void 0:t.id)||"");C(a),w(r),z.current=r,ue(x()(W.current).format("YYYY-MM-DD"),x()(O.current).format("YYYY-MM-DD"),r),ne(!0),(async e=>{var t;let a;1===Q.current&&(I(!0),E([]),$&&$.abort(),a=new AbortController,ee(a));const r="user/supervisor/".concat(e);await h.get(r,{headers:(0,c.dJ)("json"),signal:null===(t=a)||void 0===t?void 0:t.signal}).then((e=>{const t=e.data.data;E(t),I(!1),ne(!1)})).catch((e=>{}))})(r)}else C(""),w(0),U([]),I(!0),z.current=0,G.current=!0,Q.current=1,E([]),xe(x()(W.current).format("YYYY-MM-DD"),x()(O.current).format("YYYY-MM-DD"))},options:re?[{label:(0,y.jsx)("div",{style:{textAlign:"center"},children:Array.from({length:5},((e,t)=>(0,y.jsx)(i.A,{title:!1,avatar:{size:"20"},paragraph:{rows:2,height:"10px",style:{height:"10px !important"}}},t)))}),value:"loading",disabled:!0}]:pe,placeholder:"Choose Supervisor",allowClear:!0,showSearch:!0,style:{width:"-webkit-fill-available"},suffixIcon:(0,y.jsx)("img",{src:j,alt:j,style:{width:"10px",height:"6px"}})})}),(0,y.jsx)(s.UF,{sm:2,md:2,lg:2,xl:2,children:(0,y.jsx)(o.A,{className:"choose_mem_report ",id:"member-list",value:he.find((e=>e.value===S))||null,onChange:e=>{if(e){var t;const a=e,r=Number((null===(t=k.find((e=>e.name===a)))||void 0===t?void 0:t.id)||"");R(a),D(r),U([]),I(!0),Q.current=1,G.current=!0,Z.current=r,me(x()(W.current).format("YYYY-MM-DD"),x()(O.current).format("YYYY-MM-DD"),r)}else R(""),D(0),U([]),I(!0),G.current=!0,Z.current=0,Q.current=1,ue(x()(W.current).format("YYYY-MM-DD"),x()(O.current).format("YYYY-MM-DD"),A)},options:ce?[{label:(0,y.jsx)("div",{style:{textAlign:"center"},children:Array.from({length:5},((e,t)=>(0,y.jsx)(i.A,{title:!1,avatar:{size:"20"},paragraph:{rows:2,height:"10px",style:{height:"10px !important"}}},t)))}),value:"loading",disabled:!0}]:he,placeholder:"Choose Member",allowClear:!0,showSearch:!0,style:{width:"-webkit-fill-available"},suffixIcon:(0,y.jsx)("img",{src:j,alt:j,style:{width:"10px",height:"6px"}})})}),(0,y.jsx)(s.UF,{sm:1,xl:1,children:(0,y.jsx)(d.Ay,{className:"submit-button-dow btn-sm save_changes down_excel_button",loading:P,style:{cursor:0===L.length?"not-allowed":"pointer",fontSize:"11px",color:"white",height:"42px",width:"20%",display:"flex",justifyContent:"center",alignItems:"center"},type:"button",title:"Download as Excel",disabled:0===L.length,onClick:()=>(async(e,t,a,r)=>{B(!0);const s=x()(H).format("YYYY-MM-DD"),c=x()(q).format("YYYY-MM-DD"),n=""===oe.current?"GenerateReport/downloadExcel?fromDate=".concat(s,"&toDate=").concat(c,"&status=").concat(le.current,"&supervisorid=").concat(a,"&memberid=").concat(r):"GenerateReport/downloadExcel?fromDate=".concat(s,"&toDate=").concat(c,"&companyid=").concat(oe.current,"&status=").concat(le.current,"&supervisorid=").concat(a,"&memberid=").concat(r);try{const a=await h.get(n,{headers:{"Content-Type":"application/octet-stream"},responseType:"arraybuffer"}),r=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),s=document.createElement("a");s.href=window.URL.createObjectURL(r),s.download="".concat(e,"_details_").concat(t,".xlsx"),document.body.appendChild(s),s.click(),document.body.removeChild(s),B(!1)}catch(l){}})(Y,V.current,A,M),children:(0,y.jsx)(m.A,{})})})]}),(0,y.jsx)("div",{className:"table-container table_scroll-report",style:{border:"none"},children:(0,y.jsxs)(g.A,{dataLength:L.length,next:ie,hasMore:G.current,loader:(0,y.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,y.jsx)(s.JT,{color:"danger"})}),endMessage:0!==L.length&&(0,y.jsx)("p",{style:{textAlign:"center"},children:(0,y.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),children:[(0,y.jsxs)(s._v,{hover:!0,children:[(0,y.jsx)(s.wV,{className:"head-row draft-head-row-ts",children:(0,y.jsxs)(s.YI,{children:[(0,y.jsx)(s.$s,{className:"table-head-productlist text-c text-center",scope:"col",width:"4%",children:"SI.No"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Activity Date"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"8%",children:"Branch"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Member"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Supervisor Name"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Supervisor Status"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Tot.of.hrs"})]})}),(0,y.jsx)(s.jS,{children:L?L.map(((e,t)=>(0,y.jsxs)(s.YI,{children:[(0,y.jsx)(s.cC,{className:"text-c text-center pd-text1 grid-cell",children:t+1}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",children:a(e.activity_date)}),(0,y.jsx)(s.cC,{className:" text-c pd-text1 grid-cell",children:e.branch}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",children:null!==e.userName?(0,f.MX)(e.userName):"-"}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",children:null!==e.supervisorName?(0,f.MX)(e.supervisorName):"-"}),(0,y.jsx)(s.cC,{className:"text-c grid-cell ".concat("Approved"===e.supervisorStatus?"green-text1 ":"Pending"===e.supervisorStatus?"warning-text1 ":"Reject"===e.supervisorStatus?"red-text1 ":"pd-text1"),width:"10%",children:(0,y.jsxs)("span",{children:["Approved"===e.supervisorStatus&&(0,y.jsx)("span",{style:{fontSize:"16px"},children:"\u2022"}),"Pending"===e.supervisorStatus&&(0,y.jsx)("span",{style:{fontSize:"16px"},children:"\u2022"}),"Reject"===e.supervisorStatus&&(0,y.jsx)("span",{style:{fontSize:"16px"},children:"\u2022"}),(0,y.jsx)("span",{style:{marginLeft:"5px"},children:e.supervisorStatus?e.supervisorStatus:"-"})]})}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",children:ge(e.hours)})]},t))):(0,y.jsx)("div",{})})]}),null===L&&!_||0===L.length&&!_?(0,y.jsx)("div",{className:"text-c text-center my-3 td-text",children:"No Data Found"}):_?(0,y.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,y.jsx)(s.JT,{color:"danger"})}):(0,y.jsx)("div",{})]})})]})};var A=a(32513),w=a(40322);const N=e=>{let{width:t,height:a,fill:r,viewBox:s}=e;return(0,y.jsxs)("svg",{width:t,height:a,viewBox:s,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.jsxs)("g",{clipPath:"url(#clip0_5042_52946)",children:[(0,y.jsx)("path",{d:"M7.4094 13.5918C7.61835 13.8006 7.86645 13.9664 8.13953 14.0796C8.41261 14.1928 8.70531 14.251 9.0009 14.251C9.2965 14.251 9.5892 14.1928 9.86227 14.0796C10.1353 13.9664 10.3835 13.8006 10.5924 13.5918L13.0007 11.1833C13.1298 11.0404 13.199 10.8535 13.1941 10.661C13.1891 10.4685 13.1104 10.2853 12.9741 10.1494C12.8378 10.0134 12.6545 9.93499 12.462 9.93045C12.2695 9.92592 12.0827 9.99558 11.9402 10.125L9.74565 12.3202L9.7509 0.75C9.7509 0.551088 9.67188 0.360322 9.53123 0.21967C9.39058 0.0790176 9.19981 0 9.0009 0C8.80199 0 8.61122 0.0790176 8.47057 0.21967C8.32992 0.360322 8.2509 0.551088 8.2509 0.75L8.24418 12.306L6.06165 10.125C5.92092 9.98437 5.73009 9.9054 5.53114 9.90547C5.33218 9.90554 5.14141 9.98464 5.00078 10.1254C4.86018 10.2661 4.78118 10.4569 4.78125 10.6559C4.78132 10.8548 4.86042 11.0456 5.00118 11.1862L7.4094 13.5918Z",fill:r}),(0,y.jsx)("path",{d:"M17.25 12C17.0511 12 16.8603 12.079 16.7197 12.2197C16.579 12.3603 16.5 12.5511 16.5 12.75V18.75C16.5 18.9489 16.421 16.1397 16.2803 16.2803C16.1397 16.421 18.9489 16.5 18.75 16.5H2.25C2.05109 16.5 1.86032 16.421 1.71967 16.2803C1.57902 16.1397 1.5 18.9489 1.5 18.75V12.75C1.5 12.5511 1.42098 12.3603 1.28033 12.2197C1.13968 12.079 0.948912 12 0.75 12C0.551088 12 0.360322 12.079 0.21967 12.2197C0.0790176 12.3603 0 12.5511 0 12.75L0 18.75C0 16.3467 0.237053 16.919 0.65901 17.341C1.08097 17.7629 1.65326 18 2.25 18H18.75C16.3467 18 16.919 17.7629 17.341 17.341C17.7629 16.919 18 16.3467 18 18.75V12.75C18 12.5511 17.921 12.3603 17.7803 12.2197C17.6397 12.079 17.4489 12 17.25 12Z",fill:r})]}),(0,y.jsx)("defs",{children:(0,y.jsx)("clipPath",{id:"clip0_5042_52946",children:(0,y.jsx)("rect",{width:t,height:a,fill:r})})})]})};a(25015);var C=a(55747),M=a(47419),D=a(11645),S=a(12834);const{RangePicker:R}=n.A,L=e=>{let{close:t,name:a,id:n,titleList:o,today:i,formatDate:p,startDateValue:h,endDateValue:g}=e,j=(0,u.A)();const f=(0,r.useRef)(),[v,Y]=(0,r.useState)(!0),[A,w]=(0,r.useState)(h),[N,C]=(0,r.useState)([]),[L,U]=(0,r.useState)(g),[F,T]=(0,r.useState)(!1);(0,r.useEffect)((()=>{h&&g&&k(x()(h).format("YYYY-MM-DD"),x()(g).format("YYYY-MM-DD"))}),[h,g]);const k=async(e,t)=>{const a="GenerateReport/id/".concat(n,"/date/").concat(e,"/").concat(t);await j.get(a,{headers:(0,c.dJ)("json")}).then((e=>{const t=e.data.data.reduce(((e,t)=>{const a=t[0].activity_date;return e[a]||(e[a]=[]),e[a].push(...t),e}),{});C(t),Y(!1)})).catch((e=>{}))},E=e=>{if(""!==e&&null!==e){const[t,a]=e.split(":").map(Number);let r="";return t>0&&(r+="".concat(t," hrs")),a>0&&(r+=" ".concat(a," mins")),r.trim()}return"-"},_={"Past 1 Week":[x()().subtract(6,"days"),x()()],"Past 2 Weeks":[x()().subtract(13,"days"),x()()],"Past 1 Month":[x()().subtract(1,"months"),x()()],"Custom Range":[null,null]};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(M.A,{className:"mt-3",gutter:16,children:[(0,y.jsx)(D.A,{sm:12,children:(0,y.jsxs)("div",{style:{display:"flex"},children:[(0,y.jsx)("div",{style:{display:"flex",alignItems:"center",width:"35px"},children:(0,y.jsx)("span",{className:"",onClick:t,style:{cursor:"pointer",marginLeft:"15px",marginTop:"15px"},children:(0,y.jsx)(S.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})}),(0,y.jsxs)(s.UF,{children:[(0,y.jsxs)("h6",{className:"product-heading",style:{marginTop:"2%"},children:["View ",(0,y.jsx)("span",{style:{color:"#E01B38"},children:a})]}),(0,y.jsx)(l.A,{className:"bread-tab",separator:(0,y.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,y.jsx)(b.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,y.jsx)("span",{className:"bread-items text-secondary second-subheading",style:{cursor:"pointer"},onClick:t,children:"Report List"})},{title:(0,y.jsx)("span",{className:"text-secondary second-subheading",style:{cursor:"default"},children:"Detail View"})}]})]})]})}),(0,y.jsx)(D.A,{sm:2}),(0,y.jsx)(D.A,{sm:6,children:(0,y.jsx)(R,{variant:"borderless",style:{width:"90%",marginTop:"15px"},className:"rangeField range-file-view report_datepicker",ranges:_,ref:f,defaultValue:[x()(A,"YYYY-MM-DD"),x()(L,"YYYY-MM-DD")],onChange:e=>{e&&(w(e[0]),U(e[1]),k(x()(e[0]).format("YYYY-MM-DD"),x()(e[1]).format("YYYY-MM-DD")))},format:"DD MMM,YYYY",allowClear:!1,disabledDate:e=>e&&e>x()().endOf("day")})}),(0,y.jsx)(D.A,{sm:3,children:(0,y.jsxs)(d.Ay,{className:" submit-button-view save_changes",loading:F,style:{cursor:0===Object.keys(N).length?"not-allowed":"pointer",fontSize:"13px",marginTop:"7px",width:"100%",color:"white"},type:"button",disabled:0===Object.keys(N).length,onClick:()=>(async()=>{T(!0);const e=x()(A).format("YYYY-MM-DD"),t=x()(L).format("YYYY-MM-DD"),a="GenerateReport/pdf/".concat(n,"/").concat(e,"/").concat(t);try{const e=await j.get(a,{headers:{"Content-Type":"application/octet-stream"},responseType:"arraybuffer"}),t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=document.createElement("a");r.href=window.URL.createObjectURL(t),r.download="Report_".concat(A,"_").concat(L,".pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r),T(!1)}catch(r){}})(),children:[(0,y.jsx)(m.A,{}),"Download"]})})]}),(0,y.jsxs)("div",{className:"table-container table_scroll",style:{border:"none",marginTop:"20px"},children:[(0,y.jsxs)(s._v,{hover:!0,children:[(0,y.jsx)(s.wV,{className:"head-row draft-head-row-ts",children:(0,y.jsxs)(s.YI,{children:[(0,y.jsx)(s.$s,{className:"table-head-productlist text-c text-center ",scope:"col",width:"4%",children:"SI.No"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Product"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"8%",children:"Task"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"No.of.Hours"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Description"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"User Status"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Approver Status"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Approver Remarks"})]})}),(0,y.jsx)(s.jS,{children:N?Object.entries(N).map(((e,t)=>{let[a,c]=e;return(0,y.jsxs)(r.Fragment,{children:[(0,y.jsx)(s.YI,{children:(0,y.jsx)(s.cC,{colSpan:8,className:"height_date grid-cell",children:(0,y.jsx)("span",{style:{marginLeft:"12px",color:"grey",fontSize:"10px"},children:p(a)})})}),c.map(((e,t)=>(0,y.jsxs)(s.YI,{children:[(0,y.jsx)(s.cC,{className:"text-c text-center pd-text1 grid-cell",children:t+1}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",children:e.productName}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",children:e.task}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",children:e.hours?E(e.hours):"-"}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",children:null!==e.description?e.description:"-"}),(0,y.jsx)(s.cC,{className:"text-c grid-cell ".concat("Approved"===e.userstatus?"green-text1 ":"Pending"===e.userstatus?"warning-text1 ":"Reject"===e.userstatus?"red-text1 ":"pd-text1"),width:"10%",children:(0,y.jsxs)("span",{children:["Approved"===e.userstatus&&(0,y.jsx)("span",{style:{fontSize:"20px"},children:"\u2022"}),"Pending"===e.userstatus&&(0,y.jsx)("span",{style:{fontSize:"20px"},children:"\u2022"}),"Reject"===e.userstatus&&(0,y.jsx)("span",{style:{fontSize:"20px"},children:"\u2022"}),(0,y.jsx)("span",{style:{marginLeft:"5px"},children:e.userstatus?e.userstatus:"-"})]})}),(0,y.jsx)(s.cC,{className:"text-c grid-cell ".concat("Approved"===e.approveStatus?"green-text1 ":"Pending"===e.approveStatus||"Not yet"===e.approveStatus?"warning-text1 ":"Reject"===e.approveStatus?"red-text1 ":"pd-text1"),width:"10%",children:(0,y.jsxs)("span",{children:["Approved"===e.approveStatus&&(0,y.jsx)("span",{style:{fontSize:"16px"},children:"\u2022"}),"Pending"===e.approveStatus&&(0,y.jsx)("span",{style:{fontSize:"16px"},children:"\u2022"}),"Not yet"===e.approveStatus&&(0,y.jsx)("span",{style:{fontSize:"16px"},children:"\u2022"}),"Reject"===e.approveStatus&&(0,y.jsx)("span",{style:{fontSize:"16px"},children:"\u2022"}),(0,y.jsx)("span",{style:{marginLeft:"5px"},children:e.approveStatus?e.approveStatus:"-"})]})}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",children:e.remarks?e.remarks:"-"})]},t)))]},t)})):(0,y.jsx)("div",{})})]}),0===Object.keys(N).length&&!v||void 0===N&&!v||0===N.length&&!v?(0,y.jsx)("div",{className:"text-c text-center my-3 td-text",children:"No Data Found"}):v?(0,y.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,y.jsx)(s.JT,{color:"danger"})}):(0,y.jsx)("div",{})]})]})},{RangePicker:U}=n.A,F=e=>{let{today:t,formatDate:a}=e,n=(0,u.A)();const d=(0,r.useRef)(),[h,v]=(0,r.useState)(!0),[Y,M]=(0,r.useState)(""),D=(0,r.useRef)(!0),[S,R]=(0,r.useState)([]),F=(0,r.useRef)(0),[T,k]=(0,r.useState)(t),[E,_]=(0,r.useState)(t),I=(0,r.useRef)(t),P=(0,r.useRef)(t),[B,G]=(0,r.useState)([]),[Q,z]=(0,r.useState)([]),[V,Z]=(0,r.useState)(0),[K,H]=(0,r.useState)(""),[X,q]=(0,r.useState)(!1),[J,W]=(0,r.useState)(new AbortController),[O,$]=(0,r.useState)(!1),ee=(0,r.useRef)("all"),te=(0,r.useRef)(0),ae=(0,r.useRef)(1);(0,r.useEffect)((()=>{D.current=!0,ne(I.current,P.current),$(!0),re();const e=document.querySelector(".table-container");return e.addEventListener("scroll",le),()=>{e.removeEventListener("scroll",le)}}),[]);const re=async()=>{var e;let t;0===F.current&&(v(!0),G([]),J&&J.abort(),t=new AbortController,W(t));const a="GenerateReport/contractmembers?roletype=".concat(ee.current);await n.get(a,{headers:(0,c.dJ)("json"),signal:null===(e=t)||void 0===e?void 0:e.signal}).then((e=>{const t=e.data.data;G(t),$(!1)})).catch((e=>{}))},se=B.map((e=>({value:e.name,label:(0,y.jsxs)("div",{className:"select-options select-options-bg",children:[(0,y.jsx)("img",{src:e.profile_pic?c.ZX+e.profile_pic:p,style:e.profile_pic?{width:"29px"}:{width:"39px"},alt:e.name,className:"img-flag"}),(0,y.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,y.jsxs)("p",{className:"user-name1",title:e.name,children:[" ",e.name]}),(0,y.jsx)("p",{className:"role-text1",children:e.role})]})]})}))),ce=e=>{if(""!==e&&null!==e){const[t,a]=e.split(":").map(Number);let r="";return t>0&&(r+="".concat(t," hrs")),a>0&&(r+=" ".concat(a," mins")),r.trim()}return"-"},ne=async(e,t)=>{let a;0===F.current&&(v(!0),R([]),J.abort(),a=new AbortController,W(a));const r="GenerateReport/Supervisorcontract/daterange/".concat(e,"/").concat(t,"/").concat(F.current,"/").concat(ae.current,"?userid=").concat(te.current,"&roletype=").concat(ee.current);try{var s;const e=(await n.get(r,{headers:(0,c.dJ)("json"),signal:null===(s=a)||void 0===s?void 0:s.signal})).data.data;0===F.current?R(e):R((t=>[...t,...e])),e.length<10&&(D.current=!1),F.current=F.current+1,v(!1)}catch(l){}},le=()=>{const e=document.querySelector(".table-container");e.scrollTop+e.clientHeight===e.scrollHeight&&!0===D.current&&ne(I.current,P.current)},oe=e=>{if(e){const e=S.filter((e=>"Approved"===e.finalApprove)).map((e=>e.id));0!==e.length&&(M("".concat(e.length," Selected")),z(e))}else z([]),M("")},ie={"Past 1 Week":[x()().subtract(6,"days"),x()()],"Past 2 Weeks":[x()().subtract(13,"days"),x()()],"Past 1 Month":[x()().subtract(1,"months"),x()()],"Custom Range":[null,null]};return(0,y.jsx)(y.Fragment,{children:X?(0,y.jsx)(L,{id:V,name:K,titleList:"Detail View",today:t,startDateValue:T,endDateValue:E,close:()=>{q(!1),te.current=0,ae.current=1,F.current=0,ne(I.current,P.current)},formatDate:a}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(s.sK,{className:"mt-3",children:[(0,y.jsxs)(s.UF,{xs:7,sm:5,md:6,children:[(0,y.jsx)("b",{style:{paddingLeft:"30px"},children:"My Team"}),(0,y.jsx)("br",{}),(0,y.jsx)(l.A,{style:{paddingLeft:"30px"},className:"bread-tab",separator:(0,y.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,y.jsx)(b.N_,{to:"/dashboard",className:"bread-items text-decoration-none text-secondary",children:"Dashboard"})},{title:(0,y.jsx)("span",{className:"text-secondary ",style:{cursor:"default"},children:"My Team"})}]})]}),(0,y.jsx)(s.UF,{className:"report_myTeam",xs:12,sm:4,md:3,children:(0,y.jsx)(U,{variant:"borderless",ranges:ie,style:{width:"90%"},ref:d,className:"rangeField_report  report_datepicker_myteam ",onChange:e=>{F.current=0,D.current=!0,e&&(k(e[0]),_(e[1]),I.current=x()(e[0]).format("YYYY-MM-DD"),P.current=x()(e[1]).format("YYYY-MM-DD"),ne(x()(e[0]).format("YYYY-MM-DD"),x()(e[1]).format("YYYY-MM-DD")))},defaultValue:[x()(T,"YYYY-MM-DD"),x()(E,"YYYY-MM-DD")],calendar:"date",format:"DD MMM,YYYY",allowClear:!1,disabledDate:e=>e&&e>x()().endOf("day")})}),(0,y.jsx)(s.UF,{xs:12,sm:2,md:1,className:"report_myTeam",children:(0,y.jsx)(o.A,{className:"choose_mem_report ",id:"member-list",onChange:e=>(e=>{ee.current=void 0===e?"all":e,re(),F.current=0,ae.current=1,ne(I.current,P.current)})(e),options:[{value:"ON Role",label:"ON Role"},{value:"Contract",label:"Contract"}],placeholder:"Choose Role Type",allowClear:!0,showSearch:!0,style:{width:"-webkit-fill-available"},suffixIcon:(0,y.jsx)("img",{src:j,alt:j,style:{width:"10px",height:"6px"}})})}),(0,y.jsx)(s.UF,{xs:12,sm:2,md:2,className:"report_myTeam",children:(0,y.jsx)(o.A,{className:" custom-select_report",id:"member-list",onChange:e=>{var t;ae.current=e?20:1;const a=Number((null===(t=B.find((t=>t.name===e)))||void 0===t?void 0:t.id)||"");F.current=0,D.current=!0,te.current=a,ne(I.current,P.current)},options:O?[{label:(0,y.jsx)("div",{style:{textAlign:"center"},children:Array.from({length:5},((e,t)=>(0,y.jsx)(i.A,{title:!1,avatar:{size:"20"},paragraph:{rows:2,height:"10px",style:{height:"10px !important"}}},t)))}),value:"loading",disabled:!0}]:se,placeholder:"Choose Member",allowClear:!0,showSearch:!0,style:{width:"-webkit-fill-available"},suffixIcon:(0,y.jsx)("img",{src:j,alt:j,style:{width:"12px",height:"7px"}})})})]}),(0,y.jsx)("div",{className:"table-container table_scroll_report",style:{border:"none"},children:(0,y.jsxs)(g.A,{dataLength:S.length,next:le,hasMore:D.current,loader:(0,y.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,y.jsx)(s.JT,{color:"danger"})}),endMessage:0!==S.length&&(0,y.jsx)("p",{style:{textAlign:"center"},children:(0,y.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),children:[(0,y.jsxs)(s._v,{hover:!0,children:[(0,y.jsx)(s.wV,{className:"head-row draft-head-row-ts",children:Y?(0,y.jsxs)(s.YI,{children:[(0,y.jsx)(s.$s,{className:"table-head-selected text-center  text-c ",width:"4%",children:(0,y.jsx)(A.A,{id:"flexCheckDefault",className:"checkbox_design",checked:Q.length===S.length&&S.length,onChange:e=>oe(e.target.checked)})}),(0,y.jsx)(s.cC,{className:"table-head-selected",colSpan:8,children:(0,y.jsx)("span",{style:{color:"#f50505"},children:Y})}),(0,y.jsx)(s.cC,{className:"table-head-selected",children:(0,y.jsx)("button",{className:"btn border-0 text-c text-secondary cross-button",style:{fontSize:"12px",padding:"4px 8px"},onClick:async()=>{const e=x()(T).format("YYYY-MM-DD"),t=x()(E).format("YYYY-MM-DD"),a="GenerateReport/contractpdf/".concat(Q,"/").concat(e,"/").concat(t);try{const e=await n.get(a,{headers:{"Content-Type":"application/octet-stream"},responseType:"arraybuffer"}),t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=document.createElement("a");r.href=window.URL.createObjectURL(t),r.download="Report_".concat(T,"_").concat(E,".pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}catch(r){}},children:(0,y.jsx)(N,{height:"18",width:"18",viewBox:"0 0 18 18",fill:"#f50505"})})})]}):(0,y.jsxs)(s.YI,{children:[(0,y.jsx)(s.$s,{className:"table-head-draft text-center text-c grid-cell-header",scope:"col",width:"4%",style:{position:"sticky",top:"0",zIndex:"12"},children:(0,y.jsx)(A.A,{id:"flexCheckDefault",className:"checkbox_design",checked:Q.length===S.length&&S.length,onChange:e=>oe(e.target.checked)})}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c text-center ",scope:"col",width:"4%",children:"SI.No"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c ",scope:"col",width:"10%",children:"Branch"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Activity Date"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Supervisor Name"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Username"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Date of Joining"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Tot.of.hrs"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Final Approver Status"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Action"})]})}),(0,y.jsx)(s.jS,{children:S?S.map(((e,t)=>(0,y.jsxs)(s.YI,{children:[(0,y.jsx)(s.cC,{className:"text-c text-center pd-text1 grid-cell ".concat(Q.includes(e.id)?"checked-table-row":""),width:"4%",children:(0,y.jsx)(A.A,{className:"checkbox_design",id:"flexCheckDefault-".concat(t),value:e.id,disabled:"Approved"!==e.final_Approve,checked:Q.includes(e.id)&&"Approved"===e.final_Approve,onChange:t=>{((e,t)=>{z(t?t=>[...t,e]:t=>t.filter((t=>t!==e)));const a=(t?[...Q,e]:Q.filter((t=>t!==e))).length;M(a<1?"":"".concat(a," Selected"))})(e.id,t.target.checked)}})}),(0,y.jsx)(s.cC,{className:"text-c text-center pd-text1 grid-cell",width:"4%",children:t+1}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",width:"10%",children:e.branch}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",width:"10%",children:a(e.activityDate)}),(0,y.jsx)(s.cC,{className:" text-c pd-text1 grid-cell",width:"10%",children:null!==e.supervisor_name?(0,f.MX)(e.supervisor_name):"-"}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",width:"10%",children:(0,f.MX)(e.name)}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",width:"10%",children:a(e.date_of_joining)}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",width:"10%",children:e.hours?ce(e.hours):"-"}),(0,y.jsx)(s.cC,{width:"10%",className:"text-c grid-cell ".concat("Approved"===e.final_Approve?"green-text1 ":"Pending"===e.final_Approve||"Not yet"===e.final_Approve?"warning-text1 ":"Reject"===e.final_Approve?"red-text1 ":"pd-text1"),children:(0,y.jsxs)("span",{children:["Approved"===e.final_Approve&&(0,y.jsx)("span",{style:{fontSize:"16px"},children:"\u2022"}),"Pending"===e.final_Approve&&(0,y.jsx)("span",{style:{fontSize:"16px"},children:"\u2022"}),"Not yet"===e.final_Approve&&(0,y.jsx)("span",{style:{fontSize:"16px"},children:"\u2022"}),"Reject"===e.final_Approve&&(0,y.jsx)("span",{style:{fontSize:"16px"},children:"\u2022"}),(0,y.jsx)("span",{style:{marginLeft:"5px"},children:e.final_Approve?e.final_Approve:"-"})]})}),(0,y.jsxs)(s.cC,{className:"text-c pd-text1 grid-cell",width:"10%",children:[(0,y.jsx)(w.A,{title:"Choose download format:",okText:"Excel",cancelText:"PDF",placement:"left",onConfirm:()=>(async(e,t)=>{const a="GenerateReport/generate/".concat(e,"/").concat(t);try{const e=await n.get(a,{headers:{"Content-Type":"application/octet-stream"},responseType:"arraybuffer"}),r=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),s=document.createElement("a");s.href=window.URL.createObjectURL(r),s.download="Report_".concat(t,".xlsx"),document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(r){}})(e.id,e.activityDate),onCancel:()=>(async(e,t)=>{const a="GenerateReport/pdf/".concat(e,"/").concat(t);try{const e=await n.get(a,{headers:{"Content-Type":"application/octet-stream"},responseType:"arraybuffer"}),r=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),s=document.createElement("a");s.href=window.URL.createObjectURL(r),s.download="Report_".concat(t,".pdf"),document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(r){}})(e.id,e.activityDate),disabled:"Approved"!==e.final_Approve,children:(0,y.jsx)("button",{className:"btn border-0 text-c text-secondary cross-button ".concat("Approved"!==e.final_Approve?"cursor_imp":""),style:{fontSize:"12px",padding:"4px 8px",cursor:"Approved"!==e.final_Approve?"not-allowed":"pointer"},onClick:()=>{},children:(0,y.jsx)(m.A,{})})}),(0,y.jsx)("button",{className:"btn border-0 text-c text-secondary cross-button",style:{fontSize:"12px",padding:"4px 8px"},onClick:()=>{Z(e.id),H(e.name),q(!0)},children:(0,y.jsx)(C.A,{})})]})]},t))):(0,y.jsx)("div",{})})]}),null===S&&!h||0===S.length&&!h?(0,y.jsx)("div",{className:"text-c text-center my-3 td-text",children:"No Data Found"}):h&&0===S.length?(0,y.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,y.jsx)(s.JT,{color:"danger"})}):(0,y.jsx)("div",{})]})})]})})},{RangePicker:T}=n.A,k=e=>{let{today:t,formatDate:a}=e,n=(0,u.A)();const o=(0,r.useRef)(),[i,d]=(0,r.useState)([]),[p,h]=(0,r.useState)(!0),m=(0,r.useRef)(!0),[j,f]=(0,r.useState)(t),[v,Y]=(0,r.useState)(t),A=(0,r.useRef)(1),w=(0,r.useRef)(t),[N,M]=(0,r.useState)(!1),[D,S]=(0,r.useState)(0),[R,U]=(0,r.useState)(""),F=(0,r.useRef)(t),[k,E]=(0,r.useState)(new AbortController);(0,r.useEffect)((()=>{if(!N){I(),m.current=!0;const e=document.querySelector(".table-container");return e.addEventListener("scroll",_),()=>{e.removeEventListener("scroll",_)}}}),[N]);const _=()=>{const e=document.querySelector(".table-container");e.scrollTop+e.clientHeight===e.scrollHeight&&!0===m.current&&I()},I=async()=>{let e;1===A.current&&(h(!0),d([]),k.abort(),e=new AbortController,E(e));let t="GenerateReport/contract/".concat(w.current,"/").concat(F.current,"/").concat(A.current,"/20");try{var a;const r=(await n.get(t,{headers:(0,c.dJ)("json"),signal:null===(a=e)||void 0===a?void 0:a.signal})).data.data;1===A.current?d(r):d((e=>[...e,...r])),r.length<10&&(m.current=!1),A.current=A.current+1,h(!1)}catch(r){}},P=e=>{if(""!==e&&null!==e){const[t,a]=e.split(":").map(Number);let r="";return t>0&&(r+="".concat(t," hrs")),a>0&&(r+=" ".concat(a," mins")),r.trim()}return"-"},B={"Past 1 Week":[x()().subtract(6,"days"),x()()],"Past 2 Weeks":[x()().subtract(13,"days"),x()()],"Past 1 Month":[x()().subtract(1,"months"),x()()],"Custom Range":[null,null]};return(0,y.jsx)(y.Fragment,{children:N?(0,y.jsx)(L,{id:D,name:R,titleList:"Detail View",today:t,close:()=>{M(!1)},formatDate:a,startDateValue:j,endDateValue:v}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(s.sK,{className:"mt-3",children:[(0,y.jsxs)(s.UF,{sm:9,children:[(0,y.jsx)("b",{style:{marginLeft:"30px"},children:"My Report"}),(0,y.jsx)("br",{}),(0,y.jsx)(l.A,{style:{marginLeft:"30px"},className:"bread-tab",separator:(0,y.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,y.jsx)(b.N_,{to:"/dashboard",className:"bread-items text-decoration-none text-secondary",children:"Dashboard"})},{title:(0,y.jsx)("span",{className:"text-secondary ",style:{cursor:"default"},children:"My Report"})}]})]}),(0,y.jsx)(s.UF,{sm:3,children:(0,y.jsx)(T,{style:{width:"80%"},ranges:B,className:"rangeField rangepicker_cont_pend",ref:o,defaultValue:[x()(j,"YYYY-MM-DD"),x()(v,"YYYY-MM-DD")],onChange:e=>{e&&(f(e[0]),Y(e[1]),w.current=x()(e[0]).format("YYYY-MM-DD"),F.current=x()(e[1]).format("YYYY-MM-DD"),A.current=1,m.current=!0,I(x()(e[0]).format("YYYY-MM-DD"),x()(e[1]).format("YYYY-MM-DD")))},allowClear:!1,format:"DD MMM,YYYY",disabledDate:e=>e&&e>x()().endOf("day")})})]}),(0,y.jsx)("div",{className:"table-container table_scroll_report",style:{border:"none"},children:(0,y.jsxs)(g.A,{dataLength:i.length,next:_,hasMore:m.current,loader:(0,y.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,y.jsx)(s.JT,{color:"danger"})}),endMessage:0!==i.length&&(0,y.jsx)("p",{style:{textAlign:"center"},children:(0,y.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),children:[(0,y.jsxs)(s._v,{hover:!0,children:[(0,y.jsx)(s.wV,{className:"head-row draft-head-row-ts",children:(0,y.jsxs)(s.YI,{children:[(0,y.jsx)(s.$s,{className:"table-head-productlist text-c text-center",scope:"col",width:"4%",children:"SI.No"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Activity Date"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Branch"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"8%",children:"Supervisor Name"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Username"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Date of Joining"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Tot.of.Hrs"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Final Approver Status"}),(0,y.jsx)(s.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Action"})]})}),(0,y.jsx)(s.jS,{children:i?i.map(((e,t)=>(0,y.jsxs)(s.YI,{children:[(0,y.jsx)(s.cC,{className:"text-c text-center pd-text1 grid-cell",children:t+1}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",children:null!==e.activityDate?a(e.activityDate):"-"}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",children:e.branch}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",children:null!==e.supervisor_name?e.supervisor_name:"-"}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",children:null!==e.name?e.name:"-"}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",children:null!==e.date_of_joining?a(e.date_of_joining):"-"}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell text-center",children:null===e.hours?"-":P(e.hours)}),(0,y.jsx)(s.cC,{className:"text-c grid-cell ".concat("Approved"===e.final_Approve?"green-text1 ":"Rejected"===e.final_Approve?"red-text1 ":"Not yet"===e.final_Approve?"warning-text1":"pd-text1"),width:"10%",children:(0,y.jsxs)("span",{children:["Approved"===e.final_Approve&&(0,y.jsx)("span",{style:{fontSize:"16px"},children:"\u2022"}),"Rejected"===e.final_Approve&&(0,y.jsx)("span",{style:{fontSize:"16px"},children:"\u2022"}),"Not yet"===e.final_Approve&&(0,y.jsx)("span",{style:{fontSize:"16px"},children:"\u2022"}),(0,y.jsx)("span",{style:{marginLeft:"5px"},children:e.final_Approve?e.final_Approve:"-"})]})}),(0,y.jsx)(s.cC,{className:"text-c pd-text1 grid-cell",children:(0,y.jsx)("button",{className:"btn border-0 text-c text-secondary cross-button",style:{fontSize:"12px",padding:"4px 8px"},onClick:()=>{S(e.id),U(e.name),M(!0)},children:(0,y.jsx)(C.A,{})})})]},t))):(0,y.jsx)("div",{})})]}),null===i&&!p||0===i.length&&!p?(0,y.jsx)("div",{className:"text-c text-center my-3 td-text",children:"No Data Found"}):p&&0===i.length?(0,y.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,y.jsx)(s.JT,{color:"danger"})}):(0,y.jsx)("div",{})]})})]})})},E=()=>{const e=(0,c.pU)(),t=e&&e.superviser,[a,n]=(0,r.useState)(),[l,o]=(0,r.useState)([]);function i(){const e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(r)}const d=e=>{let t=new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});return t.includes(",")||(t=t.replace(/(\w{3}) (\d{4})/,"$1, $2")),t};(0,r.useEffect)((()=>{p(e&&e.designation,e&&e.roleIntake,t)}),[]);const p=async(e,t,a)=>{"Technical Admin"!==e&&"Product Admin"!==e||"false"!==a||"Contract"===t||(o(["All Report","My Report"]),n("All Report")),"Technical Admin"!==e&&"Product Admin"!==e||"true"!==a||"Contract"===t||(o(["All Report","My Report","My Team"]),n("All Report")),"Technical Admin"!==e&&"Product Admin"!==e&&"true"===a&&(o(["My Report","My Team"]),n("My Report")),"Technical Admin"!==e&&"Product Admin"!==e&&"false"===a&&(o(["My Report"]),n("My Report"))};return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(s.sK,{className:"my-2",children:(0,y.jsx)(s.UF,{xs:12,children:(0,y.jsx)(s.E$,{className:"mt-4 timesheet-content-report",children:(0,y.jsxs)("div",{children:[l.length>1&&(0,y.jsx)(s.by,{variant:"pills",role:"tablist",className:"report-navbar",children:l.map((e=>(0,y.jsx)(s.g9,{role:"presentation",children:(0,y.jsx)(s.HQ,{active:a===e,component:"button",role:"tab","aria-controls":"contact-tab-pane","aria-selected":a===e,onClick:()=>n(e),children:e})},e)))}),(0,y.jsxs)(s.eL,{children:[(0,y.jsx)(s.x1,{role:"tabpanel","aria-labelledby":"home-tab-pane",visible:"All Report"===a,className:"pendingactivity-card ".concat(l.length>1?"tab_height_report":"tab_height1"),children:(0,y.jsx)(s.sK,{children:"All Report"===a&&(0,y.jsx)(Y,{today:i(),formatDate:d,status:"All"})})}),(0,y.jsx)(s.x1,{role:"tabpanel","aria-labelledby":"contact-tab-pane",visible:"My Team"===a,className:"pendingactivity-card ".concat(l.length>1?"tab_height":"tab_height1"),children:(0,y.jsx)(s.sK,{children:"My Team"===a&&(0,y.jsx)(F,{today:i(),formatDate:d})})}),(0,y.jsx)(s.x1,{role:"tabpanel","aria-labelledby":"contact-tab-pane",visible:"My Report"===a,className:"pendingactivity-card ".concat(l.length>1?"tab_height":"tab_height1"),children:(0,y.jsx)(s.sK,{children:"My Report"===a&&(0,y.jsx)(k,{today:i(),formatDate:d})})})]})]})})})})})}},12834:(e,t,a)=>{a.d(t,{A:()=>s});a(65043);var r=a(70579);const s=e=>{let{width:t,height:a,fill:s,viewBox:c}=e;return(0,r.jsx)("svg",{width:t,height:a,viewBox:c,fill:s,xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M16.5824 4.58202H3.41244L6.29244 1.70202C6.47942 1.51504 6.58447 1.26145 6.58447 0.997021C6.58447 0.732594 6.47942 0.478998 6.29244 0.292021C6.10547 0.105043 5.85187 0 5.58744 0C5.32302 0 5.06942 0.105043 4.88244 0.292021L0.292444 4.88202C0.19974 4.97453 0.126193 5.08442 0.0760114 5.2054C0.02583 5.32637 0 5.45605 0 5.58702C0 5.71799 0.02583 5.84767 0.0760114 5.96865C0.126193 6.08962 0.19974 6.19951 0.292444 6.29202L4.88244 10.882C4.97503 10.9746 5.08494 11.048 5.2059 11.0981C5.32687 11.1483 5.45651 11.174 5.58744 11.174C5.71837 11.174 5.84802 11.1483 5.96899 11.0981C6.08995 11.048 6.19986 10.9746 6.29244 10.882C6.38503 10.7894 6.45847 10.6795 6.50857 10.5586C6.55868 10.4376 6.58447 10.308 6.58447 10.177C6.58447 10.0461 6.55868 9.91644 6.50857 9.79548C6.45847 9.67451 6.38503 9.5646 6.29244 9.47202L3.41244 6.58202H16.5824C17.1324 6.58202 17.5824 6.13202 17.5824 5.58202C17.5824 5.03202 17.1324 4.58202 16.5824 4.58202Z",fill:"#919EAB"})})}},11125:e=>{e.exports="data:image/png;base64,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"},74668:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAANCAYAAACtpZ5jAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACjSURBVHgBrczBEYIwEIXhtysFUIotWIIlpAOpADrQGQugAA+WICWkFA54UrImBxwdCEHZ//SSnfnoXF9KJzgAyKGUk77IPFpBOaZNyQQ0UE5EGu4p2/ttoZcVvhsK61hfc5bnzc8t1mUddbvCmJaGHwX8jYYHfV5W4F/oCP4TH6GT8I/4JBqFF+JRdBZO4LNoEo7gSXQRPOCQRwWhFtydUmjoBdH8byFWGreHAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=33.616d55f1.chunk.js.map