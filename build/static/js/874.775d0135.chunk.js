"use strict";(self.webpackChunkproduct_management=self.webpackChunkproduct_management||[]).push([[874],{84665:(e,t,a)=>{a.d(t,{A:()=>o});var s=a(65043),l=a(48903),c=a(85727),r=a(70579);const{TextArea:d}=l.A,o=e=>{let{isModalOpen:t,handleCancel:a,handleApprove:l,id:o,headContent:i,resetFunc:n}=e;const[p,h]=(0,s.useState)(""),[m,x]=(0,s.useState)(!1);return(0,r.jsxs)(c.A,{title:"Approved ".concat(i),open:t,onOk:async()=>{x(!0);try{!0===(await l("Approved",o,p)).status&&n()}catch(e){}finally{x(!1)}},okText:"Approved",onCancel:a,okButtonProps:{style:{background:"#f54550",borderColor:"#f54550",color:"white"},loading:m},maskClosable:!1,children:[(0,r.jsxs)("p",{children:["Do you want to do Approved this ",i," ?"]}),(0,r.jsx)(d,{id:"Description",variant:"borderless",value:p,onChange:e=>(e=>{(/^(?!\s)(?![&@.,()\s])(?![^a-zA-Z0-9\s.,()-]+$)[&@a-zA-Z0-9\s.,()-]*$/.test(e)||""===e)&&h(e)})(e.target.value),className:"time-border-bottom",style:{color:"black",width:"265px",fontSize:"13px",padding:"0px"},placeholder:"Enter Remarks...",autoSize:{minRows:0,maxRows:1}}),(0,r.jsx)("br",{})]})}},60537:(e,t,a)=>{a.d(t,{A:()=>o});var s=a(65043),l=a(48903),c=a(85727),r=a(70579);const{TextArea:d}=l.A,o=e=>{let{isModalOpen:t,handleCancel:a,handleApprove:l,id:o,headContent:i,resetFunc:n}=e;const[p,h]=(0,s.useState)(""),[m,x]=(0,s.useState)(!1),[u,j]=(0,s.useState)({remarks:""});return(0,r.jsxs)(c.A,{title:"Reject ".concat(i),open:t,onOk:async()=>{if((()=>{const e={remarks:""};return""===p&&(e.remarks="Please Enter Remarks"),j(e),!(""!==e.remarks)})()){x(!0);try{!0===(await l("Rejected",o,p)).status&&n()}catch(e){}finally{x(!1)}}},okText:"Reject",onCancel:a,okButtonProps:{style:{background:"#f54550",borderColor:"#f54550",color:"white"},loading:m,disabled:""===p.trim()},maskClosable:!1,children:[(0,r.jsxs)("p",{children:["Do you want to do reject this ",i," ?"]}),(0,r.jsx)(d,{id:"Description",variant:"borderless",value:p,onChange:e=>(e=>{(/^(?!\s)(?![&@.,()\s])(?![^a-zA-Z0-9\s.,()-]+$)[&@a-zA-Z0-9\s.,()-]*$/.test(e)||""===e)&&h(e)})(e.target.value),className:"time-border-bottom",style:{color:"black",width:"265px",fontSize:"13px",padding:"0px"},placeholder:"Enter Remarks...",autoSize:{minRows:0,maxRows:1}}),(0,r.jsx)("br",{}),(0,r.jsx)("span",{className:"text-danger nameflow-error ",children:u.remarks})]})}},29254:(e,t,a)=>{a.r(t),a.d(t,{default:()=>pe});var s=a(65043),l=a(93946),c=a(63406),r=a(18125),d=a(25589),o=a(38510),i=a(96651),n=a(89073),p=a(8354),h=a(11125),m=a(36885),x=a(42145),u=(a(92342),a(43003)),j=a(58568),g=a(94122),f=a(35402),b=a(46021),w=a(64997),N=a(74668),v=a(35118),y=a(35475),A=a(70579);const C=e=>{let{formatDate:t,FlowList:a,prodOwnerList:C,techOwnerList:S,dataOwnerList:L,categories:P,techHeadList:H,prodHeadList:_,dataHeadList:D}=e,I=(0,f.A)();const k=(0,c.pU)(),F=k&&k.branch,[T,R]=(0,s.useState)(),[O,$]=(0,s.useState)([]),[E,z]=(0,s.useState)([]),[B,M]=(0,s.useState)([]),[Y,U]=(0,s.useState)(!1),[Z,X]=(0,s.useState)(!0),[V,J]=(0,s.useState)(new AbortController),K=(0,s.useRef)(null),q=(0,s.useRef)(!0),G=(0,s.useRef)(0),Q=(0,s.useRef)(!1),W=(0,s.useRef)(0),[ee,te]=(0,s.useState)(!0);(0,s.useEffect)((()=>{if(he(),!Y){G.current=0,q.current=!0,se();const e=document.querySelector(".table-container");return e.addEventListener("scroll",ae),()=>{e.removeEventListener("scroll",ae)}}}),[Y]);const ae=()=>{const e=document.querySelector(".table-container");e.scrollTop+e.clientHeight===e.scrollHeight&&!0===q.current&&se()},se=async()=>{var e;let t;0===G.current&&(X(!0),$([]),V.abort(),t=new AbortController,J(t));const a="product/list?page=".concat(G.current,"&size=10&search=").concat(Q.current,"&status=Approved&value=").concat(W.current);I.get(a,{headers:(0,c.dJ)("json"),signal:null===(e=t)||void 0===e?void 0:e.signal}).then((e=>{const t=e.data.data;0===G.current?$(t):$((e=>[...e,...t])),t.length<10&&(q.current=!1),G.current=G.current+1,X(!1)})).catch((e=>{}))},le=S.map((e=>({value:e.name,label:(0,A.jsxs)("div",{className:"select-options select-options-bg",children:[(0,A.jsx)("img",{src:e.profile_pic?c.ZX+e.profile_pic:h,style:e.profile_pic?{width:"29px",borderRadius:"14px"}:{width:"39px"},alt:e.name,className:"img-flag"}),(0,A.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,A.jsxs)("p",{className:"user-name1",title:e.name,children:[" ",e.name]}),(0,A.jsx)("p",{className:"role-text1",children:e.role})]})]})}))),ce=C.map((e=>({value:e.name,label:(0,A.jsxs)("div",{className:"select-options select-options-bg",children:[(0,A.jsx)("img",{src:e.profile_pic?c.ZX+e.profile_pic:h,style:e.profile_pic?{width:"29px",borderRadius:"14px"}:{width:"39px"},alt:e.name,className:"img-flag"}),(0,A.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,A.jsxs)("p",{className:"user-name1",title:e.name,children:[" ",e.name]}),(0,A.jsx)("p",{className:"role-text1",children:e.role})]})]})}))),re=L.map((e=>({value:e.name,label:(0,A.jsxs)("div",{className:"select-options select-options-bg",children:[(0,A.jsx)("img",{src:e.profile_pic?c.ZX+e.profile_pic:h,style:e.profile_pic?{width:"29px",borderRadius:"14px"}:{width:"39px"},alt:e.name,className:"img-flag"}),(0,A.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,A.jsxs)("p",{className:"user-name1",title:e.name,children:[" ",e.name]}),(0,A.jsx)("p",{className:"role-text1",children:e.role})]})]})}))),[de,oe]=(0,s.useState)({}),[ie,ne]=(0,s.useState)({}),pe=async(e,t)=>{let a,s,l,r,d;if(e&&e.length>0){const t=e.map((e=>{var t,a,s;return{id:"Technical Head"===(null===k||void 0===k?void 0:k.designation)?Number((null===(t=S.find((t=>t.name===e.value)))||void 0===t?void 0:t.id)||""):"Product Head"===(null===k||void 0===k?void 0:k.designation)?Number((null===(a=C.find((t=>t.name===e.value)))||void 0===a?void 0:a.id)||""):Number((null===(s=L.find((t=>t.name===e.value)))||void 0===s?void 0:s.id)||""),name:e.value}}));a=t.map((e=>e.id))}else a=[];"Technical Head"===(null===k||void 0===k?void 0:k.designation)?(l="technical",s=null,r=a,d=null):"Product Head"===(null===k||void 0===k?void 0:k.designation)?(l="product",s=a,d=null,r=null):(l="data",s=null,r=null,d=a);const o=new FormData;o.append("prodOwner",s),o.append("techOwner",r),o.append("dataOwner",d);const i="product/assign/".concat(t,"?owner=").concat(l);await I.put(i,o,{headers:(0,c.dJ)("multi")}).then((e=>{G.current=0,Q.current=!1,W.current=0,se()})).catch((e=>{x.oR.error(e,{position:x.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}))},he=async()=>{I.get("product/head/search?status=Approved",{headers:(0,c.dJ)("json")}).then((e=>{const t=e.data.data;z(t),te(!1)})).catch((e=>{}))};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(x.N9,{}),Y?(0,A.jsx)(g.A,{flowList:a,close:()=>{U(!1)},techHeadList:H,prodHeadList:_,dataHeadList:D,categories:P,ViewProductData:B,viewStatus:"Head",titleList:"Approved List",ownerOption:"Technical"===F?le:"Product"===F?ce:re}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(l.sK,{className:"mt-3",children:[(0,A.jsxs)(l.UF,{xs:9,sm:9,md:10,children:[(0,A.jsx)("b",{style:{marginLeft:"30px"},children:"Approved List"}),(0,A.jsx)("br",{}),(0,A.jsx)(r.A,{style:{marginLeft:"30px"},className:"bread-tab",separator:(0,A.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,A.jsx)(y.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,A.jsx)("span",{className:"text-secondary ",style:{cursor:"default"},children:"Approved List"})}]})]}),(0,A.jsx)(l.UF,{xs:3,sm:3,md:2,children:(0,A.jsx)(d.A,{ref:K,className:"contract_members_activity_select custom-select_appr appr-sel",suffixIcon:(0,A.jsx)("img",{src:N,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),id:"products",value:T,onChange:e=>(e=>{void 0===e?(R(),Q.current=!1,W.current=0):(R(e),Q.current=!0,W.current=e),K.current.blur(),G.current=0,q.current=!0,se()})(e),showSearch:!0,allowClear:!0,filterOption:(e,t)=>t.label.toLowerCase().indexOf(e.toLowerCase())>=0,dropdownRender:e=>(0,A.jsx)("div",{style:{overflow:"auto"},role:"listbox",children:e}),options:ee?[{label:(0,A.jsx)("div",{style:{textAlign:"center"},children:Array.from({length:5},((e,t)=>(0,A.jsx)(o.A,{title:!1,paragraph:{rows:1,width:"100%",height:"10px",style:{height:"10px !important"}}},t)))}),value:"loading",disabled:!0}]:E.map((e=>({value:e.id,label:e.name}))),placeholder:"Choose Product",getPopupContainer:e=>e.parentNode})})]}),(0,A.jsx)("div",{className:"table-container table_scroll",style:{border:"none"},children:(0,A.jsxs)(w.A,{dataLength:O.length,next:ae,hasMore:q.current,loader:(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,A.jsx)(l.JT,{color:"danger"})}),endMessage:0!==O.length&&(0,A.jsx)("p",{style:{textAlign:"center"},children:(0,A.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),children:[(0,A.jsxs)(l._v,{hover:!0,children:[(0,A.jsx)(l.wV,{className:"head-row draft-head-row-ts",children:(0,A.jsxs)(l.YI,{children:[(0,A.jsx)(l.$s,{className:"table-head-productlist text-c text-center",scope:"col",width:"4%",children:"SI.No"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Product Name"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"8%",children:"Flow"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Product Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Technical Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Data Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Start Date"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"8%",children:"End Date"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",width:"10%",scope:"col",children:"Approval Flow"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Budget Details"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"25%",children:"Technical Head"===(null===k||void 0===k?void 0:k.designation)?"Technical Owners":"Product Head"===(null===k||void 0===k?void 0:k.designation)?"Product Owners":"Data Owners"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"5%",children:"Action"})]})}),(0,A.jsx)(l.jS,{children:O?O.map(((e,a)=>(0,A.jsxs)(l.YI,{className:"tr-bg-color",children:[(0,A.jsx)(l.cC,{className:"productflow-col-box text-c pad-bottom_flow td-product-text",children:a+1}),(0,A.jsx)(l.cC,{className:"productflow-product-name pad-bottom_flow td-product-text",children:(0,A.jsx)(i.A,{placement:"bottomLeft",title:e.productName,className:"productflow-name-lable",children:e.productName})}),(0,A.jsx)(l.cC,{className:" productflow-product-flow pad-bottom_flow td-product-text",children:(0,A.jsx)(i.A,{placement:"bottomLeft",title:e.flowName?e.flowName:"",className:"flow-name-lable",children:e.flowName?e.flowName:""})}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",children:0!==e.prodHead.length?e.prodHead.map((e=>(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",children:0!==e.techHead.length?e.techHead.map((e=>(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",children:0!==e.dataHead.length?e.dataHead.map((e=>(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-Startdate pad-bottom_flow td-product-text",children:t(e.startDate)}),(0,A.jsx)(l.cC,{className:"productflow-product-Enddate pad-bottom_flow td-product-text",children:null!==e.endDate?t(e.endDate):"--"}),(0,A.jsx)(l.cC,{className:"text-c flowlist-accesperson pad-bottom_flow",children:(0,A.jsxs)("div",{className:"table-cell-container",children:[(0,A.jsxs)("div",{className:"image-background-accessperson",children:[e.approvalFlow.slice(0,3).map(((e,t)=>(0,A.jsx)("div",{className:"accessPerImg",children:(0,A.jsx)("div",{className:"tooltip-container",children:(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,className:e.profilePic?"first-image":"second-image",alt:"Access Person Images"})})},t))),(0,A.jsx)("div",{children:e.approvalFlow.length>3&&(0,A.jsx)("div",{className:"accessPerImg text-center more-person-access rounded-circle",children:(0,A.jsxs)("span",{children:["+",e.approvalFlow.length-3]})})})]}),(0,A.jsx)("div",{className:"card-list-person",children:(0,A.jsx)(n.A,{style:{width:"230px",height:"120px",overflowY:"auto"},className:"Access-card",children:e.approvalFlow.map((e=>(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:" access-person-tooltip  ",children:[(0,A.jsx)("div",{className:"image-background",children:(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,className:e.profilePic?"card-access-image":"card-approval-image",alt:e.name})}),(0,A.jsxs)("div",{className:"node1 access-person-hovercard",style:e.profilePic?{marginLeft:"11px"}:{},children:[(0,A.jsxs)("p",{className:"member-user-name1",children:[" ",e.name]}),(0,A.jsx)("p",{className:"member-role-text1",children:e.designation})]})]}),(0,A.jsx)(p.A,{})]},e.id)))})})]})}),(0,A.jsx)(l.cC,{className:"productflow-product-budget pad-bottom_flow td-product-text",children:"undefined"!==e.budgetDetails&&""!==e.budgetDetails&&null!==e.budgetDetails?(0,u.Kn)(e.budgetDetails,e.currency):"---"}),(0,A.jsx)(l.cC,{className:"text-c  pad-bottom_flow  ",style:{border:"1px solid #f1f1f1"},children:k&&("Technical Head"===k.designation&&e.technicalOwners.length>0||"Product Head"===k.designation&&e.productOwners.length>0||"Data Head"===k.designation&&e.dataOwners.length>0)?(0,A.jsxs)("div",{className:"table-cell-container d-flex table-cell-container-border-less",children:[(0,A.jsxs)("div",{className:"image-background-accessperson",children:[("Technical Head"===(null===k||void 0===k?void 0:k.designation)?e.technicalOwners:"Product Head"===(null===k||void 0===k?void 0:k.designation)?e.productOwners:e.dataOwners).slice(0,3).map(((e,t)=>(0,A.jsx)("div",{className:"accessPerImg",children:(0,A.jsx)("div",{className:"tooltip-container",children:(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,className:e.profilePic?"first-image":"second-image",alt:"Access Person Images"})})},t))),(0,A.jsx)("div",{children:("Technical Head"===(null===k||void 0===k?void 0:k.designation)?e.technicalOwners:"Product Head"===(null===k||void 0===k?void 0:k.designation)?e.productOwners:e.dataOwners).length>3&&(0,A.jsx)("div",{className:"accessPerImg text-center more-person-access rounded-circle",children:(0,A.jsxs)("span",{children:[" ","+",("Technical Head"===(null===k||void 0===k?void 0:k.designation)?e.technicalOwners:"Product Head"===(null===k||void 0===k?void 0:k.designation)?e.productOwners:e.dataOwners).length-3]})})}),(0,A.jsx)("div",{className:"card-list-person_owners",children:(0,A.jsx)(n.A,{style:{width:"230px",height:"250px",overflowY:"auto"},className:"Access-card",children:("Technical Head"===(null===k||void 0===k?void 0:k.designation)?e.technicalOwners:"Product Head"===(null===k||void 0===k?void 0:k.designation)?e.productOwners:e.dataOwners).map((e=>(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:" access-person-tooltip  ",children:[(0,A.jsx)("div",{className:"image-background",children:(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,className:e.profilePic?"card-access-image":"card-approval-image",alt:e.name})}),(0,A.jsxs)("div",{className:"node1 access-person-hovercard",style:e.profilePic?{marginLeft:"11px"}:{},children:[(0,A.jsxs)("p",{className:"member-user-name1",children:[" ",e.name]}),(0,A.jsx)("p",{className:"member-role-text1",children:e.designation})]})]}),(0,A.jsx)(p.A,{})]},e)))})})]}),(0,A.jsxs)("div",{style:{marginLeft:"auto"},className:"edit_techow",onClick:()=>{return t=e.id,ne({}),void oe((e=>({...e,[t]:!e[t]})));var t},children:[(0,A.jsx)("button",{type:"button",className:"action-view  edit-button ",children:(0,A.jsx)(j.A,{width:"15",height:"15",viewBox:"0 0 18 18",fill:"none",color:"white",clipH:"18",clipW:"18"})}),de[e.id]&&(0,A.jsx)("div",{className:"card-list-person_owners_add",onClick:e=>e.stopPropagation(),children:(0,A.jsxs)(n.A,{style:{width:"517px"},className:"Access-card",children:[(0,A.jsx)("button",{className:"btn border-0 text-c text-secondary cross-button",style:{position:"absolute",top:0,right:0},onClick:()=>{oe({})},children:(0,A.jsx)(v.A,{width:"12",height:"11",viewBox:"0 0 14 10",fill:"#A5A1A1"})}),(0,A.jsx)(d.A,{onClick:e=>e.stopPropagation(),className:"form-custom-selects access-input-box_owner",value:e.technicalOwners?"Technical Head"===(null===k||void 0===k?void 0:k.designation)?le.filter((t=>e.technicalOwners.some((e=>e.name===t.value)))):"Product Head"===(null===k||void 0===k?void 0:k.designation)?ce.filter((t=>e.productOwners.some((e=>e.name===t.value)))):re.filter((t=>e.dataOwners.some((e=>e.name===t.value)))):null,options:"Technical Head"===(null===k||void 0===k?void 0:k.designation)?le:"Product Head"===(null===k||void 0===k?void 0:k.designation)?ce:re,onChange:t=>pe(t,e.id),required:!0,showSearch:!0,placeholder:"Choose Access",allowClear:!0,mode:"multiple",variant:"borderless",suffixIcon:(0,A.jsx)(m.A,{className:"caretdownicon"}),labelInValue:e=>(0,A.jsxs)("div",{className:"select-options select-options-approval",children:[(0,A.jsx)("img",{src:e.profile_pic?c.ZX+e.profile_pic:h,style:e.profile_pic?{width:"29px",borderRadius:"14px"}:{width:"39px"},alt:e.value,className:"img-flag"}),(0,A.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,A.jsx)("p",{className:"user-name1",children:e.value}),(0,A.jsx)("p",{className:"role-text1",children:e.label.role})]})]})})]})})]})]}):(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"text-danger",onClick:()=>{return t=e.id,oe({}),void ne((e=>({...e,[t]:!e[t]})));var t},style:{fontSize:"13px",cursor:"pointer"},children:"Assign"}),ie[e.id]&&(0,A.jsx)("div",{className:"card-list-person_owners_add_default",onClick:e=>e.stopPropagation(),children:(0,A.jsxs)(n.A,{style:{width:"517px"},className:"Access-card_add",children:[(0,A.jsx)("button",{className:"btn border-0 text-c text-secondary cross-button",style:{position:"absolute",top:0,right:0},onClick:()=>{ne({})},children:(0,A.jsx)(v.A,{width:"12",height:"11",viewBox:"0 0 14 10",fill:"#A5A1A1"})}),(0,A.jsx)(d.A,{onClick:e=>e.stopPropagation(),className:"form-custom-selects access-input-box_owner test",value:e.technicalOwners?k&&"Technical Head"===k.designation?le.filter((t=>e.technicalOwners.some((e=>e.name===t.value)))):ce.filter((t=>e.technicalOwners.some((e=>e.name===t.value)))):null,options:k&&"Technical Head"===k.designation?le:ce,onChange:t=>pe(t,e.id),required:!0,showSearch:!0,placeholder:"Choose Access",allowClear:!0,mode:"multiple",suffixIcon:(0,A.jsx)(m.A,{className:"caretdownicon"}),labelInValue:e=>(0,A.jsxs)("div",{className:"select-options select-options-approval",children:[(0,A.jsx)("img",{src:e.profile_pic?c.ZX+e.profile_pic:h,style:e.profile_pic?{width:"29px",borderRadius:"14px"}:{width:"39px"},alt:e.value,className:"img-flag"}),(0,A.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,A.jsx)("p",{className:"user-name1",children:e.value}),(0,A.jsx)("p",{className:"role-text1",children:e.label.role})]})]})})]})})]})}),(0,A.jsx)(l.cC,{className:"productflow-product-Action pad-bottom_flow text-center td-product-text",children:(0,A.jsx)("button",{type:"button",className:"btn border-0 text-c text-secondary cross-button",style:{fontSize:"12px",padding:"4px 8px"},onClick:()=>(async e=>{const t="product/view/"+e;I.get(t,{headers:(0,c.dJ)("json")}).then((e=>{const t=e.data.data;M(t),U(!0)})).catch((e=>{}))})(e.id),children:(0,A.jsx)(b.A,{width:"13",height:"13",viewBox:"0 0 20 16",fill:"#A5A1A1"})})})]},a))):(0,A.jsx)("div",{})})]}),null===O&&!Z||0===O.length&&!Z?(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:"No Data Found"}):Z&&0===O.length?(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,A.jsx)(l.JT,{color:"danger"})}):(0,A.jsx)("div",{})]})})]})]})};a(25015);var S=a(85727),L=a(32513),P=a(9425),H=a(14159),_=a(51376);const{confirm:D}=S.A,I=e=>{let{formatDate:t,FlowList:a,categories:d,techHeadList:o,prodHeadList:m,dataHeadList:g}=e,b=(0,f.A)();const[N,v]=(0,s.useState)([]),[C,S]=(0,s.useState)([]),[I,k]=(0,s.useState)(""),[F,T]=(0,s.useState)(!1),[R,O]=(0,s.useState)([]),[$,E]=(0,s.useState)(!0),z=(0,s.useRef)(!0),B=(0,s.useRef)(0),M=(0,s.useRef)(!1);(0,s.useEffect)((()=>{if(!F){B.current=0,z.current=!0,U();const e=document.querySelector(".table-container");return e.addEventListener("scroll",Y),()=>{e.removeEventListener("scroll",Y)}}}),[F]);const Y=()=>{const e=document.querySelector(".table-container");e.scrollTop+e.clientHeight===e.scrollHeight&&!0===z.current&&U()},U=async()=>{const e="product/list?page=".concat(B.current,"&size=10&search=").concat(M.current,"&status=Draft&value=0");b.get(e,{headers:(0,c.dJ)("json")}).then((e=>{const t=e.data.data;0===B.current?v(t):v((e=>[...e,...t])),t.length<10&&(z.current=!1),B.current=B.current+1,E(!1)})).catch((e=>{}))},Z=e=>{if(e){const e=N.map((e=>e.id));S(e),k("".concat(e.length," Selected"))}else S([]),k("")},X=()=>{T(!1)},V=async e=>{const t="product/view/"+e;b.get(t,{headers:(0,c.dJ)("json")}).then((e=>{const t=e.data.data;O(t)})).catch((e=>{}))},J=()=>{X(),M.current=!1,B.current=0,U()},K=e=>{D({title:"Delete Draft product",content:"Are you sure to delete this Draft product ?",icon:(0,A.jsx)(_.A,{}),okText:"Yes",okType:"danger",cancelButtonProps:{style:{borderColor:"#f54550",color:"black"}},closable:!0,okButtonProps:{style:{borderColor:"#f54550",color:"white",backgroundColor:"#f54550"}},cancelText:"No",async onOk(){try{await(e=>{const t="product/delete/"+e;return new Promise(((e,a)=>{setTimeout((()=>{b.delete(t,{headers:(0,c.dJ)("json")}).then((t=>{J(),S([]),k(""),T(!1),e(t)})).catch((e=>{a(e)}))}),1e3)}))})(e),x.oR.success("Product Deleted Successfully",{position:x.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}catch(t){x.oR.error("Deletion failed",{position:x.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}},onCancel(){S([]),k("")}})};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(x.N9,{}),F?(0,A.jsx)(H.A,{flowList:a,techHeadList:o,prodHeadList:m,dataHeadList:g,categories:d,EditProductData:R,callBackFunc:()=>{X(),M.current=!1,B.current=0},title:"Draft List"}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(l.sK,{className:"m-3",children:(0,A.jsxs)(l.UF,{md:4,children:[(0,A.jsx)("b",{children:"Draft List"}),(0,A.jsx)("br",{}),(0,A.jsx)(r.A,{className:"bread-tab",separator:(0,A.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,A.jsx)(y.N_,{to:"/dashboard",className:"bread-items text-decoration-none text-secondary",children:"Dashboard"})},{title:(0,A.jsx)("span",{className:"text-secondary ",style:{cursor:"default"},children:"Draft List"})}]})]})}),(0,A.jsx)("div",{className:"table-container table_scroll",style:{border:"none"},children:(0,A.jsxs)(w.A,{dataLength:N.length,next:Y,hasMore:z.current,loader:(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,A.jsx)(l.JT,{color:"danger"})}),endMessage:0!==N.length&&(0,A.jsx)("p",{style:{textAlign:"center"},children:(0,A.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),children:[(0,A.jsxs)(l._v,{className:"flowlist-fulltable",hover:!0,children:[(0,A.jsx)(l.wV,{className:"head-row",children:I?(0,A.jsxs)(l.YI,{children:[(0,A.jsx)(l.$s,{className:"table-head-selected text-center  text-c ",width:"4%",children:(0,A.jsx)(L.A,{id:"flexCheckDefault",className:"checkbox_design",checked:C.length===N.length&&N.length,onChange:e=>Z(e.target.checked)})}),(0,A.jsx)(l.$s,{className:"table-head-selected  text-c ",colSpan:"7",children:(0,A.jsx)("span",{style:{color:"#f50505"},children:I})}),(0,A.jsx)(l.$s,{className:"table-head-selected ",colSpan:"5",style:{textAlign:"right"},children:(0,A.jsx)("div",{className:"action-request",style:{display:"flex",alignItems:"center",justifyContent:"flex-end",marginRight:"10px"},children:(0,A.jsx)("button",{className:"border-0 bg-none",style:{cursor:"pointer",background:"none"},onClick:()=>K(C),children:(0,A.jsx)(P.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#EF1B39"})})})})]}):(0,A.jsxs)(l.YI,{children:[null===N||0===N.length?(0,A.jsx)(l.$s,{className:"table-head-draft  text-c text-center grid-cell-header check_box_position",scope:"col",width:"4%",children:(0,A.jsx)(L.A,{id:"flexCheckDefault",onChange:e=>Z(e.target.checked),disabled:!0})}):(0,A.jsx)(l.$s,{className:"table-head-draft text-center text-c grid-cell-header",scope:"col",width:"4%",style:{position:"sticky",top:"0",zIndex:"12"},children:(0,A.jsx)(L.A,{id:"flexCheckDefault",className:"checkbox_design",checked:C.length===N.length&&N.length,onChange:e=>Z(e.target.checked)})}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c text-center ",scope:"col",width:"4%",children:"SI.No"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Product Name"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"8%",children:"Flow"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Product Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Technical Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Data Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Start Date"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"End Date"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",width:"10%",scope:"col",children:"Approval Flow"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Budget Details"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"5%",children:"Action"})]})}),(0,A.jsx)(l.jS,{children:N&&N.map(((e,a)=>(0,A.jsxs)(l.YI,{className:"tr-bg-color",children:[(0,A.jsx)(l.cC,{className:"text-c text-center pd-text1 grid-cell pad-bottom_flow td-product-text ".concat(C.includes(e.id)?"checked-table-row":""),width:"4%",children:(0,A.jsx)(L.A,{className:"checkbox_design",id:"flexCheckDefault-".concat(a),value:e.id,disabled:"Approved"===e.status||"Rejected"===e.status||!0===e.approved,checked:C.includes(e.id),onChange:t=>{((e,t)=>{S(t?t=>[...t,e]:t=>t.filter((t=>t!==e)));const a=(t?[...C,e]:C.filter((t=>t!==e))).length;k(a<1?"":"".concat(a," Selected"))})(e.id,t.target.checked)}})}),(0,A.jsx)(l.cC,{className:"productflow-col-box text-c pad-bottom_flow td-product-text",children:a+1}),(0,A.jsx)(l.cC,{className:"productflow-product-name pad-bottom_flow td-product-text",children:(0,A.jsx)(i.A,{placement:"bottomLeft",title:e.productName,className:"productflow-name-lable",children:e.productName})}),(0,A.jsx)(l.cC,{className:" productflow-product-flow pad-bottom_flow td-product-text",children:(0,A.jsx)(i.A,{placement:"bottomLeft",title:e.flowName?e.flowName:"",className:"flow-name-lable",children:e.flowName?e.flowName:""})}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",children:0!==e.prodHead.length?e.prodHead.map((e=>(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",children:0!==e.techHead.length?e.techHead.map((e=>(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",children:0!==e.dataHead.length?e.dataHead.map((e=>(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-Startdate pad-bottom_flow td-product-text",children:t(e.startDate)}),(0,A.jsx)(l.cC,{className:"productflow-product-Enddate pad-bottom_flow td-product-text",children:null!==e.endDate?t(e.endDate):"--"}),(0,A.jsx)(l.cC,{className:"text-c flowlist-accesperson pad-bottom_flow",children:(0,A.jsxs)("div",{className:"table-cell-container",children:[(0,A.jsxs)("div",{className:"image-background-accessperson",children:[e.approvalFlow.slice(0,3).map(((e,t)=>(0,A.jsx)("div",{className:"accessPerImg",children:(0,A.jsx)("div",{className:"tooltip-container",children:(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,className:e.profilePic?"first-image":"second-image",alt:"Access Person Images"})})},t))),(0,A.jsx)("div",{children:e.approvalFlow.length>3&&(0,A.jsx)("div",{className:"accessPerImg text-center more-person-access rounded-circle",children:(0,A.jsxs)("span",{children:["+",e.approvalFlow.length-3]})})})]}),(0,A.jsx)("div",{className:"card-list-person",children:(0,A.jsx)(n.A,{style:{width:"230px",height:"120px",overflowY:"auto"},className:"Access-card",children:e.approvalFlow.map((e=>(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:" access-person-tooltip  ",children:[(0,A.jsx)("div",{className:"image-background",children:(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,className:e.profilePic?"card-access-image":"card-approval-image",alt:e.name})}),(0,A.jsxs)("div",{className:"node1 access-person-hovercard",style:e.profilePic?{marginLeft:"11px"}:{},children:[(0,A.jsxs)("p",{className:"member-user-name1",children:[" ",e.name]}),(0,A.jsx)("p",{className:"member-role-text1",children:e.designation})]})]}),(0,A.jsx)(p.A,{})]},e)))})})]})}),(0,A.jsx)(l.cC,{className:"productflow-product-budget pad-bottom_flow td-product-text",children:"undefined"!==e.budgetDetails&&""!==e.budgetDetails&&null!==e.budgetDetails?(0,u.Kn)(e.budgetDetails,e.currency):"---"}),(0,A.jsxs)(l.cC,{className:"text-c pd-text1 text-center grid-cell pad-bottom_flow td-product-text ".concat(C.includes(e.id)?"checked-table-row":""),width:"8%",children:[(0,A.jsx)("button",{type:"button",className:"action-view edit-button ",onClick:()=>{return t=e.id,V(t),void T(!0);var t},style:{padding:"4px 8px"},children:(0,A.jsx)(j.A,{width:"13",height:"13",viewBox:"0 0 18 18",fill:"none",color:"white",clipH:"18",clipW:"18"})}),(0,A.jsx)("button",{className:"border-0 bg-none cross-button",style:{cursor:"pointer",background:"none",borderRadius:"8px"},onClick:()=>K(e.id),disabled:C.includes(e.id),children:(0,A.jsx)(P.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})]})]},a)))})]}),null===N&&!$||0===N.length&&!$?(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:"No Data Found"}):$&&0===N.length?(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,A.jsx)(l.JT,{color:"danger"})}):(0,A.jsx)("div",{})]})})]})]})};var k=a(48903),F=a(36888),T=a(1872),R=a(48758);const O=e=>{let{categories:t,techHeadList:a,prodHeadList:d,dataHeadList:o}=e,m=(0,f.A)();const[j,g]=(0,s.useState)(),[b,w]=(0,s.useState)(""),[N,v]=(0,s.useState)(!1),[C,S]=(0,s.useState)(),[L,P]=(0,s.useState)(!0),H=async()=>{m.get("flow/list/producthead",{headers:(0,c.dJ)("json")}).then((e=>{g(e.data.data),P(!1)})).catch((e=>{}))};(0,s.useEffect)((()=>{H()}),[]);const _=(0,s.useMemo)((()=>{if(!j)return[];return j.filter((e=>{const t=e.name||"";return!b||t.toLowerCase().includes(b.toLowerCase())}))}),[b,j]),D=e=>{v(!1),S(),H()};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(x.N9,{}),N?(0,A.jsx)(T.A,{flow:C,flowList:j,close:D,techHeadList:a,prodHeadList:d,dataHeadList:o,titleList:"Flow List",categories:t,callBackFunc:D}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(l.sK,{className:"mt-3",children:[(0,A.jsxs)(l.UF,{xs:8,sm:9,md:10,children:[(0,A.jsx)("b",{style:{marginLeft:"30px"},children:"Flow List"}),(0,A.jsx)("br",{}),(0,A.jsx)(r.A,{style:{marginLeft:"30px"},className:"bread-tab",separator:(0,A.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,A.jsx)(y.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,A.jsx)("span",{className:"text-secondary ",style:{cursor:"default"},children:"Flow List"})}]})]}),(0,A.jsxs)(l.UF,{xs:4,sm:3,md:2,style:{marginTop:"-5px"},children:[" ",(0,A.jsx)(k.A,{style:{width:"90%"},placeholder:"Search",className:"border-0 user-border-bottom ",onChange:e=>{return t=e.target.value,void w(t);var t},variant:"borderless",prefix:(0,A.jsx)("img",{src:R,alt:R,style:{width:"14px",height:"14px"},className:"search-icon"})})]})]}),(0,A.jsxs)("div",{className:"table-container table_scroll_flowlist lap-table",style:{marginTop:"20px"},children:[(0,A.jsxs)(l._v,{className:"flowlist-fulltable",hover:!0,children:[(0,A.jsx)(l.wV,{className:"head-row flowlist-table",children:(0,A.jsxs)(l.YI,{children:[(0,A.jsx)(l.$s,{className:"table-head-flowlist text-c text-center",scope:"col",width:"4%",children:"SI.No"}),(0,A.jsx)(l.$s,{className:"table-head table-head-flowlist text-c",width:"10%",scope:"col",children:"Name of the flow"}),(0,A.jsx)(l.$s,{className:"table-head table-head-flowlist text-c",scope:"col",width:"10%",children:"Access Persons"}),(0,A.jsx)(l.$s,{className:"table-head table-head-flowlist text-c ",scope:"col",width:"60%",children:"Approval Flow"}),(0,A.jsx)(l.$s,{className:"table-head table-head-flowlist-active text-c text-center",scope:"col",width:"10%",children:"Action"})]})}),(0,A.jsx)(l.jS,{children:_?_.map(((e,t)=>(0,A.jsxs)(l.YI,{children:[(0,A.jsx)(l.cC,{className:"activity-text-index td-text flowlist-name text-center pad-bottom_flow",width:"4%",children:t+1}),(0,A.jsx)(l.cC,{className:"td-text text-c flowlist-name pad-bottom_flow",width:"8%",children:(0,A.jsx)(i.A,{placement:"bottomLeft",title:e.name,children:(0,u.IQ)(e.name,15)})}),(0,A.jsx)(l.cC,{className:"td-text flowlist-accesperson pad-bottom_flow",width:"5%",children:(0,A.jsxs)("div",{className:"table-cell-container",children:[(0,A.jsxs)("div",{className:"image-background-accessperson",children:[e.access.slice(0,3).map(((e,t)=>(0,A.jsx)("div",{className:"accessPerImg",children:(0,A.jsx)("div",{className:"tooltip-container",children:(0,A.jsx)("img",{src:e.profile_pic?c.ZX+e.profile_pic:h,className:e.profile_pic?"first-image":"second-image",alt:"Access Person Images"})})},t))),(0,A.jsx)("div",{children:e.access.length>3&&(0,A.jsx)("div",{className:"accessPerImg text-center more-person-access rounded-circle",children:(0,A.jsxs)("span",{children:["+",e.access.length-3]})})})]}),e.access.length>3&&(0,A.jsx)("div",{className:"card-list-person",children:(0,A.jsx)(n.A,{style:{width:"250px",overflowY:"auto",height:"200px"},className:"Access-card",children:e.access.map((e=>(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:" access-person-tooltip  ",children:[(0,A.jsx)("div",{className:"image-background",children:(0,A.jsx)("img",{src:e.profile_pic?c.ZX+e.profile_pic:h,className:e.profile_pic?"card-access-image":"card-approval-image",alt:e.name})}),(0,A.jsxs)("div",{className:"node1 access-person-hovercard",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,A.jsxs)("p",{className:"member-user-name1",children:[" ",e.name]}),(0,A.jsx)("p",{className:"member-role-text1",children:e.role})]})]}),(0,A.jsx)(p.A,{})]},e)))})})]})}),(0,A.jsx)(l.cC,{className:"td-text flowlist-approvalflow pad-bottom_flow",width:"50%",children:(0,A.jsxs)("div",{className:"table-cell-container-flow",children:[(0,A.jsxs)("div",{className:"flow-chart Approval-flow-chart  mt-3",children:[e.approvals.slice(0,5).map(((t,a)=>(0,A.jsxs)(s.Fragment,{children:[(0,A.jsxs)("div",{className:" approval-lable-content",children:[(0,A.jsx)("div",{className:"image-background",children:(0,A.jsx)("img",{src:t.profile_pic?c.ZX+t.profile_pic:h,alt:"Access Person Images",className:t.profile_pic?"first-image-approval":"second-image"})}),(0,A.jsxs)("div",{className:"approval-flow",children:[(0,A.jsx)("p",{className:"user-name-table ",title:t.name,children:t.name}),(0,A.jsx)("p",{className:"role-text1 approver-role-text1",title:t.role,children:t.role})]})]}),a<4&&a<e.approvals.length-1&&(0,A.jsx)("div",{className:"connector access-line-img",children:(0,A.jsx)("img",{src:F,alt:"Access Person Images",width:"22px"})})]},a))),(0,A.jsx)("div",{children:e.approvals.length>5&&(0,A.jsxs)("p",{style:{fontSize:"11px",color:"#989696",marginTop:"-20px",marginLeft:"15px"},children:["+",e.approvals.length-5,(0,A.jsx)("div",{children:" more"})]})})]}),e.approvals.length>5&&(0,A.jsx)("div",{className:"card-list-flow",children:(0,A.jsx)(n.A,{style:{width:"220px"},className:"flow-card",children:e.approvals.map(((e,t)=>(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:" access-person-tooltip ",children:[(0,A.jsx)("img",{src:e.profile_pic?c.ZX+e.profile_pic:h,className:(e.profile_pic,"card-approval-image"),alt:e.name}),(0,A.jsxs)("div",{className:"node1 access-person-hovercard",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,A.jsxs)("p",{className:"approver-user-name1",children:[" ",e.name]}),(0,A.jsx)("p",{className:"approver-role-text12",children:e.role})]})]}),(0,A.jsx)(p.A,{})]},t)))})})]})}),(0,A.jsx)(l.cC,{className:"td-text flowlist-Action pad-bottom_flow",width:"4%",children:(0,A.jsx)("div",{className:"action-items",children:(0,A.jsx)("button",{type:"button",className:"action-view-product",onClick:()=>{return t=e.id,v(!0),void S(t);var t},children:"Create Product"})})})]},e.id))):(0,A.jsx)(l.JT,{color:"danger"})})]}),null===_&&!L||0===_.length&&!L?(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:"No Data Found"}):L?(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,A.jsx)(l.JT,{color:"danger"})}):(0,A.jsx)("div",{})]}),(0,A.jsx)("div",{style:{height:"50px"}})]})]})};var $=a(47419);const E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHzSURBVHgBrVW7ahtBFL33zshsHBktC8GCqFARiJuAinxA9AkhEJJSkARSBZEfmD9QFVKk2D4p/AlqU6pIkcKFAgos2Ig1suWxdnbHM7JX+LG7I2Odanbn3rOHnXPPIJRACMGDpy+aWiU+8lo9hcyz7xmQTHUqkwSi+fZpLHo9WdSPRYSN3ect3GItnSEHF5Qa9z+/H1cSh2HozdSjTgrMg3sgg1TO+Nnounp8KGkZOeUbTlKtY8L0qGybTO+O4RBiyC+fDQbf99tVpKTSo/6nt6MvH979sR+oIm/sRq3l2v4C4KoNFcgYuQ/xCkisZVXjt/Bnc6Fwz9mRK0X0XaUMzg/4IoHmXdMVSXETrjQo7nOGzDPmr67kanwMMmqA7zGV7eXDUgbFoU6uokvI5YT1e6/jlNNfV7U9RIJ1oOqdwY9fr+zSh1iu00J29mHDsMNCJmROYMMgTZJMcsWwYdjko+mzIEKjGzaI+faTmES3q/SiNlm7af64egqNNUWvK5ejIYZDHhxMXzqtpxexzogj4/Wi7cwY4evHN7/temk3q3qHByOnQ3DLryKdGY5V6fXNMByaTJ521huau6T2FxQS5xiE+21z5bTBAZNkShNOjv/5EyG6NwxQGj9W/RwOfRtSV3myukw1Jieoa/H0fxDdJsxxAUHW4Eyq3gUoAAAAAElFTkSuQmCC";var z=a(66526),B=a(92909),M=a(61364),Y=a(7615);const U=e=>{let{formatDate:t,FlowList:a,categories:m,techHeadList:j,prodHeadList:v,dataHeadList:C}=e,S=(0,f.A)();const[L,P]=(0,s.useState)(),[H,_]=(0,s.useState)([]),[D,I]=(0,s.useState)([]),[k,F]=(0,s.useState)({}),[R,O]=(0,s.useState)(!1),[U,Z]=(0,s.useState)(!1),[X,V]=(0,s.useState)(!0),J=(0,s.useRef)(!0),K=(0,s.useRef)(0),q=(0,s.useRef)(!1),G=(0,s.useRef)(0),Q=(0,s.useRef)(null),[W,ee]=(0,s.useState)(new AbortController),[te,ae]=(0,s.useState)(!0);(0,s.useEffect)((()=>{if(!R&&!U){K.current=0,J.current=!0,le(),re();const e=document.querySelector(".table-container");return e.addEventListener("scroll",se),()=>{e.removeEventListener("scroll",se)}}}),[R,U]);const se=()=>{const e=document.querySelector(".table-container");e.scrollTop+e.clientHeight===e.scrollHeight&&!0===J.current&&le()},le=async()=>{var e;let t;0===K.current&&(V(!0),_([]),W.abort(),t=new AbortController,ee(t));const a="product/list?page=".concat(K.current,"&size=10&search=").concat(q.current,"&status=Pending&value=").concat(G.current);S.get(a,{headers:(0,c.dJ)("json"),signal:null===(e=t)||void 0===e?void 0:e.signal}).then((e=>{const t=e.data.data;0===K.current?_(t):_((e=>[...e,...t])),t.length<10&&(J.current=!1),K.current=K.current+1,V(!1)})).catch((e=>{}))},ce=e=>{(async e=>{const t="product/view/"+e;S.get(t,{headers:(0,c.dJ)("json")}).then((e=>{const t=e.data.data;F(t)})).catch((e=>{}))})(e),Z(!0)},re=async()=>{S.get("product/head/search?status=Pending",{headers:(0,c.dJ)("json")}).then((e=>{const t=e.data.data;I(t),ae(!1)})).catch((e=>{}))};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(x.N9,{}),R?(0,A.jsx)(T.A,{flow:null,flowList:a,close:()=>{O(!1)},techHeadList:j,prodHeadList:v,dataHeadList:C,titleList:"Pending List",categories:m}):U?(0,A.jsx)(g.A,{flowList:a,close:()=>{Z(!1)},techHeadList:j,prodHeadList:v,dataHeadList:C,categories:m,ViewProductData:k,viewStatus:"View",titleList:"Pending List",ownerOption:[]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(l.sK,{className:"mt-3",children:[(0,A.jsxs)(l.UF,{sm:6,md:8,children:[(0,A.jsx)("b",{style:{marginLeft:"30px"},children:"Product List"}),(0,A.jsx)("br",{}),(0,A.jsx)(r.A,{style:{marginLeft:"30px"},className:"bread-tab",separator:(0,A.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,A.jsx)(y.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,A.jsx)("span",{className:"text-secondary ",style:{cursor:"default"},children:"Product List"})}]})]}),(0,A.jsx)(l.UF,{xs:6,sm:3,md:2,children:(0,A.jsx)(d.A,{ref:Q,style:{marginTop:"10px"},className:" custom-select pend-sel",suffixIcon:(0,A.jsx)("img",{src:N,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),id:"products",value:L,onChange:e=>(e=>{void 0===e?(P(),q.current=!1,G.current=0):(P(e),q.current=!0,G.current=e),Q.current.blur(),K.current=0,J.current=!0,le()})(e),showSearch:!0,allowClear:!0,filterOption:(e,t)=>t.label.toLowerCase().indexOf(e.toLowerCase())>=0,dropdownRender:e=>(0,A.jsx)("div",{style:{overflow:"auto"},role:"listbox",children:e}),options:te?[{label:(0,A.jsx)("div",{style:{textAlign:"center"},children:Array.from({length:5},((e,t)=>(0,A.jsx)(o.A,{title:!1,paragraph:{rows:1,width:"100%",height:"10px",style:{height:"10px !important"}}},t)))}),value:"loading",disabled:!0}]:D.map((e=>({value:e.id,label:e.name}))),placeholder:"Choose Product",getPopupContainer:e=>e.parentNode})}),(0,A.jsx)(l.UF,{xs:6,sm:3,md:2,children:(0,A.jsx)(l.Q_,{className:"create-product-button",onClick:e=>{O(!0)},children:"Create Product"})})]}),(0,A.jsx)("div",{className:"table-container table_scroll   mt-4 ",style:{border:"none"},children:(0,A.jsxs)(w.A,{dataLength:H.length,next:se,hasMore:J.current,loader:(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,A.jsx)(l.JT,{color:"danger"})}),endMessage:0!==H.length&&(0,A.jsx)("p",{style:{textAlign:"center"},children:(0,A.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),children:[(0,A.jsxs)(l._v,{className:"flowlist-fulltable",hover:!0,children:[(0,A.jsx)(l.wV,{className:"head-row draft-head-row-ts",children:(0,A.jsxs)(l.YI,{children:[(0,A.jsx)(l.$s,{className:"table-head-productlist text-c text-center ",scope:"col",width:"4%",children:"SI.No"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Product Name"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"8%",children:"Flow"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Product Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Technical Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Data Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Start Date"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"End Date"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",width:"10%",scope:"col",children:"Approval Flow"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Budget Details"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Approver Status"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Action"})]})}),(0,A.jsx)(l.jS,{children:H?H.map(((e,a)=>(0,A.jsxs)(l.YI,{children:[(0,A.jsx)(l.cC,{className:"productflow-col-box text-c pad-bottom_flow td-product-text",children:a+1}),(0,A.jsx)(l.cC,{className:"productflow-product-name pad-bottom_flow td-product-text",children:(0,A.jsx)(i.A,{placement:"bottomLeft",title:e.productName,className:"productflow-name-lable",children:e.productName})}),(0,A.jsx)(l.cC,{className:" productflow-product-flow pad-bottom_flow td-product-text",children:(0,A.jsx)(i.A,{placement:"bottomLeft",title:e.flowName?e.flowName:"",className:"flow-name-lable",children:e.flowName?e.flowName:""})}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",children:0!==e.prodHead.length?e.prodHead.map((e=>(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",children:0!==e.techHead.length?e.techHead.map((e=>(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",children:0!==e.dataHead.length?e.dataHead.map((e=>(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-Startdate pad-bottom_flow td-product-text",children:t(e.startDate)}),(0,A.jsx)(l.cC,{className:"productflow-product-Enddate pad-bottom_flow td-product-text",children:null!==e.endDate?t(e.endDate):"--"}),(0,A.jsx)(l.cC,{className:" text-c flowlist-accesperson-app pad-bottom_flow",children:(0,A.jsxs)("div",{className:"table-cell-container",children:[(0,A.jsxs)("div",{className:"image-background-accessperson",children:[e.approvalFlow.slice(0,3).map(((e,t)=>(0,A.jsx)("div",{className:"accessPerImg",children:(0,A.jsx)("div",{className:"tooltip-container",children:(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,className:e.profilePic?"first-image":"second-image",alt:"Access Person Images"})})},t))),(0,A.jsx)("div",{children:e.approvalFlow.length>3&&(0,A.jsx)("div",{className:"accessPerImg text-center more-person-access rounded-circle",children:(0,A.jsxs)("span",{children:["+",e.approvalFlow.length-3]})})})]}),e.approvalFlow.length>0&&(0,A.jsx)("div",{className:"card-list-person",children:(0,A.jsx)(n.A,{style:{width:"230px",height:"120px",overflowY:"auto"},className:"Access-card",children:e.approvalFlow.map((e=>(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:" access-person-tooltip  ",children:[(0,A.jsx)("div",{className:"image-background",children:(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,className:e.profilePic?"card-access-image":"card-approval-image",alt:e.name})}),(0,A.jsxs)("div",{className:"node1 access-person-hovercard",style:e.profilePic?{marginLeft:"11px"}:{},children:[(0,A.jsxs)("p",{className:"member-user-name1",children:[" ",e.name]}),(0,A.jsx)("p",{className:"member-role-text1",children:e.designation})]})]}),(0,A.jsx)(p.A,{})]},e.id)))})})]})}),(0,A.jsx)(l.cC,{className:"productflow-product-budget pad-bottom_flow td-product-text",children:"undefined"!==e.budgetDetails&&""!==e.budgetDetails&&null!==e.budgetDetails?(0,u.Kn)(e.budgetDetails,e.currency):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-technical pad-bottom_flow",width:"10%",children:(0,A.jsxs)("div",{className:"approver-status-td",children:[(0,A.jsx)("button",{className:"appro-status",style:{cursor:"pointer"},children:(0,A.jsx)("span",{children:e.approvalStatus})}),(0,A.jsxs)("div",{className:"tooltip-trigger",children:[(0,A.jsx)("img",{src:E,style:{width:"17px",height:"17px",cursor:"pointer"},alt:"info"}),(0,A.jsx)("div",{className:"tooltip-container-approvals",children:(0,A.jsx)("div",{style:{width:"200px",minHeight:"85px",borderRadius:"7px"},className:"flow-card",children:e.approvalFlow.map(((e,t)=>(0,A.jsx)("div",{children:(0,A.jsxs)($.A,{className:"align-items-center",style:{margin:"16px"},children:[(0,A.jsx)("div",{className:"col-md-1",children:(0,A.jsx)("img",{alt:"stages",style:{width:"12px"},className:"content-img appr_img",src:"Pending"===e.approvalStatus?B:"Approved"===e.approvalStatus?M:"Rejected"===e.approvalStatus?Y:z})}),(0,A.jsx)("div",{className:"col-md-1",children:(0,A.jsx)("div",{className:"vertical-line-appr"})}),(0,A.jsx)("div",{className:"col-md-2",children:(0,A.jsx)("img",{alt:"profile",className:"appr-img-td",src:e.profilePic?c.ZX+e.profilePic:h})}),(0,A.jsxs)("div",{className:"col-sm-7 name_role",children:[(0,A.jsx)("p",{className:"head-td-name",style:{marginTop:"21px"},title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role_card",title:e.designation,children:e.designation})]})]})},t)))})})]})]})}),(0,A.jsx)(l.cC,{className:"productflow-product-Action pad-bottom_flow text-center td-product-text",children:(0,A.jsx)("button",{className:"btn border-0 text-c text-secondary cross-button",style:{fontSize:"12px",padding:"4px 8px"},onClick:()=>ce(e.id),children:(0,A.jsx)(b.A,{width:"13",height:"13",viewBox:"0 0 20 16",fill:"#A5A1A1"})})})]},a))):(0,A.jsx)("div",{})})]}),null===H&&!X||0===H.length&&!X?(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:"No Data Found"}):X&&0===H.length?(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,A.jsx)(l.JT,{color:"danger"})}):(0,A.jsx)("div",{})]})})]})]})};var Z=a(17944);const X=e=>{let{FlowList:t,categories:a,techHeadList:m,prodHeadList:b,dataHeadList:v}=e,C=(0,f.A)();const[S,L]=(0,s.useState)([]),[P,H]=(0,s.useState)(null),[_,D]=(0,s.useState)([]),[I,k]=(0,s.useState)(!0),[F,T]=(0,s.useState)(!1),[R,O]=(0,s.useState)({}),[$,E]=(0,s.useState)("OwnerCreate"),[z,B]=(0,s.useState)(new AbortController),M=(0,s.useRef)(!0),Y=(0,s.useRef)(0),U=(0,s.useRef)(!1),X=(0,s.useRef)(0),V=(0,s.useRef)(null),[J,K]=(0,s.useState)(!0);(0,s.useEffect)((()=>{if(W(),!F){Y.current=0,M.current=!0,Q();const e=document.querySelector(".table-container");return e.addEventListener("scroll",q),()=>{e.removeEventListener("scroll",q)}}}),[F]);const q=()=>{const e=document.querySelector(".table-container");e.scrollTop+e.clientHeight===e.scrollHeight&&!0===M.current&&(0!==X.current&&(Y.current=0),Q())},G=e=>{let t=new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});return t.includes(",")||(t=t.replace(/(\w{3}) (\d{4})/,"$1, $2")),t},Q=async()=>{var e;let t;0===Y.current&&(k(!0),L([]),z&&z.abort(),t=new AbortController,B(t));const a="member/product-list?page=".concat(Y.current,"&size=10&search=").concat(U.current,"&value=").concat(X.current);await C.get(a,{headers:(0,c.dJ)("json"),signal:null===(e=t)||void 0===e?void 0:e.signal}).then((e=>{const t=e.data.data;null!==t?(0===Y.current?L(t):L((e=>[...e,...t])),t.length<10&&(M.current=!1),Y.current=Y.current+1):M.current=!1,k(!1)})).catch((e=>{}))},W=async()=>{C.get("product/owner/serach",{headers:(0,c.dJ)("json")}).then((e=>{const t=e.data.data;D(t),K(!1)})).catch((e=>{}))};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(x.N9,{}),F?(0,A.jsx)(g.A,{flowList:t,close:()=>{Y.current=0,X.current=0,U.current=!1,T(!1)},techHeadList:m,prodHeadList:b,dataHeadList:v,categories:a,ViewProductData:R,viewStatus:$,titleList:"Product List",ownerOption:[]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(l.sK,{className:"mt-3",children:[(0,A.jsxs)(l.UF,{sm:10,children:[(0,A.jsx)("b",{style:{marginLeft:"30px"},children:"Product List"}),(0,A.jsx)("br",{}),(0,A.jsx)(r.A,{style:{marginLeft:"30px"},className:"bread-tab",separator:(0,A.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,A.jsx)(y.N_,{to:"/dashboard",className:"bread-items text-decoration-none text-secondary",children:"Dashboard"})},{title:(0,A.jsx)("span",{className:"text-secondary ",style:{cursor:"default"},children:"Product List"})}]})]}),(0,A.jsx)(l.UF,{sm:2,children:(0,A.jsx)(d.A,{className:"contract_members_activity_select custom_select_prd",suffixIcon:(0,A.jsx)("img",{src:N,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),variant:"borderless",id:"products",value:P,onChange:e=>{return t=e,V.current.blur(),void 0===t?(H(null),U.current=!1,X.current=0):(H(t),U.current=!0,X.current=t),Y.current=0,M.current=!0,void Q();var t},showSearch:!0,ref:V,allowClear:!0,filterOption:(e,t)=>t.label.toLowerCase().indexOf(e.toLowerCase())>=0,dropdownRender:e=>(0,A.jsx)("div",{style:{overflow:"auto"},role:"listbox",children:e}),options:J?[{label:(0,A.jsx)("div",{style:{textAlign:"center"},children:Array.from({length:5},((e,t)=>(0,A.jsx)(o.A,{title:!1,paragraph:{rows:1,width:"100%",height:"10px",style:{height:"10px !important"}}},t)))}),value:"loading",disabled:!0}]:_.map((e=>({value:e.id,label:e.name}))),placeholder:"Choose Product",getPopupContainer:e=>e.parentNode})})]}),(0,A.jsx)("div",{className:"table-container table_scroll",style:{border:"none"},children:(0,A.jsxs)(w.A,{dataLength:S.length,next:q,hasMore:M.current,loader:(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,A.jsx)(l.JT,{color:"danger"})}),endMessage:0!==S.length&&(0,A.jsx)("p",{style:{textAlign:"center"},children:(0,A.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),children:[(0,A.jsxs)(l._v,{hover:!0,children:[(0,A.jsx)(l.wV,{className:"head-row draft-head-row-ts",children:(0,A.jsxs)(l.YI,{children:[(0,A.jsx)(l.$s,{className:"table-head-productlist text-c text-center",scope:"col",width:"4%",children:"SI.No"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Product Name"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Flow"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Product Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Technical Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Data Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Start Date"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"End Date"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",width:"10%",scope:"col",children:"Approval Flow"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Budget Details"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Business Category"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c text-center",scope:"col",width:"10%",children:"Action"})]})}),(0,A.jsx)(l.jS,{children:S?S.map(((e,t)=>(0,A.jsxs)(l.YI,{className:"tr-bg-color",children:[(0,A.jsx)(l.cC,{className:"productflow-col-box text-c pad-bottom_flow td-product-text",children:t+1}),(0,A.jsx)(l.cC,{className:"productflow-product-name pad-bottom_flow td-product-text",children:(0,A.jsx)(i.A,{placement:"bottomLeft",title:e.productName,className:"productflow-name-lable",children:e.productName})}),(0,A.jsx)(l.cC,{className:" productflow-product-flow pad-bottom_flow td-product-text",children:(0,A.jsx)(i.A,{placement:"bottomLeft",title:e.flowName?e.flowName:"",className:"flow-name-lable",children:e.flowName?e.flowName:""})}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",children:e.prodHead?(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.prodHead.profilePic?c.ZX+e.prodHead.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"6px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.prodHead.name,children:e.prodHead.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.prodHead.designation,children:e.prodHead.designation})]})]}):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",children:e.techHead?(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.techHead.profilePic?c.ZX+e.techHead.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"6px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.techHead.name,children:e.techHead.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.techHead.designation,children:e.techHead.designation})]})]}):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",children:e.dataHead?(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.dataHead.profilePic?c.ZX+e.dataHead.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"6px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.dataHead.name,children:e.dataHead.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.dataHead.designation,children:e.dataHead.designation})]})]}):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-Startdate pad-bottom_flow td-product-text",children:G(e.startDate)}),(0,A.jsx)(l.cC,{className:"productflow-product-Enddate pad-bottom_flow td-product-text",children:null!==e.endDate?G(e.endDate):"--"}),(0,A.jsx)(l.cC,{className:"text-c flowlist-accesperson pad-bottom_flow",children:(0,A.jsxs)("div",{className:"table-cell-container",children:[(0,A.jsxs)("div",{className:"image-background-accessperson",children:[e.approvalFlow.slice(0,3).map(((e,t)=>(0,A.jsx)("div",{className:"accessPerImg",children:(0,A.jsx)("div",{className:"tooltip-container",children:(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,className:e.profilePic?"first-image":"second-image",alt:"Access Person Images"})})},t))),(0,A.jsx)("div",{children:e.approvalFlow.length>3&&(0,A.jsx)("div",{className:"accessPerImg text-center more-person-access rounded-circle",children:(0,A.jsxs)("span",{children:["+",e.approvalFlow.length-3]})})})]}),(0,A.jsx)("div",{className:"card-list-person",children:(0,A.jsx)(n.A,{style:{width:"250px",height:"120px",overflowY:"auto"},className:"Access-card",children:e.approvalFlow.map((e=>(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:" access-person-tooltip  ",children:[(0,A.jsx)("div",{className:"image-background",children:(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,className:e.profilePic?"card-access-image":"card-approval-image",alt:e.name})}),(0,A.jsxs)("div",{className:"node1 access-person-hovercard",style:e.profilePic?{marginLeft:"11px"}:{},children:[(0,A.jsxs)("p",{className:"member-user-name1",children:[" ",e.name]}),(0,A.jsx)("p",{className:"member-role-text1",children:e.designation})]})]}),(0,A.jsx)(p.A,{})]},e)))})})]})}),(0,A.jsx)(l.cC,{className:"productflow-product-budget pad-bottom_flow td-product-text",children:"undefined"!==e.budgetDetails&&""!==e.budgetDetails&&null!==e.budgetDetails?(0,u.Kn)(e.budgetDetails,e.currency):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-Startdate pad-bottom_flow td-product-text",children:e.bussinessCategory}),(0,A.jsx)(l.cC,{className:"productflow-product-Action pad-bottom_flow text-center td-product-text",children:e.member.length>0?(0,A.jsx)("button",{type:"button",className:"action-view  edit-button",onClick:()=>(async e=>{E("OwnerEdit");const t="product/view/"+e;C.get(t,{headers:(0,c.dJ)("json")}).then((e=>{const t=e.data.data;O(t),T(!0)})).catch((e=>{}))})(e.id),children:(0,A.jsx)(j.A,{width:"10",height:"10",viewBox:"0 0 18 18",fill:"none",color:"white",clipH:"18",clipW:"18"})}):(0,A.jsx)("button",{type:"button",className:"action-view cross-button",onClick:()=>{(async e=>{E("OwnerCreate");const t="product/view/"+e;C.get(t,{headers:(0,c.dJ)("json")}).then((e=>{const t=e.data.data;O(t),T(!0)})).catch((e=>{}))})(e.id)},children:(0,A.jsx)(Z.A,{width:"8",height:"12",viewBox:"0 0 18 18",fill:"#A5A1A1"})})})]},t))):(0,A.jsx)("div",{})})]}),null===S&&!I||0===S.length&&!I?(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:"No Data Found"}):I&&0===S.length?(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,A.jsx)(l.JT,{color:"danger"})}):(0,A.jsx)("div",{})]})})]})]})};var V=a(70530),J=a(60537),K=a(84665);const q=e=>(0,A.jsx)("div",{style:{overflow:"auto"},role:"listbox",children:e}),G=e=>{let{FlowList:t,categories:a,techHeadList:m,prodHeadList:j,dataHeadList:C}=e,S=(0,f.A)();const[P,H]=(0,s.useState)(),[_,D]=(0,s.useState)([]),[I,k]=(0,s.useState)([]),[F,T]=(0,s.useState)(!0),[R,O]=(0,s.useState)([]),[$,E]=(0,s.useState)(""),[z,B]=(0,s.useState)(!1),[M,Y]=(0,s.useState)(!1),[U,Z]=(0,s.useState)(!1),[X,G]=(0,s.useState)(""),[Q,W]=(0,s.useState)(!1),[ee,te]=(0,s.useState)({}),[ae,se]=(0,s.useState)(""),[le,ce]=(0,s.useState)(""),[re,de]=(0,s.useState)(new AbortController),[oe,ie]=(0,s.useState)(!1),[ne,pe]=(0,s.useState)(),he=(0,s.useRef)(0),me=(0,s.useRef)(!0),xe=(0,s.useRef)("Pending"),ue=(0,s.useRef)(!1),je=(0,s.useRef)(0),ge=(0,s.useRef)(null),[fe,be]=(0,s.useState)(!0),we=e=>{"Approved"===e?(Z(!0),G("Approved")):"Rejected"===e&&(W(!0),G("Rejected"))};(0,s.useEffect)((()=>{if(Pe(),!M){me.current=!0,Ae();const e=document.querySelector(".table-container");return e.addEventListener("scroll",Ne),()=>{e.removeEventListener("scroll",Ne)}}}),[M]);const Ne=()=>{const e=document.querySelector(".table-container");e.scrollTop+e.clientHeight===e.scrollHeight&&!0===me.current&&Ae()},ve=e=>{if(e){const e=_.map((e=>e.id));O(e),E("".concat(e.length," Selected"))}else O([]),E("")},ye=e=>{let t=new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});return t.includes(",")||(t=t.replace(/(\w{3}) (\d{4})/,"$1, $2")),t},Ae=async()=>{var e;let t;0===he.current&&(T(!0),D([]),re&&re.abort(),t=new AbortController,de(t));const a="approval/product/list?page=".concat(he.current,"&size=10&search=").concat(ue.current,"&status=").concat(xe.current,"&value=").concat(je.current);await S.get(a,{headers:(0,c.dJ)("json"),signal:null===(e=t)||void 0===e?void 0:e.signal}).then((e=>{const t=e.data.data;0===he.current?D(t):D((e=>[...e,...t])),t.length<10&&(me.current=!1),he.current=he.current+1,T(!1)})).catch((e=>{}))},Ce=async(e,t,a)=>{if("Rejected"!==X||""!==a)return await Se(X,R,a);x.oR.error("Please Enter Remarks!..",{position:x.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})},Se=async(e,t,a)=>{const s={status:e,remarks:a},l="approval/product/approve/"+t;try{const t=await S.put(l,s,{headers:(0,c.dJ)("json")});if(null!==t&&void 0!==t&&t.data){const a="Product ".concat(e," Successfully");return x.oR.success(a,{position:x.oR.POSITION.BOTTOM_RIGHT,autoClose:2e3}),t.data}throw new Error("Empty response received from the server")}catch(r){throw x.oR.error(r.message,{position:x.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),r}},Le=()=>{B(!1),ie(!1),Z(!1),W(!1),O([]),E(""),he.current=0,je.current=0,ue.current=!1,xe.current="Pending",Ae()},Pe=async()=>{const e="/approval/product/search?status=".concat(xe.current);S.get(e,{headers:(0,c.dJ)("json")}).then((e=>{const t=e.data.data;k(t),be(!1)})).catch((e=>{}))},He=F?(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,A.jsx)(l.JT,{color:"danger"})}):(0,A.jsx)("div",{});return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(x.N9,{}),M?(0,A.jsx)(g.A,{flowList:t,close:()=>{Y(!1)},techHeadList:m,prodHeadList:j,dataHeadList:C,categories:a,viewProductData:ee,viewStatus:"View",titleList:"Pending List",ownerOption:[]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(l.sK,{className:"mt-3",children:[(0,A.jsxs)(l.UF,{md:10,children:[(0,A.jsx)("b",{style:{paddingLeft:"30px"},children:"Pending List"}),(0,A.jsx)("br",{}),(0,A.jsx)(r.A,{style:{paddingLeft:"30px"},className:"bread-tab",separator:(0,A.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,A.jsx)(y.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,A.jsx)("span",{className:"text-secondary ",style:{cursor:"default"},children:"Pending List"})}]})]}),(0,A.jsx)(l.UF,{sm:2,children:(0,A.jsx)(d.A,{ref:ge,className:"contract_members_activity_select custom_prod_pend",suffixIcon:(0,A.jsx)("img",{src:N,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),id:"products",value:P,onChange:e=>(e=>{void 0===e?(H(),ue.current=!1,je.current=0):(H(e),ue.current=!0,je.current=e),ge.current.blur(),he.current=0,me.current=!0,Ae()})(e),showSearch:!0,allowClear:!0,filterOption:(e,t)=>t.label.toLowerCase().indexOf(e.toLowerCase())>=0,dropdownRender:q,options:fe?[{label:(0,A.jsx)("div",{style:{textAlign:"center"},children:Array.from({length:5},((e,t)=>(0,A.jsx)(o.A,{title:!1,paragraph:{rows:1,width:"100%",height:"10px",style:{height:"10px !important"}}},t)))}),value:"loading",disabled:!0}]:I.map((e=>({value:e.id,label:e.name}))),placeholder:"Choose Product",getPopupContainer:e=>e.parentNode})})]}),(0,A.jsx)("div",{className:"table-container  table_scroll",style:{border:"none"},children:(0,A.jsxs)(w.A,{dataLength:_.length,next:Ne,hasMore:me.current,loader:(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,A.jsx)(l.JT,{color:"danger"})}),endMessage:0!==_.length&&(0,A.jsx)("p",{style:{textAlign:"center"},children:(0,A.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),children:[(0,A.jsxs)(l._v,{className:"flowlist-fulltable",hover:!0,children:[(0,A.jsx)(l.wV,{className:"head-row draft-head-row-ts",children:$?(0,A.jsxs)(l.YI,{children:[(0,A.jsx)(l.$s,{className:"table-head-selected text-center  text-c ",width:"4%",children:(0,A.jsx)(L.A,{id:"flexCheckDefault",className:"checkbox_design",checked:R.length===_.length&&_.length,onChange:e=>ve(e.target.checked)})}),(0,A.jsx)(l.$s,{className:"table-head-selected  text-c ",colSpan:"7",children:(0,A.jsx)("span",{style:{color:"#f50505"},children:$})}),(0,A.jsx)(l.$s,{className:"table-head-selected ",colSpan:"7",style:{textAlign:"right"},children:(0,A.jsxs)("div",{className:"action-request",style:{display:"flex",alignItems:"center",justifyContent:"flex-end",marginRight:"36px"},children:[(0,A.jsx)("button",{className:"btn border-0 text-c text-secondary ",style:{fontSize:"12px"},type:"button",onClick:()=>we("Approved"),children:(0,A.jsx)(V.A,{width:"11",height:"9",viewBox:"0 0 14 10",fill:"#00ab55"})}),(0,A.jsx)("button",{className:"btn border-0 text-c text-secondary ",style:{fontSize:"12px",padding:"2px"},onClick:()=>{we("Rejected")},children:(0,A.jsx)(v.A,{width:"9",height:"11",viewBox:"0 0 14 10",fill:"#e40e2d"})})]})})]}):(0,A.jsxs)(l.YI,{children:[(0,A.jsx)(l.$s,{className:"table-head-draft text-center text-c grid-cell-header",scope:"col",width:"4%",style:{position:"sticky",top:"0",zIndex:"12"},children:(0,A.jsx)(L.A,{id:"flexCheckDefault",className:"checkbox_design",checked:R.length===_.length&&_.length,onChange:e=>ve(e.target.checked)})}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c text-center ",scope:"col",width:"4%",children:"SI.No"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Product Name"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Flow"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Product Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Technical Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Data Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Start Date"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"End Date"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",width:"10%",scope:"col",children:"Approval Flow"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Budget Details"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c text-center",scope:"col",width:"10%",children:"Action"})]})}),(0,A.jsx)(l.jS,{children:_?_.map(((e,t)=>(0,A.jsxs)(l.YI,{className:"tr-bg-color",children:[(0,A.jsx)(l.cC,{className:"text-c text-center pd-text1 grid-cell ".concat(R.includes(e.id)?"checked-table-row":""),width:"6%",children:(0,A.jsx)(L.A,{className:"checkbox_design",id:"flexCheckDefault-".concat(t),value:e.id,checked:R.includes(e.id),onChange:t=>{((e,t)=>{O(t?t=>[...t,e]:t=>t.filter((t=>t!==e)));const a=(t?[...R,e]:R.filter((t=>t!==e))).length;E(a<1?"":"".concat(a," Selected"))})(e.id,t.target.checked)}})}),(0,A.jsx)(l.cC,{className:"productflow-col-box text-c pad-bottom_flow td-product-text",width:"5%",children:t+1}),(0,A.jsx)(l.cC,{className:"productflow-product-name pad-bottom_flow td-product-text",width:"10%",children:(0,A.jsx)(i.A,{placement:"bottomLeft",title:e.productName,className:"productflow-name-lable",children:e.productName})}),(0,A.jsx)(l.cC,{className:" productflow-product-flow pad-bottom_flow td-product-text",width:"10%",children:(0,A.jsx)(i.A,{placement:"bottomLeft",title:e.flowName?e.flowName:"",className:"flow-name-lable",children:e.flowName?e.flowName:""})}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",width:"10%",children:0!==e.prodHead.length?e.prodHead.map((e=>(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",width:"10%",children:0!==e.techHead.length?e.techHead.map((e=>(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",width:"10%",children:0!==e.dataHead.length?e.dataHead.map((e=>(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-Startdate pad-bottom_flow td-product-text",width:"10%",children:ye(e.startDate)}),(0,A.jsx)(l.cC,{className:"productflow-product-Enddate pad-bottom_flow td-product-text",width:"10%",children:null!==e.endDate?ye(e.endDate):"--"}),(0,A.jsx)(l.cC,{className:"text-c flowlist-accesperson pad-bottom_flow",width:"10%",children:(0,A.jsxs)("div",{className:"table-cell-container",children:[(0,A.jsxs)("div",{className:"image-background-accessperson",children:[e.approvalFlow.slice(0,3).map(((t,a)=>(0,A.jsx)("div",{className:"accessPerImg",children:(0,A.jsx)("div",{className:"tooltip-container",children:(0,A.jsx)("img",{src:t.profilePic?c.ZX+t.profilePic:h,className:t.profilePic?"first-image":"second-image",alt:"Access Person Images"})})},e.id))),(0,A.jsx)("div",{children:e.approvalFlow.length>3&&(0,A.jsx)("div",{className:"accessPerImg text-center more-person-access rounded-circle",children:(0,A.jsxs)("span",{children:["+",e.approvalFlow.length-3]})})})]}),(0,A.jsx)("div",{className:"card-list-person",children:(0,A.jsx)(n.A,{style:{width:"230px",height:"120px",overflowY:"auto"},className:"Access-card",children:e.approvalFlow.map((e=>(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:" access-person-tooltip  ",children:[(0,A.jsx)("div",{className:"image-background",children:(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,className:e.profilePic?"card-access-image":"card-approval-image",alt:e.name})}),(0,A.jsxs)("div",{className:"node1 access-person-hovercard",style:e.profilePic?{marginLeft:"11px"}:{},children:[(0,A.jsxs)("p",{className:"member-user-name1",children:[" ",e.name]}),(0,A.jsx)("p",{className:"member-role-text1",children:e.designation})]})]}),(0,A.jsx)(p.A,{})]},e)))})})]})}),(0,A.jsx)(l.cC,{className:"productflow-product-budget pad-bottom_flow td-product-text",width:"10%",children:"undefined"!==e.budgetDetails&&""!==e.budgetDetails&&null!==e.budgetDetails?(0,u.Kn)(e.budgetDetails,e.currency):"---"}),(0,A.jsxs)(l.cC,{className:"productflow-product-Action pad-bottom_flow text-center td-product-text",width:"10%",children:[(0,A.jsx)("button",{className:"btn border-0 text-c text-secondary check-button",style:{fontSize:"12px",padding:"4px 8px"},disabled:R.includes(e.id),onClick:()=>{return t="Approved",a=e.id,ie(!0),se(a),void ce(t);var t,a},children:(0,A.jsx)(V.A,{width:"11",height:"9",viewBox:"0 0 14 10",fill:"#A5A1A1"})}),(0,A.jsx)("button",{className:"btn border-0 text-c text-secondary cross-button",style:{fontSize:"12px",padding:"4px 8px"},onClick:()=>{return t=e.id,B(!0),void pe(t);var t},disabled:R.includes(e.id),children:(0,A.jsx)(v.A,{width:"9",height:"11",viewBox:"0 0 14 10",fill:"#A5A1A1"})}),(0,A.jsx)("button",{type:"button",className:"btn border-0 text-c text-secondary cross-button",style:{fontSize:"13px",padding:"4px 8px"},onClick:()=>(async e=>{const t="product/view/"+e;S.get(t,{headers:(0,c.dJ)("json")}).then((e=>{const t=e.data.data;te(t),Y(!0)})).catch((e=>{}))})(e.id),children:(0,A.jsx)(b.A,{width:"13",height:"13",viewBox:"0 0 20 16",fill:"#A5A1A1"})})]})]},e.id))):(0,A.jsx)("div",{})})]}),null===_&&!F||0===_.length&&!F?(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:"No Data Found"}):He]})}),z&&(0,A.jsx)(J.A,{isModalOpen:z,handleCancel:()=>{B(!1)},handleApprove:async(e,t,a)=>await Se(e,t,a),id:ne,headContent:"Product",resetFunc:Le}),oe&&(0,A.jsx)(K.A,{isModalOpen:oe,handleCancel:()=>{ie(!1)},handleApprove:async(e,t,a)=>await Se(le,t,a),id:ae,headContent:"Product",resetFunc:Le})]}),U&&(0,A.jsx)(K.A,{isModalOpen:U,handleCancel:()=>{Z(!1)},handleApprove:Ce,headContent:"Product",resetFunc:Le}),Q&&(0,A.jsx)(J.A,{isModalOpen:Q,handleCancel:()=>{W(!1)},handleApprove:Ce,headContent:"Product",resetFunc:Le})]})},Q=e=>{let{FlowList:t,categories:a,techHeadList:m,prodHeadList:j,dataHeadList:v}=e,C=(0,f.A)();const[S,L]=(0,s.useState)(),[P,H]=(0,s.useState)([]),[_,D]=(0,s.useState)([]),[I,k]=(0,s.useState)(!0),[F,T]=(0,s.useState)(!1),[R,O]=(0,s.useState)({}),[$,E]=(0,s.useState)(new AbortController),[z,B]=(0,s.useState)(new AbortController),M=(0,s.useRef)(0),Y=(0,s.useRef)(!0),U=(0,s.useRef)("both"),Z=(0,s.useRef)(!1),X=(0,s.useRef)(0),V=(0,s.useRef)(null),[J,K]=(0,s.useState)(!0);(0,s.useEffect)((()=>{if(W(),!F){U.current="both",Z.current=!1,X.current=0,M.current=0,Y.current=!0,Q();const e=document.querySelector(".table-container");return e.addEventListener("scroll",q),()=>{e.removeEventListener("scroll",q)}}}),[F]);const q=()=>{const e=document.querySelector(".table-container");e.scrollTop+e.clientHeight===e.scrollHeight&&!0===Y.current&&Q()},G=e=>{let t=new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});return t.includes(",")||(t=t.replace(/(\w{3}) (\d{4})/,"$1, $2")),t},Q=async()=>{var e;let t;0===M.current&&(k(!0),H([]),$&&$.abort(),t=new AbortController,E(t));const a="approval/product/list?page=".concat(M.current,"&size=10&search=").concat(Z.current,"&status=").concat(U.current,"&value=").concat(X.current);await C.get(a,{headers:(0,c.dJ)("json"),signal:null===(e=t)||void 0===e?void 0:e.signal}).then((e=>{const t=e.data.data;0===M.current?H(t):H((e=>[...e,...t])),t.length<10&&(Y.current=!1),M.current=M.current+1,k(!1)})).catch((e=>{}))},W=async()=>{var e;let t;0===M.current&&(k(!0),D([]),z&&z.abort(),t=new AbortController,B(t));const a="/approval/product/search?status=".concat(U.current);C.get(a,{headers:(0,c.dJ)("json"),signal:null===(e=t)||void 0===e?void 0:e.signal}).then((e=>{const t=e.data.data;D(t),K(!1)})).catch((e=>{}))},ee=I?(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,A.jsx)(l.JT,{color:"danger"})}):(0,A.jsx)("div",{});return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(x.N9,{}),F?(0,A.jsx)(g.A,{flowList:t,close:()=>{T(!1)},techHeadList:m,prodHeadList:j,dataHeadList:v,categories:a,ViewProductData:R,viewStatus:"View",titleList:"Closed List",ownerOption:[]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(l.sK,{className:"mt-3",children:[(0,A.jsxs)(l.UF,{sm:8,children:[(0,A.jsx)("b",{style:{paddingLeft:"30px"},children:"Closed List"}),(0,A.jsx)("br",{}),(0,A.jsx)(r.A,{style:{paddingLeft:"30px"},className:"bread-tab",separator:(0,A.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,A.jsx)(y.N_,{to:"/dashboard",className:"bread-items text-decoration-none text-secondary",children:"Dashboard"})},{title:(0,A.jsx)("span",{className:"text-secondary ",style:{cursor:"default"},children:"Closed List"})}]})]}),(0,A.jsx)(l.UF,{sm:2,children:(0,A.jsx)(d.A,{suffixIcon:(0,A.jsx)("img",{src:N,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),className:"contract_members_activity_select custom-select_closedlist",allowClear:!0,placeholder:"Choose Status",options:[{value:"Approved",label:"Approved"},{value:"Rejected",label:"Rejected"}],onChange:e=>(e=>{U.current=void 0===e?"both":e,Z.current=!1,M.current=0,X.current=0,Y.current=!0,W(),Q()})(e)})}),(0,A.jsx)(l.UF,{sm:2,children:(0,A.jsx)(d.A,{ref:V,className:"contract_members_activity_select custom-select_closedlist",suffixIcon:(0,A.jsx)("img",{src:N,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),id:"products",value:S,onChange:e=>(e=>{void 0===e?(L(),Z.current=!1,X.current=0):(L(e),Z.current=!0,X.current=e),V.current.blur(),M.current=0,Y.current=!0,Q()})(e),showSearch:!0,allowClear:!0,filterOption:(e,t)=>t.label.toLowerCase().indexOf(e.toLowerCase())>=0,dropdownRender:e=>(0,A.jsx)("div",{style:{overflow:"auto"},role:"listbox",children:e}),options:J?[{label:(0,A.jsx)("div",{style:{textAlign:"center"},children:Array.from({length:5},((e,t)=>(0,A.jsx)(o.A,{title:!1,paragraph:{rows:1,width:"100%",height:"10px",style:{height:"10px !important"}}},t)))}),value:"loading",disabled:!0}]:_.map((e=>({value:e.id,label:e.name}))),placeholder:"Choose Product",getPopupContainer:e=>e.parentNode})})]}),(0,A.jsx)("div",{className:"table-container table_scroll",style:{border:"none"},children:(0,A.jsxs)(w.A,{dataLength:P.length,next:q,hasMore:Y.current,loader:(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,A.jsx)(l.JT,{color:"danger"})}),endMessage:0!==P.length&&(0,A.jsx)("p",{style:{textAlign:"center"},children:(0,A.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),children:[(0,A.jsxs)(l._v,{hover:!0,children:[(0,A.jsx)(l.wV,{className:"head-row draft-head-row-ts",children:(0,A.jsxs)(l.YI,{children:[(0,A.jsx)(l.$s,{className:"table-head-productlist text-c text-center ",scope:"col",width:"4%",children:"SI.No"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Product Name"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Flow"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Product Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Technical Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Data Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Start Date"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"End Date"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",width:"10%",scope:"col",children:"Approval Flow"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Budget Details"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Status"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c text-center",scope:"col",width:"10%",children:"Action"})]})}),(0,A.jsx)(l.jS,{children:P?P.map(((e,t)=>{return(0,A.jsxs)(l.YI,{className:"tr-bg-color",children:[(0,A.jsx)(l.cC,{className:"productflow-col-box text-c pad-bottom_flow td-product-text",children:t+1}),(0,A.jsx)(l.cC,{className:"productflow-product-name pad-bottom_flow td-product-text",children:(0,A.jsx)(i.A,{placement:"bottomLeft",title:e.productName,className:"productflow-name-lable",children:e.productName})}),(0,A.jsx)(l.cC,{className:" productflow-product-flow pad-bottom_flow td-product-text",children:(0,A.jsx)(i.A,{placement:"bottomLeft",title:e.flowName?e.flowName:"",className:"flow-name-lable",children:e.flowName?e.flowName:""})}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",children:0!==e.prodHead.length?e.prodHead.map((e=>(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",children:0!==e.techHead.length?e.techHead.map((e=>(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",children:0!==e.dataHead.length?e.dataHead.map((e=>(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-Startdate pad-bottom_flow td-product-text",children:G(e.startDate)}),(0,A.jsx)(l.cC,{className:"productflow-product-Enddate pad-bottom_flow td-product-text",children:null!==e.endDate?G(e.endDate):"--"}),(0,A.jsx)(l.cC,{className:"text-c flowlist-accesperson pad-bottom_flow",children:(0,A.jsxs)("div",{className:"table-cell-container",children:[(0,A.jsxs)("div",{className:"image-background-accessperson",children:[e.approvalFlow.slice(0,3).map(((t,a)=>(0,A.jsx)("div",{className:"accessPerImg",children:(0,A.jsx)("div",{className:"tooltip-container",children:(0,A.jsx)("img",{src:t.profilePic?c.ZX+t.profilePic:h,className:t.profilePic?"first-image":"second-image",alt:"Access Person Images"})})},e.id))),(0,A.jsx)("div",{children:e.approvalFlow.length>3&&(0,A.jsx)("div",{className:"accessPerImg text-center more-person-access rounded-circle",children:(0,A.jsxs)("span",{children:["+",e.approvalFlow.length-3]})})})]}),(0,A.jsx)("div",{className:"card-list-person",children:(0,A.jsx)(n.A,{style:{width:"230px",height:"120px",overflowY:"auto"},className:"Access-card",children:e.approvalFlow.map((e=>(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:" access-person-tooltip  ",children:[(0,A.jsx)("div",{className:"image-background",children:(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,className:e.profilePic?"card-access-image":"card-approval-image",alt:e.name})}),(0,A.jsxs)("div",{className:"node1 access-person-hovercard",style:e.profilePic?{marginLeft:"11px"}:{},children:[(0,A.jsxs)("p",{className:"member-user-name1",children:[" ",e.name]}),(0,A.jsx)("p",{className:"member-role-text1",children:e.designation})]})]}),(0,A.jsx)(p.A,{})]},e)))})})]})}),(0,A.jsx)(l.cC,{className:"productflow-product-budget pad-bottom_flow td-product-text",children:"undefined"!==e.budgetDetails&&""!==e.budgetDetails&&null!==e.budgetDetails?(0,u.Kn)(e.budgetDetails,e.currency):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-budget pad-bottom_flow td-product-text ".concat((a=e.approvalStatus,"Approved"===a?"green-text1 ":"Rejected"===a?"red-text1 ":"warning-text1 ")),width:"10%",children:(0,A.jsxs)("span",{children:["Approved"===e.approvalStatus&&(0,A.jsx)("span",{style:{fontSize:"20px"},children:"\u2022"}),"Rejected"===e.approvalStatus&&(0,A.jsx)("span",{style:{fontSize:"20px"},children:"\u2022"}),(0,A.jsx)("span",{style:{marginLeft:"5px"},children:e.approvalStatus})]})}),(0,A.jsx)(l.cC,{className:"productflow-product-Action pad-bottom_flow text-center td-product-text",children:(0,A.jsx)("button",{type:"button",className:"btn border-0 text-c text-secondary cross-button",style:{fontSize:"13px",padding:"4px 8px"},onClick:()=>(async e=>{const t="product/view/"+e;C.get(t,{headers:(0,c.dJ)("json")}).then((e=>{const t=e.data.data;O(t),T(!0)})).catch((e=>{}))})(e.id),children:(0,A.jsx)(b.A,{width:"13",height:"13",viewBox:"0 0 20 16",fill:"#A5A1A1"})})})]},e.id);var a})):(0,A.jsx)("div",{})})]}),null===P&&!I||0===P.length&&!I?(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:"No Data Found"}):ee]})})]})]})};var W=a(75975),ee=a(59748),te=a(61393),ae=a(87021),se=a(12834),le=a(59354),ce=a(60446),re=a.n(ce),de=a(33570);const oe=e=>{let{flowList:t,close:a,techHeadList:o,prodHeadList:i,dataHeadList:n,categories:p,EditProductData:h}=e,m=(0,f.A)();const u=(0,c.pU)(),j=u&&u.id,g=(0,s.useRef)(null),[b,w]=(0,s.useState)(null),[v,C]=(0,s.useState)(""),[S,L]=(0,s.useState)(),[P,H]=(0,s.useState)(),[_,D]=(0,s.useState)(!1),I=(0,s.useRef)(null),[F]=ee.A.useForm(),[T,R]=(0,s.useState)(),O=(0,s.useRef)(null),[E,U]=(0,s.useState)(""),Z=e=>{!e&&O.current&&O.current.blur()},X=i.map((e=>({value:e.id,label:(0,A.jsxs)("div",{className:"select-options1 select-options-form",children:[(0,A.jsx)("img",{src:e.profile_pic?c.ZX+e.profile_pic:W,style:e.profile_pic?{width:"20px"}:{width:"29px"},alt:e.name,className:"img-flag"}),(0,A.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,A.jsxs)("p",{className:"user-name1",title:e.name,children:[" ",e.name]}),(0,A.jsx)("p",{className:"role-text1",title:e.role,children:e.role})]})]})}))),V=o.map((e=>({value:e.id,label:(0,A.jsxs)("div",{className:"select-options1 select-options-form",children:[(0,A.jsx)("img",{src:e.profile_pic?c.ZX+e.profile_pic:W,style:e.profile_pic?{width:"20px"}:{width:"29px"},alt:e.name,className:"img-flag"}),(0,A.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,A.jsx)("p",{className:"user-name1",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"role-text1",title:e.role,children:e.role})]})]})}))),J=n.map((e=>({value:e.id,label:(0,A.jsxs)("div",{className:"select-options1 select-options-form",children:[(0,A.jsx)("img",{src:e.profile_pic?c.ZX+e.profile_pic:W,style:e.profile_pic?{width:"20px"}:{width:"29px"},alt:e.name,className:"img-flag"}),(0,A.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,A.jsx)("p",{className:"user-name1",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"role-text1",title:e.role,children:e.role})]})]})}))),K=t.map((e=>({value:e.id,label:e.name}))),q=p.map((e=>({value:e.id,label:e.name})));(0,s.useEffect)((()=>{F.setFieldsValue({budget:h.budget,summary:h.summary,flowValue:h.flowName,name:h.name,techHeadValue:0!==h.tech_headId?h.tech_headId:"",prodHeadValue:0!==h.prod_headId?h.prod_headId:"",startDateValue:h.startDate&&re()(h.startDate),endDateValue:h.endDate&&re()(h.endDate),filesValue:h.file,currency:"undefined"===h.currency||"null"===h.currency?null:h.currency,category:h.categoryID,rejRemarks:h.approvalremarks}),w(h.file),L(h.startDate),H(h.endDate),R(h.flow)}),[h]);const G=()=>{a(),C(""),w(null),F.resetFields()};return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(l.sK,{children:[(0,A.jsxs)(l.UF,{xs:9,md:9,children:[(0,A.jsxs)("div",{style:{display:"flex"},children:[(0,A.jsx)("div",{style:{display:"flex",alignItems:"center",width:"35px"},children:(0,A.jsx)("span",{className:"back_arrow_rej",onClick:G,style:{cursor:"pointer",marginTop:"17px",marginLeft:"10px"},children:(0,A.jsx)(se.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})}),(0,A.jsx)(l.UF,{children:(0,A.jsxs)(l.sK,{children:[(0,A.jsxs)(l.UF,{xs:12,sm:12,md:6,children:[(0,A.jsx)("div",{style:{marginTop:"20px"},children:(0,A.jsxs)("h6",{className:"product-heading",style:{marginTop:"2%"},children:["Edit ",(0,A.jsx)("span",{style:{color:"#E01B38"},children:h.name})]})}),(0,A.jsx)(r.A,{className:"bread-tab",separator:(0,A.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,A.jsx)(y.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,A.jsx)("span",{className:"bread-items text-secondary second-subheading",style:{cursor:"pointer"},onClick:a,children:"Rejected List"})},{title:(0,A.jsx)("span",{className:"text-secondary second-subheading",style:{cursor:"default"},children:"Edit Rejected Product"})}]})]}),(0,A.jsx)(l.UF,{md:6,children:(0,A.jsx)("div",{children:(0,A.jsxs)("p",{className:"text-c",style:{fontSize:"13px",marginTop:"12px"},children:["This Product has been Rejected by ",h.approvalby," ",h.approvalRole]})})})]})})]}),(0,A.jsx)(l.sK,{className:"product-draft-edit",children:(0,A.jsxs)(ee.A,{className:"mt-4 needs-validation",ref:g,form:F,initialValues:{budget:h.budget,summary:h.summary,flowValue:h.flowName,name:h.name,techHeadValue:0!==h.tech_headId?h.tech_headId:"",prodHeadValue:0!==h.prod_headId?h.prod_headId:"",dataHeadValue:0!==h.data_headId?h.data_headId:"",startDateValue:h.startDate&&re()(h.startDate),endDateValue:null!==h.endDate?re()(h.endDate):"",filesValue:h.file,currency:"undefined"===h.currency||"null"===h.currency?null:h.currency,category:h.categoryID,rejRemarks:h.approvalremarks},layout:"vertical",onFinish:async e=>{if(b){const e=[".png",".jpeg",".jpg",".pdf",".docx"],t=b.name.split(".").pop();if(!e.includes("."+t.toLowerCase()))return void U("Please select a valid file (.png, .jpeg, .jpg, .pdf, .docx).")}const t=new FormData;D(!0),t.append("option",v),Object.keys(e).forEach((a=>{"endDateValue"===a&&(void 0===P||null===P?t.append("endDate",""):t.append("endDate",P)),"prodHeadValue"===a&&(void 0===e[a]?t.append("prodHead",0):t.append("prodHead",e[a])),"techHeadValue"===a&&(void 0===e[a]?t.append("techHead",0):t.append("techHead",e[a])),"dataHeadValue"===a&&(void 0===e[a]?t.append("dataHead",0):t.append("dataHead",e[a])),"startDateValue"===a&&t.append("startDate",S),"flowValue"===a&&t.append("flow",T),"filesValue"===a?t.append("files",b):t.append(a,e[a])}));const a="approval/product/update/"+h.id;await m.put(a,t,{headers:(0,c.dJ)("multi")}).then((e=>{208===e.status?x.oR.error(e.data.message,{position:x.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}):(x.oR.success(e.data.message,{position:x.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),G()),D(!1)})).catch((e=>{const t=e.response;400!==t.status?x.oR.error(t.data.message,{position:x.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}):x.oR.error("Request to failed",{position:x.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),D(!1)}))},encType:"multipart/form-data",requiredMark:!1,validateTrigger:"onSubmit",style:{marginLeft:"39px",width:"100%",paddingRight:"45px"},children:[(0,A.jsx)(l.sK,{children:(0,A.jsx)("h6",{style:{fontWeight:"700",fontSize:"13px"},children:"Product Details"})}),(0,A.jsxs)(l.sK,{style:{marginTop:"10px"},children:[(0,A.jsx)(l.UF,{xs:6,sm:4,md:3,children:(0,A.jsx)(ee.A.Item,{name:"flowValue",label:(0,A.jsxs)("span",{className:"form-label",children:["Flow ",(0,A.jsx)("span",{className:"red-text1",children:"*"})]}),rules:[{required:!0,message:"Please Choose Flow"}],children:(0,A.jsx)(d.A,{ref:O,onDropdownVisibleChange:Z,className:"border-0 time-border-bottom",placeholder:"Choose Flow",suffixIcon:(0,A.jsx)("img",{src:N,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),options:K,showSearch:!0,filterOption:(e,t)=>t.label.toLowerCase().indexOf(e.toLowerCase())>=0,onChange:e=>R(e)})})}),(0,A.jsx)(l.UF,{xs:6,sm:4,md:3,children:(0,A.jsx)(ee.A.Item,{name:"name",label:(0,A.jsxs)("span",{className:"form-label",children:["Product Name ",(0,A.jsx)("span",{className:"red-text1",children:"*"})]}),rules:[{required:!0,message:"Please Enter Product Name"},{pattern:/^(?!.*\s$)(?!^\s)(?!.*\s{2,})(?!.*\(\))(?!^\(\))[a-zA-Z0-9\s.()-]+$/,message:"Invalid input"}],children:(0,A.jsx)(k.A,{variant:"borderless",maxLength:48,className:"border-0 time-border-bottom px-0",placeholder:"Enter Product Name"})})}),(0,A.jsx)(l.UF,{xs:6,sm:4,md:3,children:(0,A.jsx)(ee.A.Item,{name:"prodHeadValue",label:(0,A.jsx)("span",{className:"form-label",children:"Product Head"}),children:(0,A.jsx)(d.A,{ref:O,className:"border-0 time-border-bottom rej_selectbox",placeholder:"Choose Product Head",suffixIcon:(0,A.jsx)("img",{src:N,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),options:X,disabled:X.find((e=>e.value===j)),filterOption:(e,t)=>t.label.props.children[1].props.children[0].props.children[1].toLowerCase().indexOf(e.toLowerCase())>=0,onDropdownVisibleChange:Z,allowClear:!0,showSearch:!0})})}),(0,A.jsx)(l.UF,{xs:6,sm:4,md:3,children:(0,A.jsx)(ee.A.Item,{name:"techHeadValue",label:(0,A.jsx)("span",{className:"form-label",children:"Technical Head"}),children:(0,A.jsx)(d.A,{ref:O,className:"border-0 time-border-bottom rej_selectbox",placeholder:"Choose Technical Head",suffixIcon:(0,A.jsx)("img",{src:N,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),options:V,disabled:V.some((e=>e.value===j)),filterOption:(e,t)=>t.label.props.children[1].props.children[0].props.children[1].toLowerCase().indexOf(e.toLowerCase())>=0,allowClear:!0,showSearch:!0,onDropdownVisibleChange:Z})})}),(0,A.jsx)(l.UF,{xs:6,sm:4,md:3,children:(0,A.jsx)(ee.A.Item,{name:"dataHeadValue",label:(0,A.jsx)("span",{className:"form-label",children:"Data Head"}),children:(0,A.jsx)(d.A,{ref:O,className:"border-0 time-border-bottom rej_selectbox",placeholder:"Choose Data Head",suffixIcon:(0,A.jsx)("img",{src:N,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),options:J,disabled:J.some((e=>e.value===j)),filterOption:(e,t)=>t.label.props.children[1].props.children[0].props.children[1].toLowerCase().indexOf(e.toLowerCase())>=0,allowClear:!0,showSearch:!0,onDropdownVisibleChange:Z})})}),(0,A.jsx)(l.UF,{xs:6,sm:4,md:3,children:(0,A.jsx)(ee.A.Item,{name:"category",label:(0,A.jsxs)("span",{className:"form-label",children:["Business Category ",(0,A.jsx)("span",{className:"red-text1",children:"*"})]}),rules:[{required:!0,message:"Please Choose Category"}],children:(0,A.jsx)(d.A,{ref:O,className:"border-0 time-border-bottom",placeholder:"Choose Category",suffixIcon:(0,A.jsx)("img",{src:N,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),options:q,allowClear:!0,filterOption:(e,t)=>t.label.toLowerCase().indexOf(e.toLowerCase())>=0,showSearch:!0,onDropdownVisibleChange:Z})})}),(0,A.jsx)(l.UF,{xs:6,sm:4,md:3,children:(0,A.jsx)(ee.A.Item,{name:"startDateValue",label:(0,A.jsxs)("span",{className:"form-label",children:["Start Date ",(0,A.jsx)("span",{className:"red-text1",children:"*"})]}),rules:[{required:!0,message:"Please Select Start Date"}],children:(0,A.jsx)(te.A,{variant:"borderless",className:"border-0 time-border-bottom",style:{paddingLeft:"0px",marginTop:"10px"},placeholder:"Choose Date",allowClear:!0,suffixIcon:(0,A.jsx)(le.A,{width:"15",height:"14",viewBox:"0 0 15 14",fill:"white"}),disabledDate:e=>e&&e<re()().startOf("day"),onChange:(e,t)=>{if(e){const t=re()(e,"DD MMM, YYYY").format("YYYY-MM-DD");L(t),F.setFieldsValue({endDateValue:void 0})}},format:"DD MMM,YYYY"})})}),(0,A.jsx)(l.UF,{xs:6,sm:4,md:3,children:(0,A.jsx)(ee.A.Item,{name:"endDateValue",label:(0,A.jsx)("span",{className:"form-label",children:"End Date"}),children:(0,A.jsx)(te.A,{variant:"borderless",className:"border-0 time-border-bottom",style:{paddingLeft:"0px",marginTop:"10px"},placeholder:"Choose Date",allowClear:!0,suffixIcon:(0,A.jsx)(le.A,{width:"15",height:"14",viewBox:"0 0 15 14",fill:"white"}),onChange:(e,t)=>{if(e){const t=re()(e,"DD MMM, YYYY").format("YYYY-MM-DD");H(t)}},disabledDate:e=>S?e&&e<re()(S).startOf("day"):e&&e<re()().startOf("day"),format:"DD MMM,YYYY"})})}),(0,A.jsx)(l.UF,{xs:6,sm:9,md:3,children:(0,A.jsx)(ee.A.Item,{name:"summary",label:(0,A.jsx)("span",{className:"form-label",children:"Product Summary"}),children:(0,A.jsx)(k.A.TextArea,{className:"border-0 time-border-bottom px-0",placeholder:"Enter Summary",id:"summary",variant:"borderless",style:{color:"black",marginTop:"10px"},autoSize:{minRows:0,maxRows:1}})})}),(0,A.jsx)(l.UF,{xs:6,sm:4,md:3,children:(0,A.jsxs)(ee.A.Item,{name:"filesValue",label:(0,A.jsxs)("div",{style:{width:"220px"},children:[(0,A.jsx)("span",{className:"form-label",children:"File"}),(0,A.jsx)("button",{onClick:()=>{window.open(c.ZX+h.file,"_blank")},type:"button",className:"border-0 bg-none",style:{cursor:"pointer",background:"none",float:"inline-end"},disabled:null===h.file,children:(0,A.jsx)("img",{src:de,alt:"Password",width:12})})]}),children:[(0,A.jsxs)("div",{className:"input-group custom-input-group custom_input_group",children:[(0,A.jsx)("input",{type:"text",value:b?b.name:"",readOnly:!0,name:"fieldName",className:"form-control border-0","aria-label":"Upload File","aria-describedby":"basic-addon1",style:{fontSize:"13px",fontWeight:"500",height:"10px"}}),(0,A.jsx)("div",{className:"input-group-append",children:(0,A.jsx)("button",{className:"browse input-group-text text-danger",onClick:()=>{I.current.click()},type:"button",children:"Upload"})})]}),(0,A.jsx)("input",{type:"file",className:"file",ref:I,style:{display:"none"},onChange:e=>{const t=e.target.files[0];w(t)}}),(0,A.jsx)("p",{className:"text-danger",style:{fontSize:"12px"},children:E})]})})]}),(0,A.jsx)(l.sK,{style:{marginTop:"10px"},children:(0,A.jsx)("h6",{style:{fontWeight:"700",fontSize:"13px"},children:"Budget Details"})}),(0,A.jsxs)(l.sK,{style:{marginTop:"10px"},children:[(0,A.jsx)(l.UF,{sm:4,md:3,children:(0,A.jsx)(ee.A.Item,{name:"budget",label:(0,A.jsx)("span",{className:"form-label",children:"Product Budget"}),rules:[{required:!0,message:"Please Enter Budget",validator:async(e,t)=>{if(F.getFieldValue("currency")&&!t)throw new Error("Please enter product budget")}},{pattern:/^[0-9,.]{1,8}$/,message:"Please enter numbers only"}],children:(0,A.jsx)(k.A,{className:"border-0 time-border-bottom px-0",placeholder:"Choose Budget",id:"budget",variant:"borderless",style:{color:"black"}})})}),(0,A.jsx)(l.UF,{sm:4,md:3,children:(0,A.jsx)(ee.A.Item,{name:"currency",label:(0,A.jsx)("span",{className:"form-label",children:"Currency"}),rules:[{required:!0,message:"Please Choose Currency",validator:async(e,t)=>{if(F.getFieldValue("budget")&&!t)throw new Error("Please choose currency")}}],children:(0,A.jsxs)(d.A,{className:"border-0 time-border-bottom",placeholder:"Choose Currency",suffixIcon:(0,A.jsx)("img",{src:N,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),children:[(0,A.jsx)(d.A.Option,{value:"USD",children:"USD"}),(0,A.jsx)(d.A.Option,{value:"INR",children:"INR"})]})})}),(0,A.jsx)(l.UF,{sm:4,md:3,children:(0,A.jsx)(ee.A.Item,{name:"rejRemarks",label:(0,A.jsx)("span",{className:"form-label",children:"Rejected Remarks"}),children:(0,A.jsx)(k.A.TextArea,{className:"border-0 time-border-bottom px-0",id:"Rejected Remarks",disabled:!0,variant:"borderless",style:{color:"black",marginTop:"10px",cursor:"not-allowed"},autoSize:{minRows:0,maxRows:1}})})}),(0,A.jsx)(l.UF,{sm:4,md:3,className:"d-flex justify-content-end align-items-center",style:{padding:"19px"},children:(0,A.jsx)(ae.Ay,{className:" save_changes",style:{fontSize:"13px",color:"white"},htmlType:"submit",onClick:()=>C("CREATED"),loading:_,children:"Update"})})]})]})})]}),(0,A.jsx)(l.UF,{xs:3,md:3,className:"approvalflow-rightside",children:(0,A.jsxs)("div",{style:{marginLeft:"14px"},children:[(0,A.jsx)($.A,{style:{marginTop:"31%"},children:(0,A.jsx)("h6",{style:{fontWeight:"700",fontSize:"13px"},children:"Approval Flow"})}),(0,A.jsx)("div",{style:{maxHeight:"290px",overflowY:"auto"},children:h.approvalFlow&&h.approvalFlow.map(((e,t)=>(0,A.jsxs)(s.Fragment,{children:[(0,A.jsx)(l.sK,{className:"align-items-center mt-2",children:(0,A.jsxs)("div",{className:"",children:[(0,A.jsx)("img",{alt:"stages",style:{width:"12px"},className:"content-img appr_img",src:"Pending"===e.approvalStatus?B:"Approved"===e.approvalStatus?M:"Rejected"===e.approvalStatus?Y:z}),(0,A.jsxs)("span",{style:{marginLeft:"10%",fontSize:"11px",fontWeight:"600"},children:["Flow ",t+1]})]})}),(0,A.jsx)(l.sK,{className:"align-items-center",style:{marginTop:"12px"},children:(0,A.jsx)("div",{className:"col-md-1",children:(0,A.jsx)("div",{className:"vertical-line"})})}),(0,A.jsxs)(l.sK,{className:"align-items-center",children:[(0,A.jsx)("div",{className:"col-md-1"}),(0,A.jsx)("div",{className:"col-md-2 col-sm-2",style:{marginleft:"12px"},children:(0,A.jsx)("img",{alt:"profile",className:"head-td-flow_rej",src:e.profile_pic?c.ZX+e.profile_pic:W})}),(0,A.jsxs)("div",{className:"col-md-6 name_role",style:{marginTop:"6px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.role,children:e.role})]})]})]},t)))})]})})]})})},ie=e=>{let{formatDate:t,FlowList:a,categories:m,techHeadList:v,prodHeadList:C,dataHeadList:S}=e,L=(0,f.A)();const[P,H]=(0,s.useState)(),[_,D]=(0,s.useState)([]),[I,k]=(0,s.useState)([]),[F,T]=(0,s.useState)([]),[R,O]=(0,s.useState)(!1),[U,Z]=(0,s.useState)(!0),[X,V]=(0,s.useState)([]),[J,K]=(0,s.useState)(!1),[q,G]=(0,s.useState)(new AbortController),Q=(0,s.useRef)(!0),W=(0,s.useRef)(0),ee=(0,s.useRef)(!1),te=(0,s.useRef)(0),ae=(0,s.useRef)(null),[se,le]=(0,s.useState)(!0);(0,s.useEffect)((()=>{if(!R&&!J){W.current=0,Q.current=!0,re(),ne();const e=document.querySelector(".table-container");return e.addEventListener("scroll",ce),()=>{e.removeEventListener("scroll",ce)}}}),[R,J]);const ce=()=>{const e=document.querySelector(".table-container");e.scrollTop+e.clientHeight===e.scrollHeight&&!0===Q.current&&re()},re=async()=>{var e;let t;0===W.current&&(Z(!0),D([]),q&&q.abort(),t=new AbortController,G(t));const a="product/list?page=".concat(W.current,"&size=10&search=").concat(ee.current,"&status=Rejected&value=").concat(te.current);L.get(a,{headers:(0,c.dJ)("json"),signal:null===(e=t)||void 0===e?void 0:e.signal}).then((e=>{const t=e.data.data;0===W.current?D(t):D((e=>[...e,...t])),t.length<10&&(Q.current=!1),W.current=W.current+1,Z(!1)})).catch((e=>{}))},de=async e=>{const t="product/view/"+e;L.get(t,{headers:(0,c.dJ)("json")}).then((e=>{const t=e.data.data;T(t),O(!0)})).catch((e=>{}))},ie=async e=>{const t="approval/product/reject/"+e;L.get(t,{headers:(0,c.dJ)("json")}).then((e=>{const t=e.data.data;V(t)})).catch((e=>{}))},ne=async()=>{L.get("product/head/search?status=Rejected",{headers:(0,c.dJ)("json")}).then((e=>{const t=e.data.data;k(t),le(!1)})).catch((e=>{}))};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(x.N9,{}),J?(0,A.jsx)(oe,{flowList:a,close:()=>{K(!1)},techHeadList:v,prodHeadList:C,dataHeadList:S,categories:m,EditProductData:X}):R?(0,A.jsx)(g.A,{flowList:a,close:()=>{O(!1)},techHeadList:v,prodHeadList:C,dataHeadList:S,categories:m,ViewProductData:F,viewStatus:"View",titleList:"Rejected List",ownerOption:[]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(l.sK,{className:"mt-3",children:[(0,A.jsxs)(l.UF,{xs:9,sm:9,md:10,children:[(0,A.jsx)("b",{style:{marginLeft:"30px"},children:"Rejected List"}),(0,A.jsx)("br",{}),(0,A.jsx)(r.A,{style:{marginLeft:"30px"},className:"bread-tab",separator:(0,A.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,A.jsx)(y.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,A.jsx)("span",{className:"text-secondary ",style:{cursor:"default"},children:"Rejected List"})}]})]}),(0,A.jsx)(l.UF,{xs:3,sm:3,md:2,children:(0,A.jsx)(d.A,{style:{width:"90%"},ref:ae,className:"contract_members_activity_select custom-select_rej rej-sel",suffixIcon:(0,A.jsx)("img",{src:N,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),id:"products",value:P,onChange:e=>(e=>{void 0===e?(H(),ee.current=!1,te.current=0):(H(e),ee.current=!0,te.current=e),ae.current.blur(),W.current=0,Q.current=!0,re()})(e),showSearch:!0,allowClear:!0,filterOption:(e,t)=>t.label.toLowerCase().indexOf(e.toLowerCase())>=0,dropdownRender:e=>(0,A.jsx)("div",{style:{overflow:"auto"},role:"listbox",children:e}),options:se?[{label:(0,A.jsx)("div",{style:{textAlign:"center"},children:Array.from({length:5},((e,t)=>(0,A.jsx)(o.A,{title:!1,paragraph:{rows:1,width:"100%",height:"10px",style:{height:"10px !important"}}},t)))}),value:"loading",disabled:!0}]:I.map((e=>({value:e.id,label:e.name}))),placeholder:"Choose Product",getPopupContainer:e=>e.parentNode})})]}),(0,A.jsx)("div",{className:"table-container table_scroll",style:{border:"none"},children:(0,A.jsxs)(w.A,{dataLength:_.length,next:ce,hasMore:Q.current,loader:(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,A.jsx)(l.JT,{color:"danger"})}),endMessage:0!==_.length&&(0,A.jsx)("p",{style:{textAlign:"center"},children:(0,A.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),children:[(0,A.jsxs)(l._v,{hover:!0,children:[(0,A.jsx)(l.wV,{className:"head-row draft-head-row-ts",children:(0,A.jsxs)(l.YI,{children:[(0,A.jsx)(l.$s,{className:"table-head-productlist text-c text-center",scope:"col",width:"4%",children:"SI.No"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Product Name"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"8%",children:"Flow"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Product Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Technical Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Data Head"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Start Date"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"End Date"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",width:"10%",scope:"col",children:"Approval Flow"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Budget Details"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c",scope:"col",width:"10%",children:"Approver Status"}),(0,A.jsx)(l.$s,{className:"table-head-productlist text-c text-center",scope:"col",width:"15%",children:"Action"})]})}),(0,A.jsx)(l.jS,{children:_?_.map(((e,a)=>(0,A.jsxs)(l.YI,{children:[(0,A.jsx)(l.cC,{className:"productflow-col-box text-c pad-bottom_flow td-product-text",children:a+1}),(0,A.jsx)(l.cC,{className:"productflow-product-name pad-bottom_flow td-product-text",onClick:()=>de(e.id),children:(0,A.jsx)(i.A,{placement:"bottomLeft",title:e.productName,className:"productflow-name-lable",children:e.productName})}),(0,A.jsx)(l.cC,{className:" productflow-product-flow pad-bottom_flow td-product-text",onClick:()=>de(e.id),children:(0,A.jsx)(i.A,{placement:"bottomLeft",title:e.flowName?e.flowName:"",className:"flow-name-lable",children:e.flowName?e.flowName:""})}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",onClick:()=>de(e.id),children:0!==e.prodHead.length?e.prodHead.map((e=>(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",onClick:()=>de(e.id),children:0!==e.techHead.length?e.techHead.map((e=>(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-head pad-bottom_flow",onClick:()=>de(e.id),children:0!==e.dataHead.length?e.dataHead.map((e=>(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,alt:"Profile",className:"head-td"}),(0,A.jsxs)("div",{className:"node1",style:{marginTop:"7px"},children:[(0,A.jsx)("p",{className:"head-td-name",title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]},e.id))):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-Startdate pad-bottom_flow td-product-text",onClick:()=>de(e.id),children:t(e.startDate)}),(0,A.jsx)(l.cC,{className:"productflow-product-Enddate pad-bottom_flow td-product-text",onClick:()=>de(e.id),children:null!==e.endDate?t(e.endDate):"--"}),(0,A.jsx)(l.cC,{className:"text-c flowlist-accesperson pad-bottom_flow",children:(0,A.jsxs)("div",{className:"table-cell-container",children:[(0,A.jsxs)("div",{className:"image-background-accessperson",children:[e.approvalFlow.slice(0,3).map(((e,t)=>(0,A.jsx)("div",{className:"accessPerImg",children:(0,A.jsx)("div",{className:"tooltip-container",children:(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,className:e.profilePic?"first-image":"second-image",alt:"Access Person Images"})})},t))),(0,A.jsx)("div",{children:e.approvalFlow.length>3&&(0,A.jsx)("div",{className:"accessPerImg text-center more-person-access rounded-circle",children:(0,A.jsxs)("span",{children:["+",e.approvalFlow.length-3]})})})]}),(0,A.jsx)("div",{className:"card-list-person",children:(0,A.jsx)(n.A,{style:{width:"250px",height:"120px",overflowY:"auto"},className:"Access-card",children:e.approvalFlow.map((e=>(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:" access-person-tooltip  ",children:[(0,A.jsx)("div",{className:"image-background",children:(0,A.jsx)("img",{src:e.profilePic?c.ZX+e.profilePic:h,className:e.profilePic?"card-access-image":"card-approval-image",alt:e.name})}),(0,A.jsxs)("div",{className:"node1 access-person-hovercard",style:e.profilePic?{marginLeft:"11px"}:{},children:[(0,A.jsxs)("p",{className:"member-user-name1",children:[" ",e.name]}),(0,A.jsx)("p",{className:"member-role-text1",children:e.designation})]})]}),(0,A.jsx)(p.A,{})]},e)))})})]})}),(0,A.jsx)(l.cC,{className:"productflow-product-budget pad-bottom_flow td-product-text",onClick:()=>de(e.id),children:"undefined"!==e.budgetDetails&&""!==e.budgetDetails&&null!==e.budgetDetails?(0,u.Kn)(e.budgetDetails,e.currency):"---"}),(0,A.jsx)(l.cC,{className:"productflow-product-technical pad-bottom_flow",children:(0,A.jsxs)("div",{className:"approver-status-td",children:[(0,A.jsx)("button",{className:"rejected-status",style:{cursor:"pointer"},children:(0,A.jsx)("span",{children:e.approvalStatus})}),(0,A.jsxs)("div",{className:"tooltip-trigger",children:[(0,A.jsx)("img",{src:E,style:{width:"17px",height:"17px",cursor:"pointer"},alt:"info"}),(0,A.jsx)("div",{className:"tooltip-container-approvals",children:(0,A.jsx)("div",{style:{width:"200px",minHeight:"85px",borderRadius:"7px"},className:"flow-card",children:e.approvalFlow.slice(0,3).map(((e,t)=>(0,A.jsx)("div",{children:(0,A.jsxs)($.A,{className:"align-items-center",style:{margin:"16px"},children:[(0,A.jsx)("div",{className:"col-md-1",children:(0,A.jsx)("img",{alt:"stages",style:{width:"12px"},className:"content-img appr_img",src:"Pending"===e.approvalStatus?B:"Approved"===e.approvalStatus?M:"Rejected"===e.approvalStatus?Y:z})}),(0,A.jsx)("div",{className:"col-md-1",children:(0,A.jsx)("div",{className:"vertical-line-appr"})}),(0,A.jsx)("div",{className:"col-md-2",children:(0,A.jsx)("img",{alt:"profile",className:"appr-img-td",src:e.profilePic?c.ZX+e.profilePic:h})}),(0,A.jsxs)("div",{className:"col-md-8 name_role",style:{paddingLeft:"10px"},children:[(0,A.jsx)("p",{className:"head-td-name",style:{marginTop:"21px"},title:e.name,children:e.name}),(0,A.jsx)("p",{className:"head-td-role",title:e.designation,children:e.designation})]})]})},t)))})})]})]})}),(0,A.jsx)(l.cC,{className:"productflow-product-technical text-center pad-bottom_flow",children:(0,A.jsxs)("div",{className:"action_table_product",children:[(0,A.jsx)("button",{type:"button",className:"btn border-0 text-c text-secondary cross-button view_icon_rej",style:{fontSize:"12px",padding:"4px 8px"},onClick:()=>de(e.id),children:(0,A.jsx)(b.A,{width:"13",height:"13",viewBox:"0 0 20 16",fill:"#A5A1A1"})}),(0,A.jsx)("button",{type:"button",className:"action-view  edit-button edit_svg_product",style:{marginTop:"10px"},onClick:()=>{return t=e.id,ie(t),void K(!0);var t},children:(0,A.jsx)(j.A,{width:"15",height:"15",viewBox:"0 0 18 18",fill:"none",color:"white",clipH:"18",clipW:"18"})})]})})]},a))):(0,A.jsx)("div",{})})]}),null===_&&!U||0===_.length&&!U?(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:"No Data Found"}):U?(0,A.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,A.jsx)(l.JT,{color:"danger"})}):(0,A.jsx)("div",{})]})})]})]})};var ne=a(73216);const pe=()=>{let e=(0,f.A)();const t=(0,c.pU)(),[a,r]=(0,s.useState)(),[d,o]=(0,s.useState)([]),[i,n]=(0,s.useState)([]),[p,h]=(0,s.useState)([]),[m,x]=(0,s.useState)([]),[u,j]=(0,s.useState)([]),[g,b]=(0,s.useState)([]),[w,N]=(0,s.useState)([]),[v,y]=(0,s.useState)([]),S=null===t||void 0===t?void 0:t.designation,L=(0,ne.zy)();(0,s.useEffect)((()=>{T(),P(),_(),H(),R(),D(),k(),F(),S.includes("Head")?r(3):S.includes("Approver")?r(4):S.includes("Owner")&&r(6)}),[]);const P=async()=>{e.get("common/prod_owner",{headers:(0,c.dJ)("json")}).then((e=>{n(e.data.data)})).catch((e=>{}))},H=async()=>{e.get("common/data_owner",{headers:(0,c.dJ)("json")}).then((e=>{x(e.data.data)})).catch((e=>{}))},_=async()=>{e.get("common/tech_owner",{headers:(0,c.dJ)("json")}).then((e=>{h(e.data.data)})).catch((e=>{}))},D=async()=>{e.get("common/tech_head",{headers:(0,c.dJ)("json")}).then((e=>{N(e.data.data)})).catch((e=>{}))},k=async()=>{e.get("common/data_head",{headers:(0,c.dJ)("json")}).then((e=>{y(e.data.data)})).catch((e=>{}))},F=async()=>{e.get("common/prod_head",{headers:(0,c.dJ)("json")}).then((e=>{b(e.data.data)})).catch((e=>{}))},T=async()=>{e.get("flow/list/producthead",{headers:(0,c.dJ)("json")}).then((e=>{o(e.data.data)})).catch((e=>{}))},R=async()=>{e.get("product/categories",{headers:(0,c.dJ)("json")}).then((e=>{j(e.data.data)})).catch((e=>{}))},$=e=>{let t=new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});return t.includes(",")||(t=t.replace(/(\w{3}) (\d{4})/,"$1, $2")),t};return(0,s.useEffect)((()=>{const e=new URLSearchParams(L.search).get("tab");e&&r(parseInt(e,10))}),[L]),(0,A.jsx)(l.sK,{className:"my-2 ",children:(0,A.jsx)(l.UF,{xs:12,children:(0,A.jsx)(l.E$,{xs:12,className:"mt-4 timesheet-content-product ",style:{height:"100%"},children:(0,A.jsxs)("div",{children:[(0,A.jsxs)(l.by,{variant:"pills",role:"tablist",className:"nav_bar_product flow-navbar",children:[(null===S||void 0===S?void 0:S.includes("Head"))&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(l.g9,{role:"presentation1",children:(0,A.jsx)(l.HQ,{active:3===a,component:"button",role:"tab","aria-controls":"contact-tab-pane","aria-selected":3===a,onClick:()=>r(3),children:"Flow List"})}),(0,A.jsx)(l.g9,{role:"presentation2",children:(0,A.jsx)(l.HQ,{className:"nav-link-lable",active:7===a,component:"button",role:"tab","aria-controls":"home-tab-pane","aria-selected":7===a,onClick:()=>r(7),children:"Product List"})}),(0,A.jsx)(l.g9,{role:"presentation3",children:(0,A.jsx)(l.HQ,{active:2===a,component:"button",role:"tab","aria-controls":"profile-tab-pane","aria-selected":2===a,onClick:()=>r(2),children:"Draft List"})}),(0,A.jsx)(l.g9,{role:"presentation4",children:(0,A.jsx)(l.HQ,{className:"nav-link-lable",active:1===a,component:"button",role:"tab","aria-controls":"home-tab-pane","aria-selected":1===a,onClick:()=>r(1),children:"Approved List"})}),(0,A.jsx)(l.g9,{role:"presentation5",children:(0,A.jsx)(l.HQ,{className:"nav-link-lable",active:8===a,component:"button",role:"tab","aria-controls":"home-tab-pane","aria-selected":8===a,onClick:()=>r(8),children:"Rejected List"})})]}),(null===S||void 0===S?void 0:S.includes("Approver"))&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(l.g9,{role:"presentation6",children:(0,A.jsx)(l.HQ,{active:4===a,component:"button",role:"tab","aria-controls":"contact-tab-pane","aria-selected":4===a,onClick:()=>r(4),children:"Pending List"})}),(0,A.jsx)(l.g9,{role:"presentation7",children:(0,A.jsx)(l.HQ,{active:5===a,component:"button",role:"tab","aria-controls":"contact-tab-pane","aria-selected":5===a,onClick:()=>r(5),children:"Closed List"})})]}),(null===S||void 0===S?void 0:S.includes("Owner"))&&(0,A.jsx)(l.g9,{role:"presentation8",children:(0,A.jsx)(l.HQ,{active:6===a,component:"button",role:"tab","aria-controls":"contact-tab-pane","aria-selected":6===a,onClick:()=>r(6),children:"Product List"})})]}),(0,A.jsxs)(l.eL,{children:[(0,A.jsx)(l.x1,{role:"tabpanel","aria-labelledby":"home-tab-pane",visible:1===a,className:"pendingactivity-card tab_height",children:(0,A.jsx)(l.sK,{children:1===a&&(0,A.jsx)(C,{formatDate:$,FlowList:d,prodOwnerList:i,techOwnerList:p,dataOwnerList:m,categories:u,techHeadList:w,prodHeadList:g,dataHeadList:v})})}),(0,A.jsx)(l.x1,{role:"tabpanel","aria-labelledby":"profile-tab-pane",visible:2===a,className:"pendingactivity-card tab_height",children:(0,A.jsx)(l.sK,{children:2===a&&(0,A.jsx)(I,{formatDate:$,FlowList:d,categories:u,techHeadList:w,prodHeadList:g,dataHeadList:v})})}),(0,A.jsx)(l.x1,{role:"tabpanel","aria-labelledby":"contact-tab-pane",visible:3===a,className:"pendingactivity-card tab_height",children:(0,A.jsx)(l.sK,{children:3===a&&(0,A.jsx)(O,{categories:u,techHeadList:w,prodHeadList:g,dataHeadList:v})})}),(0,A.jsx)(l.x1,{role:"tabpanel","aria-labelledby":"contact-tab-pane",visible:4===a,className:"pendingactivity-card tab_height",children:(0,A.jsx)(l.sK,{children:4===a&&(0,A.jsx)(G,{FlowList:d,categories:u,techHeadList:w,prodHeadList:g,dataHeadList:v})})}),(0,A.jsx)(l.x1,{role:"tabpanel","aria-labelledby":"contact-tab-pane",visible:5===a,className:"pendingactivity-card tab_height",children:(0,A.jsx)(l.sK,{children:5===a&&(0,A.jsx)(Q,{FlowList:d,categories:u,techHeadList:w,prodHeadList:g,dataHeadList:v})})}),(0,A.jsx)(l.x1,{role:"tabpanel","aria-labelledby":"contact-tab-pane",visible:6===a,className:"pendingactivity-card tab_height",children:(0,A.jsx)(l.sK,{children:6===a&&(0,A.jsx)(X,{FlowList:d,categories:u,techHeadList:w,prodHeadList:g,dataHeadList:v})})}),(0,A.jsx)(l.x1,{role:"tabpanel","aria-labelledby":"home-tab-pane",visible:7===a,className:"pendingactivity-card tab_height",children:(0,A.jsx)(l.sK,{children:7===a&&(0,A.jsx)(U,{formatDate:$,FlowList:d,categories:u,techHeadList:w,prodHeadList:g,dataHeadList:v})})}),(0,A.jsx)(l.x1,{role:"tabpanel","aria-labelledby":"home-tab-pane",visible:8===a,className:"pendingactivity-card tab_height",children:(0,A.jsx)(l.sK,{children:8===a&&(0,A.jsx)(ie,{formatDate:$,FlowList:d,categories:u,techHeadList:w,prodHeadList:g,dataHeadList:v})})})]})]})})})})}},70530:(e,t,a)=>{a.d(t,{A:()=>l});a(65043);var s=a(70579);const l=e=>{let{width:t,height:a,fill:l,viewBox:c}=e;return(0,s.jsx)("svg",{width:t,height:a,viewBox:c,fill:l,xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M4.87459 9.58157C5.2816 9.58171 5.67193 9.41992 5.95949 9.13188L12.9552 2.13716L12.9553 2.13712C13.3482 1.74402 13.3482 1.10682 12.9553 0.713727L12.9552 0.713671C12.5621 0.320704 11.9249 0.320704 11.5318 0.713671L11.5318 0.713699L4.87459 7.37091L2.4682 4.96451L2.46817 4.96448C2.07508 4.57151 1.43788 4.57151 1.04478 4.96448L1.04473 4.96454C0.651758 5.35763 0.651758 5.99483 1.04473 6.38793L1.04479 6.38799L3.7897 9.13188C3.78971 9.1319 3.78972 9.13191 3.78973 9.13192C4.07729 9.41994 4.46761 9.58171 4.87459 9.58157ZM4.87459 9.58157C4.87456 9.58157 4.87453 9.58157 4.87449 9.58157L4.87459 9.33157L4.8747 9.58157C4.87466 9.58157 4.87463 9.58157 4.87459 9.58157Z",fill:l,stroke:"#A5A1A1",strokeWidth:"0.5"})})}},11645:(e,t,a)=>{a.d(t,{A:()=>s});const s=a(30227).A},8354:(e,t,a)=>{a.d(t,{A:()=>x});var s=a(65043),l=a(98139),c=a.n(l),r=a(35296),d=a(36647),o=a(94414),i=a(7060),n=a(78365);const p=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:a,colorSplit:s,lineWidth:l,textPaddingInline:c,orientationMargin:r,verticalMarginInline:i}=e;return{[t]:Object.assign(Object.assign({},(0,o.dF)(e)),{borderBlockStart:"".concat((0,d.zA)(l)," solid ").concat(s),"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:i,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:"".concat((0,d.zA)(l)," solid ").concat(s)},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:"".concat((0,d.zA)(e.dividerHorizontalGutterMargin)," 0")},["&-horizontal".concat(t,"-with-text")]:{display:"flex",alignItems:"center",margin:"".concat((0,d.zA)(e.dividerHorizontalWithTextGutterMargin)," 0"),color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:"0 ".concat(s),"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:"".concat((0,d.zA)(l)," solid transparent"),borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},["&-horizontal".concat(t,"-with-text-left")]:{"&::before":{width:"calc(".concat(r," * 100%)")},"&::after":{width:"calc(100% - ".concat(r," * 100%)")}},["&-horizontal".concat(t,"-with-text-right")]:{"&::before":{width:"calc(100% - ".concat(r," * 100%)")},"&::after":{width:"calc(".concat(r," * 100%)")}},["".concat(t,"-inner-text")]:{display:"inline-block",paddingBlock:0,paddingInline:c},"&-dashed":{background:"none",borderColor:s,borderStyle:"dashed",borderWidth:"".concat((0,d.zA)(l)," 0 0")},["&-horizontal".concat(t,"-with-text").concat(t,"-dashed")]:{"&::before, &::after":{borderStyle:"dashed none none"}},["&-vertical".concat(t,"-dashed")]:{borderInlineStartWidth:l,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},["&-plain".concat(t,"-with-text")]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},["&-horizontal".concat(t,"-with-text-left").concat(t,"-no-default-orientation-margin-left")]:{"&::before":{width:0},"&::after":{width:"100%"},["".concat(t,"-inner-text")]:{paddingInlineStart:a}},["&-horizontal".concat(t,"-with-text-right").concat(t,"-no-default-orientation-margin-right")]:{"&::before":{width:"100%"},"&::after":{width:0},["".concat(t,"-inner-text")]:{paddingInlineEnd:a}}})}},h=(0,i.OF)("Divider",(e=>{const t=(0,n.h1)(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[p(t)]}),(e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS})),{unitless:{orientationMargin:!0}});var m=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(s=Object.getOwnPropertySymbols(e);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(e,s[l])&&(a[s[l]]=e[s[l]])}return a};const x=e=>{const{getPrefixCls:t,direction:a,divider:l}=s.useContext(r.QO),{prefixCls:d,type:o="horizontal",orientation:i="center",orientationMargin:n,className:p,rootClassName:x,children:u,dashed:j,plain:g,style:f}=e,b=m(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),w=t("divider",d),[N,v,y]=h(w),A=i.length>0?"-".concat(i):i,C=!!u,S="left"===i&&null!=n,L="right"===i&&null!=n,P=c()(w,null===l||void 0===l?void 0:l.className,v,y,"".concat(w,"-").concat(o),{["".concat(w,"-with-text")]:C,["".concat(w,"-with-text").concat(A)]:C,["".concat(w,"-dashed")]:!!j,["".concat(w,"-plain")]:!!g,["".concat(w,"-rtl")]:"rtl"===a,["".concat(w,"-no-default-orientation-margin-left")]:S,["".concat(w,"-no-default-orientation-margin-right")]:L},p,x),H=s.useMemo((()=>"number"===typeof n?n:/^\d+$/.test(n)?Number(n):n),[n]),_=Object.assign(Object.assign({},S&&{marginLeft:H}),L&&{marginRight:H});return N(s.createElement("div",Object.assign({className:P,style:Object.assign(Object.assign({},null===l||void 0===l?void 0:l.style),f)},b,{role:"separator"}),u&&"vertical"!==o&&s.createElement("span",{className:"".concat(w,"-inner-text"),style:_},u)))}},47419:(e,t,a)=>{a.d(t,{A:()=>s});const s=a(28821).A},36888:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAKCAYAAABIQFUsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACnSURBVHgBvZPRCcMgEIZP0feO4AI+uEFH6AjZoN2gZoRM0FGSDUT0vR0hA4j2LA2UkuTJywcq/gd+eCgAAc45tVfnQADnvAshjFtyEumXsxDiGWN8/MsppR9KKZ2UcvTe35aMYRuuuF6gIYwxhTK1kr9yzj3HiUFj8MzNvIqbCyvYSouP6f4TzTgGrbWtGwH0DCkla4yZl4BSOuHo8XYTHAF+kdNe/Q1KQDvhdCQIQQAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=874.775d0135.chunk.js.map