"use strict";(self.webpackChunkproduct_management=self.webpackChunkproduct_management||[]).push([[561],{49894:(t,e,a)=>{a.d(e,{Gq:()=>s,Yq:()=>o,zA:()=>n});const n=t=>{if(""!==t&&null!==t){const[e,a]=t.split(":").map(Number);let n="",o="",s="",r="";e>0?(n=e.toString().padStart(2,"0"),s=1===e?"hr":"hrs"):n="00",a>0?(o=a.toString().padStart(2,"0"),r="min"+(1===a?"":"s")):o="00";const i="".concat(n,":").concat(o," ").concat("00"===o?s:r).trim();return"00:00"===i?"-":i}return"-"},o=t=>{let e=new Date(t).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});return e.includes(",")||(e=e.replace(/(\w{3}) (\d{4})/,"$1, $2")),e};function s(){const t=new Date,e=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return"".concat(e,"-").concat(a,"-").concat(n)}},81411:(t,e,a)=>{a.d(e,{A:()=>n});const n=new(a(28379).b)},15262:(t,e,a)=>{a.d(e,{EH:()=>p,KQ:()=>y,MW:()=>d,Sg:()=>h,Vt:()=>g,fA:()=>l,iL:()=>m,rL:()=>A,rv:()=>C,yD:()=>Y,yo:()=>u});var n=a(35402),o=a(63406),s=a(60446),r=a.n(s),i=a(18499);const c=(0,n.A)(),d=()=>t=>{c.get("product/approvedlist",{headers:(0,o.dJ)("json")}).then((e=>{t({type:i.je,payload:e.data.data})})).catch((t=>{}))},l=()=>t=>{c.get("master/taskcategory/get/taskcategory",{headers:(0,o.dJ)("json")}).then((e=>{const a=e.data.data;if(0!==a.length){const e=a.categories;t({type:i.Pr,payload:e})}else t({type:i.Pr,payload:[]})})).catch((t=>{}))},h=t=>e=>{const a=r()(t).format("YYYY"),n=r()(t).format("MM"),s="activity/timeSheet/status?month=".concat(n,"&year=").concat(a);c.get(s,{headers:(0,o.dJ)("json")}).then((t=>{const a=t.data.data;a&&e({type:i.S3,payload:a})})).catch((t=>{}))},u=t=>e=>{const a="approval/product/approvaldate/"+r()(t,"DD MMM, YYYY").format("YYYY-MM-DD");c.get(a,{headers:(0,o.dJ)("json")}).then((t=>{const a=t.data;a&&e({type:i.vW,payload:a})})).catch((t=>{}))},p=t=>()=>c.post("common/timesheet/activity",t,{headers:(0,o.dJ)("multi")}),m=t=>async e=>{try{const a="activity/attendance/delete?id=".concat(t),n=await c.put(a,{headers:(0,o.dJ)("json")});if(n&&n.data)return e({type:i.vY,payload:n.data}),n.data;throw new Error("Empty response received from the server")}catch(a){throw e({type:i.oO,error:a.message}),a}},A=(t,e,a,n)=>s=>{let r="number"===typeof e?e:10,d="/common/timesheet/activity/submit-list?page=".concat(encodeURIComponent("number"===typeof t?t:0),"&size=").concat(encodeURIComponent(r));n&&"string"===typeof n&&""!==n.trim()?d+="&date=".concat(encodeURIComponent(n),"&filter=").concat(encodeURIComponent(a)):d+="&filter=".concat(encodeURIComponent(a)),c.get(d,{headers:(0,o.dJ)("json")}).then((t=>{s({type:i.q5,payload:t.data.data})})).catch((t=>{}))},C=(t,e)=>()=>{const a=r()(t).format("YYYY-MM-DD"),n="activity/attendanceSheet/".concat(a,"/status/").concat(e);return c.post(n,{},{headers:(0,o.dJ)("json")})},g=t=>()=>{const e="common/timesheet/activity/edit/"+t;return c.get(e,{headers:(0,o.dJ)("json")})},y=(t,e,a,n,s)=>r=>{let d="number"===typeof e?e:10,l="/activity/raisedRequest/byuser?page=".concat("number"===typeof t?t:0,"&size=").concat(d,"&filter=").concat(encodeURIComponent(a));n&&""!==n.trim()&&null!=n&&(l+="&date=".concat(encodeURIComponent(n))),""!==s&&null!=s&&(l+="&status=".concat(encodeURIComponent(s))),c.get(l,{headers:(0,o.dJ)("json")}).then((t=>{r({type:i.ws,payload:t.data.data})})).catch((t=>{}))},Y=(t,e,a)=>n=>{let s="number"===typeof e?e:10,r="/activity/attendanceSheet/byuser?page=".concat("number"===typeof t?t:0,"&size=").concat(s);a&&"string"===typeof a&&""!==a.trim()&&(r+="&date=".concat(encodeURIComponent(a))),c.get(r,{headers:(0,o.dJ)("json")}).then((t=>{n({type:i.uk,payload:t.data.data})})).catch((t=>{}))}},48173:(t,e,a)=>{a.d(e,{A:()=>Y});var n=a(65043),o=a(63406),s=(a(92342),a(42145)),r=a(48903),i=a(38510),c=a(85727),d=a(59748),l=a(47419),h=a(11645),u=a(61393),p=a(87021),m=a(60446),A=a.n(m),C=a(35402),g=a(70579);const{TextArea:y}=r.A,Y=t=>{let{isOpen:e,closeModal:a,dateWise:r}=t,m=(0,C.A)();const Y=(0,o.pU)(),f=null===Y||void 0===Y?void 0:Y.jod,[v,x]=(0,n.useState)(""),[M,w]=(0,n.useState)({dates:"",reason:""}),[j,R]=(0,n.useState)(A()(r)),[b,S]=(0,n.useState)(!1),B=(0,n.useRef)([]),[D,I]=(0,n.useState)(!0),H=(0,n.useRef)(null),T=(0,n.useRef)(null),O=()=>{x(""),a()};(0,n.useEffect)((()=>{const t=A()(r).format("YYYY-MM");H.current=A()(r).format("M"),T.current=A()(r).format("YYYY"),U(t)}),[]);const U=async t=>{const e=A()(t).format("YYYY"),a=A()(t).format("MM"),n="activity/timeSheet/status?month=".concat(a,"&year=").concat(e);try{const t=(await m.get(n,{headers:(0,o.dJ)("json")})).data.data;t&&(B.current=t),I(!1)}catch(r){const t=r.response;I(!1),422===t.status&&s.oR.error(t.data.message,{position:s.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}};return(0,g.jsxs)(c.A,{open:e,onCancel:O,footer:null,top:!0,className:"right ".concat(e?"modal-visible":"modal-hidden"),children:[(0,g.jsx)("h4",{children:"Raise Request"}),(0,g.jsxs)(d.A,{onFinish:async()=>{if((()=>{const t={dates:"",reason:""};return v.trim()||(t.reason="Please Enter Reason to Raise"),j||(t.dates="Please Select Date"),w(t),!(""!==t.reason||""!==t.dates)})()){let e;S(!0);const a=j;e=a!==(t=>A()(t,"DD MMM, YYYY").format("YYYY-MM-DD"))(r)?A()(a).format("YYYY-MM-DD"):a;const n="activity/request",i={reason:v,requestDate:e};try{const t=await m.post(n,i,{headers:(0,o.dJ)("json")});S(!1),s.oR.success(t.data.message,{position:s.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),O()}catch(t){const e=t.response;S(!1),422===e.status?s.oR.error(e.data.message,{position:s.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}):s.oR.error(t.message,{position:s.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}}},validateTrigger:"onSubmit",requiredMark:!0,style:{marginTop:"20px"},children:[(0,g.jsxs)(l.A,{gutter:16,children:[(0,g.jsxs)(h.A,{span:12,sm:7,children:[(0,g.jsx)(u.A,{variant:"borderless",style:{height:"31px",fontSize:"12px",paddingLeft:"8px",border:"none",borderBottom:"1px solid #f1f1f1",borderRadius:"0",width:"100%"},onPanelChange:async(t,e)=>{if("date"===e){I(!0);const e=A()(t).format("YYYY-MM");H.current=A()(t).format("M"),T.current=A()(r).format("YYYY"),await U(e)}},active:!0,onChange:(t,e)=>{R(e)},className:"multi-dates",allowClear:!1,disabledDate:t=>{const e=B.current;if(!e)return!1;const a=e.RaisedRequestList||[],n=e.AttendanceList||[],o=e.SubmittedList||[],s=e.Permission||[],r=a.includes(A()(t).format("YYYY-MM-DD")),i=n.includes(A()(t).format("YYYY-MM-DD")),c=o.includes(A()(t).format("YYYY-MM-DD")),d=s.includes(A()(t).format("YYYY-MM-DD")),l=A()(),h=t&&(t.isSame(l,"day")||t.isAfter(l,"day")),u=null===t||void 0===t?void 0:t.isBefore(f,"day");return d||r||i||c||h||u},cellRender:t=>{var e;const a=parseInt(H.current),n=parseInt(T.current);if(D)return(0,g.jsx)("div",{style:{textAlign:"center"},children:Array.from({length:1},((t,e)=>(0,g.jsx)(i.A,{title:!1,paragraph:{rows:1,width:"100%",height:"10px",style:{height:"10px !important"}}},e)))});const o=B.current;if(!o)return null;const s=o.RaisedRequestList||[],r=o.AttendanceList||[],c=o.SubmittedList||[],d=o.Permission||[],l=s.includes(t.format("YYYY-MM-DD")),h=r.includes(t.format("YYYY-MM-DD")),u=c.includes(t.format("YYYY-MM-DD")),p=d.includes(t.format("YYYY-MM-DD")),m=t.isSame(j,"day"),C=A()(),y=null!==(e=null===t||void 0===t?void 0:t.isSame(C,"day"))&&void 0!==e?e:null===t||void 0===t?void 0:t.isBefore(f,"day"),Y=null===t||void 0===t?void 0:t.isBefore(f,"day"),v=l||h||u||y||Y;let x,M;x=v||p||y?"gray":m?"white":"#ffaa00",M=v?"normal":m?"bold":"normal";const w=x,R=M,b=m?"#e40e2d":"transparent",S=m?"50%":"0%",I=m?"24px":"auto",O=m?"24px":"auto",U=m?"inline-block":"initial",J=m?"24px":"initial";return t.month()+1===a&&t.year()===n?(0,g.jsx)("div",{style:{color:w,fontWeight:R,backgroundColor:b,borderRadius:S,minWidth:I,height:O,display:U,lineHeight:J},children:t.date()}):(0,g.jsx)("div",{children:t.date()})},defaultValue:j,size:"small"}),(0,g.jsx)("span",{className:"text-danger nameflow-error ",children:M.dates})]}),(0,g.jsxs)(h.A,{span:16,children:[(0,g.jsx)(y,{id:"Description",variant:"borderless",value:v,onChange:t=>{return e=t.target.value,void((/^[^\s][\s\S]*$/.test(e)||""===e)&&x(e));var e},style:{border:"none",borderBottom:"1px solid #f1f1f1",borderRadius:"0",paddingLeft:"0px"},placeholder:"Enter Reason...",autoSize:{minRows:0,maxRows:1}}),(0,g.jsx)("span",{className:"text-danger nameflow-error ",children:M.reason})]})]}),(0,g.jsxs)(l.A,{justify:"end",style:{marginTop:"1rem"},children:[(0,g.jsx)(h.A,{children:(0,g.jsx)(p.Ay,{className:"sub-cancel-btn",onClick:O,style:{marginRight:"1rem",marginTop:"1px"},children:"Cancel"})}),(0,g.jsx)(h.A,{children:(0,g.jsx)(p.Ay,{className:"raise-button raise-timesheet",style:{fontSize:"13px"},type:"primary",htmlType:"submit",loading:b,children:"Submit"})})]})]})]})}},78198:(t,e,a)=>{a.d(e,{A:()=>r});var n=a(65043),o=a(85727),s=a(70579);const r=t=>{let{isModalOpen:e,handleCancel:a,handleApprove:r,id:i,headContent:c,resetFunc:d,date:l}=t;const[h,u]=(0,n.useState)(!1);return(0,s.jsx)(o.A,{title:"".concat(c),open:e,onOk:async()=>{u(!0);try{!0===(await r(i)).status&&d()}catch(t){}finally{u(!1)}},okText:"Confirm",centered:!0,onCancel:a,okButtonProps:{style:{background:"#f54550",borderColor:"#f54550",color:"white"},loading:h},maskClosable:!1,children:(0,s.jsxs)("p",{children:["Are you sure to withdraw leave on the ",(0,s.jsx)("b",{children:l})," ?"]})})}},9425:(t,e,a)=>{a.d(e,{A:()=>o});a(65043);var n=a(70579);const o=t=>{let{width:e,height:a,fill:o,viewBox:s}=t;return(0,n.jsx)("svg",{width:e,height:a,viewBox:s,fill:o,xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M15.75 2.99999H13.425C13.0662 1.25518 11.5313 0.00225 9.74998 0H8.24996C6.46863 0.00225 4.93378 1.25518 4.57498 2.99999H2.24999C1.83578 2.99999 1.5 3.33577 1.5 3.74998C1.5 4.16419 1.83578 4.5 2.24999 4.5H2.99998V14.25C3.00247 16.32 4.67995 17.9975 6.74999 18H11.25C13.32 17.9975 14.9975 16.32 15 14.25V4.5H15.75C16.1642 4.5 16.5 4.16422 16.5 3.75001C16.5 3.3358 16.1642 2.99999 15.75 2.99999ZM8.25 12.75C8.25 13.1642 7.91422 13.5 7.50001 13.5C7.08577 13.5 6.74999 13.1642 6.74999 12.75V8.25001C6.74999 7.8358 7.08576 7.50002 7.49998 7.50002C7.91419 7.50002 8.24996 7.8358 8.24996 8.25001V12.75H8.25ZM11.25 12.75C11.25 13.1642 10.9142 13.5 10.5 13.5C10.0858 13.5 9.75001 13.1642 9.75001 12.75V8.25001C9.75001 7.8358 10.0858 7.50002 10.5 7.50002C10.9142 7.50002 11.25 7.8358 11.25 8.25001V12.75ZM6.12825 2.99999C6.44726 2.10171 7.29677 1.50114 8.25 1.49998H9.75001C10.7032 1.50114 11.5528 2.10171 11.8718 2.99999H6.12825Z",fill:o})})}},91938:(t,e,a)=>{a.d(e,{A:()=>o});a(65043);var n=a(70579);const o=t=>{let{width:e,height:a,fill:o,viewBox:s}=t;return(0,n.jsxs)("svg",{width:e,height:a,viewBox:s,fill:o,xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_586_10850)",children:(0,n.jsx)("path",{d:"M9 5.25V0.345C9.68475 0.6045 10.3147 1.00425 10.8488 1.5375L13.4618 4.152C13.9957 4.68525 14.3955 5.31525 14.655 6H9.75C9.336 6 9 5.66325 9 5.25ZM9.9525 14.61C9.34275 15.2197 9 16.0462 9 16.9088V18H10.0912C10.9537 18 11.7803 17.6572 12.39 17.0475L17.4953 11.9423C18.168 11.2695 18.168 10.1775 17.4953 9.50475C16.8225 8.832 15.7305 8.832 15.0577 9.50475L9.9525 14.61ZM7.5 16.9088C7.5 15.6398 7.99425 14.4465 8.89125 13.5495L13.9965 8.44425C14.2883 8.1525 14.628 7.92825 14.9948 7.7685C14.9917 7.6785 14.988 7.58925 14.982 7.49925H9.75C8.5095 7.49925 7.5 6.48975 7.5 5.24925V0.018C7.37925 0.00975 7.2585 0 7.13625 0H3.75C1.68225 0 0 1.68225 0 3.75V14.25C0 16.3177 1.68225 18 3.75 18H7.5V16.9088Z",fill:"#919EAB"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_586_10850",children:(0,n.jsx)("rect",{width:e,height:a})})})]})}},2822:(t,e,a)=>{a.d(e,{A:()=>o});a(65043);var n=a(70579);const o=t=>{let{width:e,height:a,fill:o,viewBox:s}=t;return(0,n.jsx)("svg",{width:e,height:a,viewBox:s,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M9 5.25V0.345C9.69379 0.607001 10.324 1.01348 10.8488 1.5375L13.4618 4.152C13.9864 4.67616 14.3932 5.30617 14.655 6H9.75C9.55109 6 9.36032 5.92098 9.21967 5.78033C9.07902 5.63968 9 5.44891 9 5.25ZM15 7.86375V14.25C14.9988 15.2442 14.6033 16.1973 13.9003 16.9003C13.1973 17.6033 12.2442 17.9988 11.25 18H3.75C2.7558 17.9988 1.80267 17.6033 1.09966 16.9003C0.396661 16.1973 0.00119089 15.2442 0 14.25V3.75C0.00119089 2.7558 0.396661 1.80267 1.09966 1.09966C1.80267 0.396661 2.7558 0.00119089 3.75 0L7.13625 0C7.2585 0 7.37925 0.00975 7.5 0.018V5.25C7.5 5.84674 7.73705 6.41903 8.15901 6.84099C8.58097 7.26295 9.15326 7.5 9.75 7.5H14.982C14.9902 7.62075 15 7.7415 15 7.86375ZM8.5605 12.75L9.90525 11.4052C10.0419 11.2638 10.1175 11.0743 10.1158 10.8777C10.114 10.6811 10.0352 10.4929 9.89611 10.3539C9.75706 10.2148 9.56895 10.136 9.3723 10.1342C9.17565 10.1325 8.9862 10.2081 8.84475 10.3448L7.5 11.6895L6.15525 10.3448C6.0138 10.2081 5.82435 10.1325 5.6277 10.1342C5.43105 10.136 5.24294 10.2148 5.10389 10.3539C4.96483 10.4929 4.88595 10.6811 4.88424 10.8777C4.88254 11.0743 4.95813 11.2638 5.09475 11.4052L6.4395 12.75L5.09475 14.0947C5.02312 14.1639 4.96598 14.2467 4.92667 14.3382C4.88737 14.4297 4.86668 14.5281 4.86581 14.6277C4.86495 14.7273 4.88392 14.826 4.92163 14.9182C4.95934 15.0104 5.01503 15.0941 5.08545 15.1645C5.15587 15.235 5.23961 15.2907 5.33178 15.3284C5.42396 15.3661 5.52272 15.3851 5.6223 15.3842C5.72189 15.3833 5.8203 15.3626 5.9118 15.3233C6.00331 15.284 6.08606 15.2269 6.15525 15.1553L7.5 13.8105L8.84475 15.1553C8.9862 15.2919 9.17565 15.3675 9.3723 15.3658C9.56895 15.364 9.75706 15.2852 9.89611 15.1461C10.0352 15.0071 10.114 14.8189 10.1158 14.6223C10.1175 14.4257 10.0419 14.2362 9.90525 14.0947L8.5605 12.75Z",fill:o,stroke:"#A5A1A1",strokeWidth:"0.5"})})}},80217:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFUSURBVHgB7ZiBcYMgFIb/tB0gG5QRHCGblE7QbqAb9TqB7QR2A7uB2cBCQ9qXBwQwBsyd3927Q/Edn4gC3iOOWsWHKX8ijaTcDeIYJ+RMyr3DwnAJSRWtigGHuxtZ/ZgYrtzBtCFxBqGim9DgpdGbti2ZvoCMV6pn3dm4rGdEmDbosOiOlZLJVMhHxaSkPtmSEw3y05D2tcuJoUB+BGl/2OCyj95c/Dks7sPIe6g4NzF1FOWBHa+DmrMKhbhZoRqHeebFUacnyDcTIjHXiW91d+SVXdOQui3spcs2MtfrEBJq2TUtqdvBXmztInOdQjGPjG9d3kn5S8WeHH+bczG5XkI9pNFdr++ucdQJ/I+hKjHXcliXHyFWoRBaiL4lj8iPIOW9FqKv6TPy80TKvy4SC9uXaTomVeP6O9eayfT8AjonFd/bl5TqEHgaEvb/obnD+3/oB+AgIdEZY/62AAAAAElFTkSuQmCC"},74668:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAANCAYAAACtpZ5jAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACjSURBVHgBrczBEYIwEIXhtysFUIotWIIlpAOpADrQGQugAA+WICWkFA54UrImBxwdCEHZ//SSnfnoXF9KJzgAyKGUk77IPFpBOaZNyQQ0UE5EGu4p2/ttoZcVvhsK61hfc5bnzc8t1mUddbvCmJaGHwX8jYYHfV5W4F/oCP4TH6GT8I/4JBqFF+JRdBZO4LNoEo7gSXQRPOCQRwWhFtydUmjoBdH8byFWGreHAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=561.d3f1eab6.chunk.js.map