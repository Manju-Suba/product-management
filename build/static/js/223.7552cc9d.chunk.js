"use strict";(self.webpackChunkproduct_management=self.webpackChunkproduct_management||[]).push([[223,667],{63406:(e,o,t)=>{t.d(o,{Uz:()=>i,ZX:()=>a,dJ:()=>n,gf:()=>r,pU:()=>l});var s=t(54420);const a="https://testing_demo.cavinkare.in/neram_backend/uploads/",r=()=>{const e=localStorage.getItem("userData");return e?JSON.parse(e):{Token:""}},n=e=>{if(r()){return{..."json"===e?{"Content-Type":"application/json"}:{"Content-Type":"multipart/form-data"}}}},l=()=>{const e=r(),o=e?e.Token:null;if(o){return(0,s.s)(o)}return null},i=()=>"/neram"},35402:(e,o,t)=>{t.d(o,{A:()=>m});var s=t(77154),a=t(54420),r=t(60446),n=t.n(r),l=t(63406);const i="https://testing_demo.cavinkare.in/test_neram/",c=e=>n().unix(e||0).diff(n()())<1,d=()=>{window.localStorage.clear(),localStorage.removeItem("userData"),localStorage.removeItem("logout"),localStorage.removeItem("Pm_tool"),localStorage.removeItem("neram"),localStorage.clear(),window.location.href="/neram"},m=()=>{const e=(0,l.gf)(),o=e.Token,t=o?(0,a.s)(o):{},r=e.RefreshToken?(0,a.s)(e.RefreshToken):{},n=(e=>s.A.create({baseURL:i,headers:e?{Authorization:"Bearer ".concat(e)}:{}}))(o);return n.interceptors.request.use((async a=>{if(a.url.includes("auth/signin"))return a;const n=e.RefreshToken;if(((e,o)=>{!c(null===e||void 0===e?void 0:e.exp)&&o||d()})(r,n),!c(t.exp))return a;const l=await s.A.post("".concat(i,"auth/refreshtoken?refreshToken=").concat(n,"&accessToken=").concat(o));if(200===l.status){l.data.data.RefreshToken=n,localStorage.setItem("userData",JSON.stringify(l.data.data)),localStorage.setItem("Pm_tool","true");const e=localStorage.getItem("logout");return null!==e&&localStorage.setItem("logout",e),a.headers.Authorization="Bearer ".concat(l.data.data.Token),a}d()})),n}},4630:(e,o,t)=>{t.r(o),t.d(o,{default:()=>I});var s=t(65043),a=t(73216),r=t(5727),n=t(63406);const l=t.p+"static/media/logo.3c11a0e939d8aa59a650.png",i=t.p+"static/media/sideImg.9a8435f8d08b7d66437d.png";var c=t(33570),d=t(42145),m=(t(92342),t(90246)),g=t(54420),u=t(59748),p=t(48903),h=t(87021),A=t(35402),x=t(82692),f=t(70579);const I=()=>{const e=(0,A.A)(),o=(0,a.Zp)(),[,t]=(0,s.useState)(!1),I=()=>{t((e=>!e))};(0,s.useEffect)((()=>{const e=m.A.parse(window.location.search),t=e.RefreshToken;let s;if("string"===typeof t){const e=(0,g.s)(t);"code"in e&&(s=e.code)}const a=(0,n.pU)();if(200===s){localStorage.setItem("userData",JSON.stringify(e)),localStorage.setItem("Pm_tool","true"),localStorage.setItem("logout","outlook"),localStorage.setItem("neram","true");const t=window.location.origin+window.location.pathname;window.history.replaceState({},document.title,t),a.designation.includes("Internal Admin")?o("/master"):o("/dashboard")}else if(null!==a)a.designation.includes("Internal Admin")?o("/master"):o("/dashboard");else if(s){d.oR.error("User Not Found",{position:d.oR.POSITION.TOP_RIGHT,autoClose:3e3});const e=new URLSearchParams(window.location.search).get("redirectUrl");o(e||"/")}}),[o]);const w=new r.A,[S,j]=(0,s.useState)(!1);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.N9,{}),(0,f.jsx)("section",{className:"vh-100",children:(0,f.jsx)("div",{className:"container-fluid h-custom",children:(0,f.jsxs)("div",{className:"row d-flex h-100",children:[(0,f.jsxs)("div",{className:"col-md-6 col-lg-6 col-sm-12 login-image-side",children:[(0,f.jsx)("div",{className:"row",children:(0,f.jsx)("img",{src:l,alt:"Neram-Logo",className:"login-logo"})}),(0,f.jsx)("div",{className:"row text-center",children:(0,f.jsxs)("p",{style:{fontSize:"39px",fontWeight:"700",lineHeight:"52px"},children:[(0,f.jsx)("span",{style:{color:"#800000"},children:"Unlock your "}),(0,f.jsx)("br",{}),(0,f.jsx)("span",{style:{color:"#F49292",marginLeft:"17px"},children:"Performance "})]})}),(0,f.jsx)("div",{className:"row d-flex justify-content-center",children:(0,f.jsx)("img",{src:i,alt:"Neram-Logo",className:"side-img"})})]}),(0,f.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",style:{background:"#F3F4F5",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"welcome-font",style:{color:"#800000",fontSize:"37px",lineHeight:"20px",fontWeight:"700"},children:"Welcome to Neram"}),(0,f.jsxs)("h6",{style:{fontSize:"13px",fontWeight:"600",color:"#F49292",lineHeight:"20px",marginBottom:"29px"},children:["Unlock your team performance"," "]}),(0,f.jsxs)(u.A,{name:"basic",initialValues:{remember:!0},size:"large",onFinish:async t=>{j(!0);try{const s=await e.post("auth/signin",t);if(200===s.status){const e=s.data.data;localStorage.setItem("logout","local"),localStorage.setItem("neram","true"),localStorage.setItem("userData",JSON.stringify(e));const t=(0,g.s)(e.Token);w.set("token",e.Token),d.oR.success("Login Successfully",{position:d.oR.POSITION.TOP_RIGHT,autoClose:200,onClose:()=>{j(!1),t.designation.includes("Internal Admin")?o("/master"):o("/dashboard")}})}else j(!1),d.oR.error("Login Failed",{position:d.oR.POSITION.TOP_RIGHT,autoClose:3e3})}catch(s){const e=s.response?s.response.data:s.message;j(!1),"Bad credentials"===e.data?d.oR.error("Incorrect Employee Id and Password",{position:d.oR.POSITION.TOP_RIGHT,autoClose:3e3}):d.oR.error(s.message,{position:d.oR.POSITION.TOP_RIGHT,autoClose:3e3})}},autoComplete:"off",children:[(0,f.jsx)(u.A.Item,{name:"username",rules:[{required:!0,message:"Please Enter your Employee Id!"}],children:(0,f.jsx)(p.A,{placeholder:"Enter Employee Id",style:{border:"1px solid #F20D2F",borderRadius:"5px"}})}),(0,f.jsx)(u.A.Item,{name:"password",rules:[{required:!0,message:"Please Enter your password!"}],children:(0,f.jsx)(p.A.Password,{placeholder:"Password",iconRender:e=>e?(0,f.jsx)(x.A,{onClick:I,style:{color:"#F30D2F"}}):(0,f.jsx)("button",{type:"button",onClick:I,style:{background:"none",border:"none",cursor:"pointer"},children:(0,f.jsx)("img",{src:c,alt:"Password",width:14})}),style:{border:"1px solid #F20D2F",borderRadius:"5px"}})}),(0,f.jsx)(u.A.Item,{children:(0,f.jsx)(h.Ay,{className:"btn-white",style:{textTransform:"none",color:"#FFFFFF",background:"#F30D2F",fontSize:"14px",fontWeight:"700",borderRadius:"5px",height:"46px",width:"100%",border:"none"},htmlType:"submit",loading:S,children:"Login"})})]}),(0,f.jsx)("h6",{style:{textAlign:"center",fontSize:"12px",fontWeight:"400",color:"#F49292",lineHeight:"20px"},children:"\xa9 2023 all rights reserved"})]})})]})})})]})}},33570:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHZSURBVHgBnVTtcZtAEN3dMzPWIDykA/w/jlAHuAOlAqEK0oJVQZIKbFcQdSBSgclM/otUYEaQSBN8t9lDsULQyfb4/YH72K/3HiAcQTV8mxCrKRMksozaTYYcEHJmfRvU3zNXHPY37sM48h74Wk4SeBpF0+Dlm21edDepu9j476Ynmu9ekMwi8jy+2/jxFFwdroOLCQF9gVdAGUwHP/PbfYd2TAS6dtwtGXGuGjwHg2OpP0OEon9JE3+6P42jfULP8FJaDXutF5JoHKzzq+0pgCEdDav8hggvbaFezlDGbxsiGTUV9aJ+VTY4H/wlXGlzZemog9Fqa5MZnh8OA8nav0ixPhutXAl3I9pW+WNXJGPMzPNUpjWvDmLEVuRoH3ZdQSljxgeKkyp18z89jxB+QwLGz65DrcxEK7XoimB5PavyRVvIAUtTaxvhZimPpHdeinHH1rjrIJ7IOgwULEorgIjYp8kW86tv563KSuEM3MotLdFkfhdes81+PZgPrfEPOS+padX/Z+w6iFNp2uXFZ4GA732hwr7vPz3rMWtcOCLSEZQ25jHZLnkPG/lqjHDELit1wMBfTxpKB72fAx4LqIZxgmhSBozl0sjuGYQfxJwx001Q55kr7g+LSso6Ld9C0QAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=223.7552cc9d.chunk.js.map