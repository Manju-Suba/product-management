"use strict";(self.webpackChunkproduct_management=self.webpackChunkproduct_management||[]).push([[607],{12834:(e,t,a)=>{a.d(t,{A:()=>r});a(65043);var s=a(70579);const r=e=>{let{width:t,height:a,fill:r,viewBox:n}=e;return(0,s.jsx)("svg",{width:t,height:a,viewBox:n,fill:r,xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M16.5824 4.58202H3.41244L6.29244 1.70202C6.47942 1.51504 6.58447 1.26145 6.58447 0.997021C6.58447 0.732594 6.47942 0.478998 6.29244 0.292021C6.10547 0.105043 5.85187 0 5.58744 0C5.32302 0 5.06942 0.105043 4.88244 0.292021L0.292444 4.88202C0.19974 4.97453 0.126193 5.08442 0.0760114 5.2054C0.02583 5.32637 0 5.45605 0 5.58702C0 5.71799 0.02583 5.84767 0.0760114 5.96865C0.126193 6.08962 0.19974 6.19951 0.292444 6.29202L4.88244 10.882C4.97503 10.9746 5.08494 11.048 5.2059 11.0981C5.32687 11.1483 5.45651 11.174 5.58744 11.174C5.71837 11.174 5.84802 11.1483 5.96899 11.0981C6.08995 11.048 6.19986 10.9746 6.29244 10.882C6.38503 10.7894 6.45847 10.6795 6.50857 10.5586C6.55868 10.4376 6.58447 10.308 6.58447 10.177C6.58447 10.0461 6.55868 9.91644 6.50857 9.79548C6.45847 9.67451 6.38503 9.5646 6.29244 9.47202L3.41244 6.58202H16.5824C17.1324 6.58202 17.5824 6.13202 17.5824 5.58202C17.5824 5.03202 17.1324 4.58202 16.5824 4.58202Z",fill:"#919EAB"})})}},58568:(e,t,a)=>{a.d(t,{A:()=>r});a(65043);var s=a(70579);const r=e=>{let{width:t,height:a,fill:r,viewBox:n,color:o,clipH:i,clipW:l}=e;return(0,s.jsxs)("svg",{width:t,height:a,viewBox:n,fill:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsxs)("g",{clipPath:"url(#clip0_3212_26864)",children:[(0,s.jsx)("path",{d:"M0 17.4739C0.104004 17.0872 0.213135 16.7019 0.310913 16.3137C0.57312 15.2722 0.827637 14.2285 1.09351 13.1881C1.12097 13.0812 1.18506 12.9702 1.26306 12.8918C4.50146 9.64685 7.74353 6.40552 10.9852 3.16418C11.0178 3.13159 11.053 3.10083 11.072 3.08325C12.3519 4.36279 13.6271 5.63831 14.9172 6.9281C14.9004 6.94641 14.8605 6.99292 14.8169 7.03613C11.5913 10.261 8.36646 13.4862 5.13721 16.707C5.04346 16.8004 4.91089 16.8784 4.78308 16.911C3.38599 17.2677 1.98596 17.6138 0.587036 17.9635C0.554077 17.9719 0.522949 17.988 0.490723 18.0005H0.280151C0.186401 17.9067 0.0930176 17.8134 -0.000732422 17.7196C-0.000732422 17.6376 -0.000732422 17.5559 -0.000732422 17.4739H0Z",fill:"#A5A1A1"}),(0,s.jsx)("path",{d:"M0 17.7192C0.09375 17.813 0.187134 17.9064 0.280884 18.0001H0C0 17.9064 0 17.813 0 17.7192Z",fill:"white"}),(0,s.jsx)("path",{d:"M16.0682 5.78585C14.7806 4.49825 13.5037 3.22201 12.2164 1.93477C12.5629 1.58834 12.9152 1.23202 13.2722 0.880087C13.4344 0.720419 13.5927 0.552694 13.7747 0.418295C14.4921 -0.111613 15.5486 -0.0731604 16.2081 0.527426C16.6571 0.936117 17.0889 1.36788 17.4965 1.81795C18.1018 2.48592 18.1274 3.50362 17.5884 4.22909C17.5188 4.32247 17.4408 4.41073 17.3588 4.49349C16.9274 4.92818 16.4934 5.36068 16.0682 5.78585Z",fill:"#A5A1A1"})]}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_3212_26864",children:(0,s.jsx)("rect",{width:l,height:i,fill:o})})})]})}},6607:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ne});var s=a(65043),r=a(93946),n=a(42145),o=(a(92342),a(63406)),i=a(81411),l=a(48173),c=a(80217),d=a(91938),u=a(85727),h=a(38510),p=a(18125),m=a(61393),x=a(25589),f=a(32513),b=a(6051),g=a(64325),v=a(75337),y=a(36885),j=a(90798),w=a(9425),k=a(60446),C=a.n(k),S=a(62658),A=a.n(S),N=a(74668),D=a(79456),R=a(15262),Y=a(35475),O=a(70579);C().extend(A()),C().updateLocale("en",{weekStart:1});const I=e=>{let{productList:t,today:a,taskList:k,loader:S,loadingActiveTask:A}=e;const I=(0,D.wA)(),M=(0,D.d4)((e=>e.timesheet&&e.timesheet.yesterdayCount)),T=(0,o.pU)(),H=null===T||void 0===T?void 0:T.jod,[_,F]=(0,s.useState)(""),[P,E]=(0,s.useState)(!1),[z,L]=(0,s.useState)(!1),[W,B]=(0,s.useState)(!1),[U,q]=(0,s.useState)(C()()),[G,Q]=(0,s.useState)(!1),[$,K]=(0,s.useState)(!1),[J,X]=(0,s.useState)(!1),[V,Z]=(0,s.useState)(!1),[ee,te]=(0,s.useState)(""),ae=(0,s.useRef)(null),[se,re]=(0,s.useState)(!0),ne=(0,s.useRef)(null),oe=(0,s.useRef)(null),ie=e=>{!e&&ae.current&&ae.current.blur()},[le,ce]=(0,s.useState)([{activity_date:U,isChecked:!1,checkUser:"",product:"",task:"",hours:"",status:"",description:""}]),de=le.some((e=>e.isChecked)),ue=(0,D.d4)((e=>e.timesheet.existingDates)),he=()=>{L(!1),B(!1),F("present")},pe=async(e,t)=>{I((0,R.rv)(e,t)).then((t=>{const a=t.data.data;me(t.status,a,e),L(!1)})).catch((e=>{}))},me=(e,t,a)=>{208===e?xe(t):201===e&&fe(t,a)},xe=e=>{n.oR.error("You applied for this date",{position:n.oR.POSITION.BOTTOM_RIGHT}),B("leave"===e.status),F(e.status)},fe=(e,t)=>{F(e.status),n.oR.success("Successfully applied leave",{position:n.oR.POSITION.BOTTOM_RIGHT}),I((0,R.yo)(t)),Ne(M,t)},be=e=>0!==e.product&&""!==e.product&&""!==e.task.trim()&&""!==e.hours&&""!==e.description.trim(),ge=(e,t,a)=>{const s=[...le],r=s[e];"hours"===t?r.hours=a:r[t]=a,r.isChecked=!1;const n=s.map(((e,t)=>({...e,isChecked:!1})));Z(!1),te(""),B(!1),ce(n)},ve=t.map((e=>({value:e.id,label:e.name,status:e.status,color:"InActive"===e.status?"orange":"green"}))),ye=ve.filter((e=>"Active"===e.status)),je=ve.filter((e=>"InActive"===e.status)),we=k.map((e=>({value:e,label:e}))),ke=()=>{Z(!V);const e=le.map((e=>({...e,isChecked:!V})));ce(e);let t=Ce(e);te(t>=1?"".concat(t," rows selected"):"")};function Ce(e){let t=0;for(let a of e)!0===a.isChecked&&t++;return t}const Se=e=>{const t=e.hour();return{disabledHours:()=>{const e=[];for(let t=0;t<24;t++)(t<0||t>9)&&e.push(t);return e},disabledMinutes:()=>9===t?[...Array(60).keys()].slice(1):0===t?[0]:[]}},Ae=e=>{u.A.warning({title:"Delete Activity",content:"Are you sure to delete this activity ?",onOk:()=>(e=>{if(le.length>1){const t=[...le];t.splice(e,1),ce(t)}else n.oR.error("Deleting last row  Restricted",{position:n.oR.POSITION.BOTTOM_RIGHT})})(e),closable:!0,okCancel:!0,autoFocusButton:!0,centered:!0,okText:"Yes",cancelText:"No",okButtonProps:{style:{background:"#f54550",borderColor:"#f54550",color:"white"}}})};(0,s.useEffect)((()=>{void 0===H&&(window.localStorage.clear(),localStorage.removeItem("userData"),localStorage.removeItem("logout"),localStorage.removeItem("Pm_tool"),localStorage.removeItem("neram"),localStorage.clear(),window.location.href=(0,o.Uz)());const e=C()(U).format("YYYY-MM");ne.current=C()(U).format("M"),oe.current=C()(U).format("YYYY"),I((0,R.Sg)(e)),re(!1)}),[]);(0,s.useEffect)((()=>{I((0,R.yo)(U))}),[I]),(0,s.useEffect)((()=>{M&&Ne(M,U)}),[M]);const Ne=(e,t)=>{const s=C()(t,"DD MMM, YYYY").format("YYYY-MM-DD"),{attendanceStatus:r,count:o,status:i}=e;F("leave"===r?r:"present"),s!==a&&H!==a?"leave"===r?(B(!0),E(!1)):"Permission"===i?(B(!1),E(!1)):0!==o||"Pending"!==i||"present"!==r&&"yet"!==r?0!==o||""!==i||"present"!==r&&"yet"!==r?0!==o||"Approved"!==i||"present"!==r&&"yet"!==r?"Rejected"===i?(B(!0),E(!1)):0!==o&&(B(!0),E(!1),n.oR.error("Already Submitted the Timesheet",{position:n.oR.POSITION.BOTTOM_RIGHT})):(B(!1),E(!1)):(B(!0),E(!0)):(B(!0),E(!1)):(B(!1),E(!1))};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(r.sK,{children:[(0,O.jsxs)(r.UF,{xs:12,sm:12,md:5,children:[(0,O.jsx)("h6",{className:"timesheet-heading mt-3",style:{marginLeft:"30px"},children:"Pending - Time Sheet"}),(0,O.jsx)(p.A,{style:{marginLeft:"30px"},className:"bread-tab",separator:(0,O.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,O.jsx)(Y.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,O.jsx)("span",{className:"text-secondary second-subheading",style:{cursor:"default"},children:"Pending Activity"})}]})]}),(0,O.jsx)(r.UF,{xs:9,sm:12,md:6,className:"draft-sumbit-button ",span:P?6:void 0,children:(0,O.jsxs)(r.sK,{children:[(0,O.jsxs)(r.UF,{className:"draft_rightside_pend",children:[(0,O.jsx)("div",{children:(0,O.jsx)(m.A,{variant:"borderless",id:"date",type:"date",name:"fieldName",placeholder:"Choose Date",className:"form-input-draft input-lg date-picker  time-pend-cal date-header",onChange:(e,t)=>(e=>{const t=e;t===a&&(B(!1),E(!1)),I((0,R.yo)(t)),Ne(M,t),q(t)})(e),suffixIcon:(0,O.jsx)("img",{src:c,alt:"Calendarimg",style:{width:"13px",height:"13px"}}),format:"DD MMM, YYYY",defaultValue:C()(),max:a,allowClear:!1,min:H,onPanelChange:async(e,t)=>{if("date"===t){re(!0);const t=C()(e).format("YYYY-MM");ne.current=C()(e).format("M"),oe.current=C()(e).format("YYYY");try{await I((0,R.Sg)(t))}catch(a){}finally{setTimeout((()=>{re(!1)}),1e3)}}},cellRender:e=>{const t=parseInt(ne.current),a=parseInt(oe.current);if(se)return(0,O.jsx)("div",{style:{textAlign:"center"},children:Array.from({length:1},((e,t)=>(0,O.jsx)(h.A,{title:!1,paragraph:{rows:1,width:"100%",height:"10px",style:{height:"10px !important"}}},t)))});const s=ue;if(!s)return null;const r=s.RaisedRequestList||[],n=s.AttendanceList||[],o=s.SubmittedList||[],i=s.Permission||[],l=r.includes(e.format("YYYY-MM-DD")),c=n.includes(e.format("YYYY-MM-DD")),d=o.includes(e.format("YYYY-MM-DD")),u=e.isSame(U,"day"),p=C()(),m=null===e||void 0===e?void 0:e.isAfter(p,"day"),x=null===e||void 0===e?void 0:e.isBefore(H,"day"),f=i.includes(C()(e).format("YYYY-MM-DD")),b=l||c||d||m||x;let g,v;g=b?"normal":u||f?"bold":"normal",v=b?"gray":u?"white":f?"black":"#ffaa00";const y=v,j=g,w=u?"#e40e2d":"transparent",k=u?"50%":"0%",S=u?"24px":"auto",A=u?"24px":"auto",N=u?"inline-block":"initial",D=u?"24px":"initial";return e.month()+1===t&&e.year()===a?(0,O.jsx)("div",{style:{color:y,fontWeight:j,backgroundColor:w,borderRadius:k,minWidth:S,height:A,display:N,lineHeight:D},children:e.date()}):(0,O.jsx)("div",{children:e.date()})},disabledDate:e=>{const t=ue;if(!t)return!1;const a=C()(),s=t.RaisedRequestList||[],r=t.AttendanceList||[],n=t.SubmittedList||[],o=e.isAfter(a,"day"),i=s.includes(e.format("YYYY-MM-DD")),l=r.includes(e.format("YYYY-MM-DD")),c=n.includes(e.format("YYYY-MM-DD")),d=null===e||void 0===e?void 0:e.isBefore(H,"day"),u=e.year(),h=e.month(),p=H&&4===C()(H).month(),m=u===a.year()&&4===h;if(p&&m)return!1;return i||l||c||o||d}})}),(0,O.jsxs)(x.A,{className:"form-input-draft input-lg activity-date times-pen-select ".concat("present"===_?"present-color":"leave-color"),suffixIcon:(0,O.jsx)("img",{src:N,alt:N,style:{width:"12px",height:"7px"}}),value:_,onChange:e=>(e=>{const t=e;F(t),"leave"===t?L(!0):"present"===t?B(!1):L(!1)})(e),children:[(0,O.jsx)(x.A.Option,{value:"present",style:{color:"#00ab55",fontWeight:"600"},children:"Present"}),(0,O.jsx)(x.A.Option,{value:"leave",style:{color:"#e40e2d",fontWeight:"600"},children:"Leave"})]})]}),P&&(0,O.jsx)(r.UF,{xs:4,md:4,className:"draft-sumbit-button ",children:(0,O.jsx)(r.Q_,{className:"raise-button raise-timesheet raise_button_content",type:"button",style:{color:"white"},onClick:()=>Q(!0),children:"Raise Request"})})]})})]}),(0,O.jsx)("div",{className:"table-container-draft table_scroll-draft",children:(0,O.jsxs)(r._v,{children:[(0,O.jsx)(r.wV,{className:"draft-head-row-ts",children:ee?(0,O.jsxs)(r.YI,{children:[(0,O.jsx)(r.$s,{className:"table-head-draft table-head-selected  text-c text-center pad_bt",scope:"col",width:"4.3%",children:(0,O.jsx)(f.A,{id:"selectAllCheckbox",className:"checkbox_design",checked:V,onChange:ke,disabled:W||le.some((e=>!be(e)))})}),(0,O.jsx)(r.$s,{className:"table-head-selected  text-c align_con_cen",colSpan:"4",children:(0,O.jsx)("span",{style:{color:"#f50505"},children:ee})}),(0,O.jsx)(r.$s,{className:"table-head-selected ",colSpan:"5",style:{textAlign:"right"},width:"39.1%",children:(0,O.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[(0,O.jsxs)("button",{className:" btn border-0  text-secondary save_draft_button",disabled:!de||J||W,onClick:()=>(async()=>{K(!0),X(!0);const e=le.filter((e=>!e.isChecked)),t=new FormData;let a=0;le.forEach((e=>{e.isChecked&&(t.append("commonTimeSheetActivities[".concat(a,"].activity_date"),C()(U).format("YYYY-MM-DD")),t.append("commonTimeSheetActivities[".concat(a,"].product"),e.product),t.append("commonTimeSheetActivities[".concat(a,"].task"),e.task),t.append("commonTimeSheetActivities[".concat(a,"].hours"),"".concat(C()(e.hours.$d).format("HH:mm"))),t.append("commonTimeSheetActivities[".concat(a,"].description"),e.description),a++)})),t.append("status","Draft"),I((0,R.EH)(t)).then((t=>{n.oR.success(t.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT}),K(!1),X(!1),te(""),Z(!1),0===e.length?ce([{activity_date:U,isChecked:!1,product:"",task:"",hours:"",description:""}]):ce(e),i.A.emit("callDraft")})).catch((e=>{K(!1),X(!1),Z(!V);const t=le.map((e=>({...e,isChecked:!V})));ce(t),te(""),n.oR.error(e.message,{position:n.oR.POSITION.BOTTOM_RIGHT})}))})(),type:"button",children:[(0,O.jsx)(d.A,{width:"17",height:"17",viewBox:"0 0 18 18",fill:"none"}),(0,O.jsx)("span",{style:{marginLeft:"5px",fontSize:"13px",fontWeight:"700"},children:"Save as Draft"})]}),(0,O.jsx)("div",{title:!de||$?"Please check a row before submitting":"",children:(0,O.jsx)(r.Q_,{className:"submit-button submit-timesheet ",type:"button",onClick:()=>(async e=>{K(!0),X(!0);const t=le.filter((e=>!e.isChecked)),a=new FormData;let s=0;le.forEach((e=>{e.isChecked&&(a.append("commonTimeSheetActivities[".concat(s,"].activity_date"),C()(U).format("YYYY-MM-DD")),a.append("commonTimeSheetActivities[".concat(s,"].product"),e.product),a.append("commonTimeSheetActivities[".concat(s,"].task"),e.task),a.append("commonTimeSheetActivities[".concat(s,"].hours"),C()(e.hours.$d).format("HH:mm")),a.append("commonTimeSheetActivities[".concat(s,"].description"),e.description),s++)})),a.append("status","Created"),I((0,R.EH)(a)).then((e=>{n.oR.success(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT}),K(!1),X(!1),te(""),ce([]),Z(!1),0===t.length?ce([{activity_date:U,isChecked:!1,checkUser:"",product:"",task:"",hours:"",description:""}]):ce(t)})).catch((e=>{K(!1),X(!1),Z(!1);const t=le.map((e=>({...e,isChecked:!1})));ce(t),te("");const a=e.response.data;a?n.oR.error(a.message,{position:n.oR.POSITION.BOTTOM_RIGHT}):n.oR.error(e.message,{position:n.oR.POSITION.BOTTOM_RIGHT})}))})(),disabled:!de||$||W,children:" Submit"})})]})})]}):(0,O.jsxs)(r.YI,{className:"my-3 ".concat(W?"disabled-content":""),children:[(0,O.jsx)(r.$s,{className:"table-head-draft text-c text-center",scope:"col",width:"4%",children:(0,O.jsx)(f.A,{className:"checkbox_design",id:"selectAllCheckbox",checked:V,onChange:ke,disabled:W||le.some((e=>!be(e)))})}),(0,O.jsx)(r.$s,{className:"table-head-draft text-c text-center",scope:"col",width:"4%",children:"SI.No"}),(0,O.jsx)(r.$s,{className:"table-head-draft text-c ",width:"15%",scope:"col",children:"Product"}),(0,O.jsx)(r.$s,{className:"table-head-draft text-c ",scope:"col",width:"20%",children:"Task"}),(0,O.jsx)(r.$s,{className:"table-head-draft text-c",scope:"col",width:"10%",children:"No.of.Hours"}),(0,O.jsx)(r.$s,{className:"table-head-draft text-c ",scope:"col",width:"30%",children:"Remarks"}),(0,O.jsx)(r.$s,{className:"table-head-draft text-c text-center",scope:"col",width:"9%",children:(0,O.jsxs)("button",{style:{background:"transparent"},type:"button",className:"text-decoration-none  border-0  addrow_button ",onClick:()=>{ce([...le,{activity_date:U,isChecked:!1,checkUser:"",product:"",task:"",hours:"",status:"",description:""}])},children:[" ",(0,O.jsx)(v.A,{className:"plus_icon ",style:{width:"10px",margin:"2px"}})," ",(0,O.jsx)("span",{className:"row_lable",children:" Row"})]})})]})}),(0,O.jsx)(r.jS,{className:"my-3 ".concat(W?"disabled-content":""),children:null===le||void 0===le?void 0:le.map(((e,t)=>(0,O.jsxs)(r.YI,{className:"my-3",children:[(0,O.jsx)(r.cC,{className:"activity-text-radio activity-text-index text-center pad-bottom",style:{cursor:be(e)?"default":"not-allowed",...be(e)?{}:{":hover":{cursor:"not-allowed"}}},width:"4%",children:(0,O.jsx)(f.A,{className:"checkbox_design",id:"flexCheckDefault-".concat(t),checked:e.isChecked,onChange:()=>(e=>{const t=[...le],a=t[e],s=be(a);a.isChecked=!!s&&!a.isChecked,ce(t);let r=Ce(t);r>=1?r===le.length&&r===t.filter((e=>e.isChecked)).length?(Z(!0),te("".concat(r," rows selected"))):(Z(!1),te("".concat(r," rows selected"))):(Z(!1),te(""))})(t),disabled:!be(e)})}),(0,O.jsx)(r.cC,{className:"activity-text-index pad-bottom text-center  ",width:"4%",children:t+1}),(0,O.jsx)(r.cC,{className:"activity-text-draft pad-bottom",width:"15%",children:(0,O.jsx)(x.A,{showSearch:!0,placeholder:"Choose Product",variant:"borderless",ref:ae,onDropdownVisibleChange:ie,className:"product-select",loading:!0,suffixIcon:(0,O.jsx)("img",{src:N,alt:N,style:{width:"12px",height:"7px"}}),dropdownStyle:{border:"#ffff"},style:{width:"100%",fontWeight:"600"},onChange:e=>ge(t,"product",e),options:S?[{label:(0,O.jsx)("div",{style:{textAlign:"center"},children:(0,O.jsx)(h.A,{title:!1,paragraph:{rows:5,width:"100%"}})}),value:"loading",disabled:!0}]:[{label:"Assigned Projects",options:ye},{label:"Other Projects",options:je}].map((e=>({label:e.label,options:e.options.map((e=>({label:(0,O.jsxs)(b.A,{children:[(0,O.jsx)("span",{style:{backgroundColor:e.color,width:6,height:6,borderRadius:"50%",display:"inline-block",border:"none"}}),(0,O.jsx)("span",{style:{fontWeight:"600"},children:e.label})," "]}),value:e.value})))}))),value:e.product||null,filterOption:(e,t)=>{var a,s,r,n,o;const i=null===(a=t.label)||void 0===a||null===(s=a.props)||void 0===s||null===(r=s.children)||void 0===r||null===(n=r[1])||void 0===n||null===(o=n.props)||void 0===o?void 0:o.children;return i&&i.toLowerCase().includes(e.toLowerCase())}})}),(0,O.jsx)(r.cC,{className:"activity-text-task pad-bottom",width:"20%",children:(0,O.jsx)(x.A,{showSearch:!0,suffixIcon:(0,O.jsx)("img",{src:N,alt:N,style:{width:"12px",height:"7px"}}),ref:ae,onDropdownVisibleChange:ie,className:"draft-form-custom-selects choose_task_box",id:"task-".concat(t),value:we.find((t=>t.value===e.task))||null,onChange:e=>ge(t,"task",e),menuportaltarget:document.body,styles:{control:e=>({...e,fontSize:"14px",minWidth:"80px",minHeight:"46px",maxHeight:t<=1?"120px":"80px",zIndex:"1",border:"none",boxShadow:"none",fontWeight:600}),menu:e=>({...e,fontSize:"14px",maxHeight:t<=1?"120px":"80px",overflowY:"auto","&::-webkit-scrollbar":{display:"none"},fontWeight:600}),getOptionStyle:(e,t)=>({...e,height:"40px",display:"flex",alignItems:"center",padding:"8px 12px"})},options:A?[{label:(0,O.jsx)("div",{style:{textAlign:"center"},children:(0,O.jsx)(h.A,{title:!1,paragraph:{rows:5,width:"100%"}})}),value:"loading",disabled:!0}]:we,placeholder:"Choose Task"})}),(0,O.jsx)(r.cC,{className:"activity-text activity-text-time pad-bottom ",width:"10%",children:(0,O.jsx)(g.A,{className:"date_picker_box",variant:"borderless",placeholder:"HH:mm",format:"HH:mm",value:e.hours||null,style:{border:"none",fontWeight:600,fontSize:"13px"},suffixIcon:(0,O.jsx)(y.A,{className:"caredown-icon"}),disabledTime:Se,hideDisabledOptions:!0,picker:"time",allowClear:!1,showNow:!1,onChange:e=>ge(t,"hours",e)})}),(0,O.jsx)(r.cC,{className:"activity-text activity-text-description pad-bottom",width:"30%",children:(0,O.jsx)(j.A,{id:"des-".concat(t),variant:"borderless",value:e.description,className:"description_textarea",onChange:e=>ge(t,"description",e.target.value),style:{color:"black",fontWeight:"600"},placeholder:"Enter Remarks...",autoSize:{minRows:0,maxRows:1}})}),(0,O.jsx)(r.cC,{className:"text-c activity-text-status pad-bottom",width:"9%",children:(0,O.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,O.jsx)("button",{type:"button",className:"action-view cross-button",onClick:()=>Ae(t),disabled:le[t].isChecked,style:{padding:"4px 8px"},children:(0,O.jsx)(w.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})})})]},t)))})]})}),z&&(0,O.jsxs)(r.zS,{size:"sm",backdrop:"static",alignment:"center",visible:z,onClose:he,className:"right ".concat(z?"modal-visible":"modal-hidden"),children:[(0,O.jsxs)(r.Tc,{style:{fontSize:"15px"},children:["Are you sure you want to leave on ",(0,O.jsx)("b",{children:U.format("DD MMM YYYY")})," ?"," "]}),(0,O.jsxs)(r.If,{style:{border:"none"},children:[(0,O.jsx)(r.Q_,{className:"edit-cancel-btn",onClick:he,children:"Cancel"}),(0,O.jsx)(r.Q_,{color:"primary  button-clr",style:{fontSize:"15px",fontWeight:"500"},onClick:()=>{return e=U,t="leave",B(!0),void pe(e,t);var e,t},children:"Confirm"})]})]}),G&&(0,O.jsx)(l.A,{isOpen:G,closeModal:()=>(Q(!1),I((0,R.yo)(U)),void Ne(M,U)),dateWise:C()(U,"DD MMM, YYYY").format("YYYY-MM-DD")})]})};var M=a(48903),T=a(35402),H=a(51376);const{confirm:_}=u.A,F=e=>{let{productList:t,today:a,taskList:l,loader:d,loadingActiveTask:u}=e,v=(0,T.A)();const[j,k]=(0,s.useState)([]),[S,A]=(0,s.useState)(!1),[D,R]=(0,s.useState)(!1),[I,F]=(0,s.useState)(""),[P,E]=(0,s.useState)([]),[z,L]=(0,s.useState)(!0),W=j.some((e=>e.isChecked)),{TextArea:B}=M.A,U=(0,s.useRef)(null),q=e=>{!e&&U.current&&U.current.blur()};(0,s.useEffect)((()=>{X(),E(l.map((e=>({value:e,label:e}))))}),[]),(0,s.useEffect)((()=>(i.A.on("callDraft",$),()=>{i.A.off("callDraft",$)})));const G=()=>{R(!D);const e=j.map((e=>({...e,isChecked:!D,isDelete:!D})));k(e);let t=Q(e);F(t>=1?"".concat(t," rows selected"):"")};function Q(e){let t=0;for(let a of e)!0===a.isChecked&&t++;return t}const $=()=>{X()},K=e=>0!==e.product&&""!==e.product&&""!==e.task.trim()&&""!==e.hours&&""!==e.description.trim(),J=(e,t,a)=>{const s=[...j],r=s[e];"estimate_hours"===t?r.hours=a:r[t]=a,r.isChecked=!1;const n=s.map(((e,t)=>({...e,isChecked:!1})));R(!1),F(""),k(n)},X=async()=>{L(!0);await v.get("common/timesheet/list/status/"+!0,{headers:(0,o.dJ)("json")}).then((e=>{const t=e.data.data,a=new Set(P.map((e=>e.value)));t.forEach((e=>{a.has(e.task)||a.add(e.task)})),l.forEach((e=>{a.has(e)||a.add(e)}));const s=Array.from(a).map((e=>({value:e,label:e}))),r=t.map(((e,t)=>{const a=e.hours;return{id:e.id,activity_date:e.activity_date,product:e.product.id,task:e.task,hours:a,description:e.description,isDelete:!1}}));L(!1),k(r),E(s)})).catch((e=>{}))},V=t.map((e=>({value:e.id,label:e.name,status:e.status,color:"InActive"===e.status?"orange":"green"}))),Z=V.filter((e=>"Active"===e.status)),ee=V.filter((e=>"InActive"===e.status)),te=e=>{const t=e.hour();return{disabledHours:()=>{const e=[];for(let t=0;t<24;t++)(t<0||t>9)&&e.push(t);return e},disabledMinutes:()=>9===t?[...Array(60).keys()].slice(1):0===t?[0]:[]}},ae=(e,t,a)=>{_({title:"Delete Draft Activity",content:"Are you sure to delete this Activity ?",icon:(0,O.jsx)(H.A,{}),okText:"Yes",okType:"danger",cancelButtonProps:{style:{borderColor:"#f54550",color:"black"}},closable:!0,okButtonProps:{style:{borderColor:"#f54550",color:"white",backgroundColor:"#f54550"}},async onOk(){try{await(async(e,t,a)=>{let s;s="singleDelete"===e?a:j.filter((e=>e.isChecked)).map((e=>e.id));const r="common/timesheet/activity/draft/".concat(s);return A(!0),new Promise(((e,t)=>{setTimeout((()=>{v.delete(r,{headers:(0,o.dJ)("json")}).then((t=>{X(),F(""),R(!1);const a=j.map((e=>({...e,isChecked:!1})));k(a),A(!1),e(t)})).catch((e=>{t(e)}))}),1e3)}))})(e,0,a),n.oR.success("Draft Activity Deleted Successfully",{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}catch(t){n.oR.error("Deletion failed",{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})}},onCancel:()=>"multiDelete"===e?(()=>{F(""),R(!1);const e=j.map((e=>({...e,isChecked:!1})));k(e)})():null,cancelText:"No"})};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(r.sK,{children:[(0,O.jsx)(r.UF,{className:"col-md-8"}),(0,O.jsx)(r.UF,{className:"col-md-4"})]}),(0,O.jsxs)(r.sK,{children:[(0,O.jsxs)(r.UF,{xs:9,children:[(0,O.jsx)("h6",{className:"timesheet-heading mt-3",style:{marginLeft:"30px"},children:"Draft - Time Sheet"}),(0,O.jsx)(p.A,{style:{marginLeft:"30px"},className:"bread-tab",separator:(0,O.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,O.jsx)(Y.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,O.jsx)("span",{className:"text-secondary second-subheading",style:{cursor:"default"},children:"Draft Activity"})}]})]}),(0,O.jsx)(r.UF,{className:"draft-sumbit-button ",children:(0,O.jsx)(r.sK,{children:(0,O.jsx)(r.UF,{className:"draft-rightside-header draft-rs-datepicker submit_datepicker",children:(0,O.jsx)(m.A,{variant:"borderless",id:"date",type:"date",name:"fieldName",placeholder:"Choose Date",className:"form-input-draft input-lg date-picker activity-date ",onChange:(e,t)=>{const a=C()(e).format("YYYY-MM-DD");null!==e?(L(!0),k([]),(async e=>{L(!0);const t="common/timesheet/list/status/date/"+!0+"/".concat(e);await v.get(t,{headers:(0,o.dJ)("json")}).then((e=>{const t=e.data.data,a=new Set(P.map((e=>e.value)));t.forEach((e=>{a.has(e.task)||a.add(e.task)})),l.forEach((e=>{a.has(e)||a.add(e)}));const s=Array.from(a).map((e=>({value:e,label:e}))),r=t.map(((e,t)=>{const a=e.hours;return{id:e.id,activity_date:e.activity_date,product:e.product.id,task:e.task,hours:a,description:e.description,isDelete:!1}}));L(!1),k(r),E(s)})).catch((e=>{}))})(a)):X()},format:"DD MMM, YYYY",suffixIcon:(0,O.jsx)("img",{src:c,alt:"Calendarimg",style:{width:"13px",height:"13px"}}),max:C()(),active:!0,allowClear:!0})})})})]}),(0,O.jsxs)("div",{className:"table-container-draft table_scroll-draft  ",children:[(0,O.jsxs)(r._v,{hover:!0,children:[(0,O.jsx)(r.wV,{className:"draft-head-row-ts",children:I?(0,O.jsxs)(r.YI,{children:[(0,O.jsx)(r.$s,{className:"table-head-selected text-center  text-c pad_bt ",width:"4.3%",children:(0,O.jsx)(f.A,{id:"flexCheckDefault",className:"checkbox_design",checked:D,onChange:G,disabled:j.some((e=>!K(e)))})}),(0,O.jsx)(r.$s,{className:"table-head-selected  text-c align_con_cen",colSpan:"5",children:(0,O.jsx)("span",{style:{color:"#f50505"},children:I})}),(0,O.jsx)(r.$s,{className:"table-head-selected ",style:{textAlign:"right"},width:"30%",children:(0,O.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:(0,O.jsx)("button",{className:"btn",style:{fontSize:"13px",color:"white",backgroundColor:"#ee0f1e",height:"36px",width:"100px"},disabled:!W||S,onClick:()=>(async()=>{const e=j.filter((e=>e.isChecked)).map((e=>({activity_date:C()(e.activity_date).format("YYYY-MM-DD"),product:parseInt(e.product,10),task:e.task,hours:"string"===typeof e.hours?e.hours:C()(e.hours.$d).format("HH:mm"),description:e.description,id:e.id})));A(!0);try{const t=await v.put("common/timesheet/activity/update",e,{headers:(0,o.dJ)("json")});X(),F(""),R(!1),n.oR.success(t.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),A(!1)}catch(t){A(!1),R(!1);const e=j.map((e=>({...e,isChecked:!1})));k(e),F("");const a=t.response.data;400===t.response.status&&X(),a?n.oR.error(a.message,{position:n.oR.POSITION.BOTTOM_RIGHT}):n.oR.error(t.message,{position:n.oR.POSITION.BOTTOM_RIGHT})}})(),children:"Submit"})})}),(0,O.jsx)(r.$s,{className:"table-head-selected ",style:{textAlign:"right"},width:"6%",children:(0,O.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,O.jsx)("div",{style:{width:"10%",display:"flex",justifyContent:"center"},children:(0,O.jsx)("button",{type:"button",className:"action-view cross-button",onClick:()=>ae("multiDelete",0,0),style:{padding:"4px 8px"},children:(0,O.jsx)(w.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#e40e2d"})})})})})]}):(0,O.jsxs)(r.YI,{children:[(0,O.jsx)(r.$s,{className:"table-head-draft text-c text-center",scope:"col",width:"4%",children:(0,O.jsx)(f.A,{className:"checkbox_design",id:"selectAllCheckbox",checked:D,onChange:G,disabled:j.some((e=>!K(e)))})}),(0,O.jsx)(r.$s,{className:"table-head-draft text-c text-center",scope:"col",width:"4%",children:"SI.No"}),(0,O.jsx)(r.$s,{className:"table-head-draft text-c ",width:"10%",scope:"col",children:"Activity Date"}),(0,O.jsx)(r.$s,{className:"table-head-draft text-c ",width:"15%",scope:"col",children:"Product"}),(0,O.jsx)(r.$s,{className:"table-head-draft text-c ",scope:"col  ",width:"20%",children:"Task"}),(0,O.jsx)(r.$s,{className:"table-head-draft text-c ",scope:"col",width:"10%",children:"No.of.Hours"}),(0,O.jsx)(r.$s,{className:"table-head-draft text-c ",scope:"col",width:"30%",children:"Remarks"}),(0,O.jsx)(r.$s,{className:"table-head-draft text-c text-center ",scope:"col",width:"6%",children:"Action"})]})}),(0,O.jsx)(r.jS,{children:j&&j.map(((e,t)=>(0,O.jsxs)(r.YI,{className:"my-3",children:[(0,O.jsx)(r.cC,{className:"activity-text-radio activity-text-index text-center pad-bottom",style:{cursor:K(e)?"default":"not-allowed",...K(e)?{}:{":hover":{cursor:"not-allowed"}}},width:"4%",children:(0,O.jsx)(f.A,{className:"checkbox_design",id:"flexCheckDefault-".concat(t),checked:e.isChecked,onChange:()=>(e=>{const t=[...j],a=t[e],s=K(a);a.isChecked=!!s&&!a.isChecked,k(t);let r=Q(t);r>=1?r===j.length&&r===t.filter((e=>e.isChecked)).length?(R(!0),F("".concat(r," rows selected"))):(R(!1),F("".concat(r," rows selected"))):(R(!1),F(""))})(t),disabled:!K(e)})}),(0,O.jsx)(r.cC,{className:"activity-text-index pad-bottom text-center",width:"4%",children:t+1}),(0,O.jsx)(r.cC,{className:"activity-text-draft-date pad-bottom",width:"10%",children:(0,O.jsx)(m.A,{variant:"borderless",id:"date",type:"date",name:"fieldName",placeholder:"Choose Date",className:"activity-date-draft input-lg pt-1",format:"DD MMM, YYYY",onChange:(e,a)=>J(t,"activity_date",e),suffixIcon:(0,O.jsx)("img",{src:c,alt:"Calendarimg",style:{width:"13px",height:"13px"}}),style:{fontWeight:"700"},defaultValue:C()(e.activity_date),max:C()(),active:!0,allowClear:!1})}),(0,O.jsx)(r.cC,{className:"activity-text-draft pad-bottom",width:"15%",children:(0,O.jsx)(x.A,{showSearch:!0,placeholder:"Choose Product",variant:"borderless",ref:U,onDropdownVisibleChange:q,className:"product-select",suffixIcon:(0,O.jsx)("img",{src:N,alt:N,style:{width:"12px",height:"7px"}}),dropdownStyle:{border:"#ffff"},style:{width:"100%"},onChange:e=>J(t,"product",e),options:d?[{label:(0,O.jsx)("div",{style:{textAlign:"center"},children:(0,O.jsx)(h.A,{title:!1,paragraph:{rows:5,width:"100%"}})}),value:"loading",disabled:!0}]:[{label:"Assigned Projects",options:Z},{label:"Other Projects",options:ee}].map((e=>({label:e.label,options:e.options.map((e=>({label:(0,O.jsxs)(b.A,{children:[(0,O.jsx)("span",{style:{backgroundColor:e.color,width:6,height:6,borderRadius:"50%",display:"inline-block",border:"none"}}),(0,O.jsx)("span",{style:{fontWeight:"600"},children:e.label})," "]}),value:e.value})))}))),value:e.product||null,filterOption:(e,t)=>{var a,s,r,n,o;const i=null===(a=t.label)||void 0===a||null===(s=a.props)||void 0===s||null===(r=s.children)||void 0===r||null===(n=r[1])||void 0===n||null===(o=n.props)||void 0===o?void 0:o.children;return i&&i.toLowerCase().includes(e.toLowerCase())}})}),(0,O.jsx)(r.cC,{className:"activity-text-task pad-bottom",width:"15%",children:(0,O.jsx)(x.A,{variant:!1,ref:U,onDropdownVisibleChange:q,suffixIcon:(0,O.jsx)(y.A,{className:"caredown-icon"}),className:"draft-form-custom-selects choose_task_box",id:"task-".concat(t),value:P.find((t=>t.value===e.task))||"",onChange:e=>J(t,"task",e),menuportaltarget:document.body,styles:{control:e=>({...e,fontSize:"14px",minWidth:"80px",minHeight:"46px",maxHeight:t<=1?"120px":"80px",zIndex:"1",border:"none",boxShadow:"none"}),menu:e=>({...e,fontSize:"14px",maxHeight:t<=1?"120px":"80px",overflowY:"auto","&::-webkit-scrollbar":{display:"none"}}),getOptionStyle:(e,t)=>({...e,height:"40px",display:"flex",alignItems:"center",padding:"8px 12px"})},options:u?[{label:(0,O.jsx)("div",{style:{textAlign:"center"},children:(0,O.jsx)(h.A,{title:!1,paragraph:{rows:5,width:"100%"}})}),value:"loading",disabled:!0}]:P,placeholder:"Choose Task"})}),(0,O.jsx)(r.cC,{className:"activity-text activity-text-time pad-bottom ",width:"10%",children:(0,O.jsx)(g.A,{variant:"borderless",className:"date_picker_box",placeholder:"",format:"HH:mm",suffixIcon:(0,O.jsx)(y.A,{className:"caredown-icon"}),defaultValue:C()(e.hours,"HH:mm"),showNow:!1,disabledTime:te,hideDisabledOptions:!0,allowClear:!1,style:{border:"none"},onChange:e=>J(t,"estimate_hours",e)})}),(0,O.jsx)(r.cC,{className:"activity-text activity-text-description pad-bottom",width:"30%",children:(0,O.jsx)(B,{id:"des-".concat(t),variant:"borderless",className:"draft_description",value:e.description,onChange:e=>J(t,"description",e.target.value),style:{color:"black",fontWeight:"600"},placeholder:"Enter Descriptions...",autoSize:{minRows:0,maxRows:1}})}),(0,O.jsx)(r.cC,{className:"text-c  text-center activity-text-status pad-bottom",width:"9%",children:(0,O.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,O.jsx)("button",{type:"button",className:"action-view cross-button",onClick:()=>{ae("singleDelete",0,e.id)},disabled:j[t].isChecked,style:{padding:"4px 8px"},children:(0,O.jsx)(w.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})})})]},t)))})]}),null===j&&!z||0===j.length&&!z?(0,O.jsx)("div",{className:"text-c text-center my-3 td-text",children:"No Data Found"}):z?(0,O.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,O.jsx)(r.JT,{color:"danger"})}):(0,O.jsx)("div",{})]}),(0,O.jsxs)(r.sK,{className:"my-3",children:[(0,O.jsx)(r.UF,{sm:10}),(0,O.jsx)(r.UF,{sm:2})]})]})};var P=a(28727),E=(a(25015),a(10446)),z=a.n(E);const L=e=>{let{formatDate:t}=e,a=(0,T.A)();const[n,i]=(0,s.useState)([]),[l,d]=(0,s.useState)(!0),u=(0,s.useRef)(null),h=(0,s.useRef)(0),f=(0,s.useRef)(!1),b=(0,s.useRef)(!0),g=(0,s.useRef)(null),[v,y]=(0,s.useState)(new AbortController),j=(0,s.useRef)(null),[w,k]=(0,s.useState)(!1);(0,s.useEffect)((()=>{b.current=!0,S()}),[]);const S=async()=>{let e,t;0===h.current&&(d(!0),i([]),v.abort(),e=new AbortController,y(e)),t=!1===f.current?"activity/raisedRequest/byuser?page=".concat(h.current,"&size=10&filter=").concat(f.current):!0===f.current&&null===g.current&&null!==u.current?"activity/raisedRequest/byuser?page=".concat(h.current,"&size=10&date=").concat(u.current,"&filter=").concat(f.current):!0===f.current&&null!==g.current&&null!==u.current?"activity/raisedRequest/byuser?page=".concat(h.current,"&size=10&date=").concat(u.current,"&filter=").concat(f.current,"&status=").concat(g.current):"activity/raisedRequest/byuser?page=".concat(h.current,"&size=10&filter=").concat(f.current,"&status=").concat(g.current);try{var s;const r=(await a.get(t,{headers:(0,o.dJ)("json"),signal:null===(s=e)||void 0===s?void 0:s.signal})).data.data;0===h.current?i(r):i((e=>{const t=new Set(e.map((e=>e.id))),a=r.filter((e=>!t.has(e.id)));return[...e,...a]})),r.length<10?b.current=!1:b.current=!0,h.current=h.current+1,d(!1)}catch(r){}},A=[{title:"SI.No",dataIndex:"index",key:"index",width:"4%",align:"center",render:(e,t,a)=>"noMoreData"===t.key?{children:null,props:{colSpan:0}}:a+1},{title:"Request Date",dataIndex:"requestDate",key:"requestDate",width:"7%",render:(e,a,s)=>"noMoreData"===a.key?{children:null,props:{colSpan:0}}:t(e)},{title:"Team member",dataIndex:"teamName",key:"teamName",width:"10%",render:(e,t,a)=>{return"noMoreData"===t.key?{children:null,props:{colSpan:0}}:(0,O.jsxs)("div",{title:e,children:[" ",(s=e,r=15,s.length<=r?s:s.slice(0,r)+"...")]});var s,r}},{title:"Reason",dataIndex:"reason",key:"reason",width:"25%",render:(e,t,a)=>"noMoreData"===t.key?(k(!0),{children:(0,O.jsx)("div",{style:{textAlign:"center"},children:(0,O.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),props:{colSpan:6}}):e},{title:"Approver Status",dataIndex:"status",key:"status",width:"8%",render:(e,t)=>{if("noMoreData"===t.key)return{children:null,props:{colSpan:0}};let a="";return"Approved"===e?a="font-green":"Reject"===e||"Rejected"===e?a="font-red":"Pending"===e?a="font-warning":"Resubmit"===e&&(a="font-info"),(0,O.jsxs)("div",{className:" ".concat(a),children:[(0,O.jsx)("span",{style:{fontSize:"16px"},children:"\u2022"})," ","Reject"===e?"Rejected":e]})}},{title:"Approver Remarks",dataIndex:"remarks",key:"remarks",width:"25%",render:(e,t,a)=>"noMoreData"===t.key?{children:null,props:{colSpan:0}}:e||"---"}],D=[...n.map(((e,t)=>({key:e.id,id:e.id,index:t+1,requestDate:e.requestDate,teamName:e.teamName,reason:e.reason,status:e.status,remarks:e.remarks})))];!b.current&&0!==D.length&&D.length>10&&D.push({key:"noMoreData",index:"",reason:"No more Data to load",requestDate:"",teamName:"",status:"",remarks:""});const R=(0,s.useCallback)(z()((()=>{if(!j.current)return;const{scrollTop:e,scrollHeight:t,clientHeight:a}=j.current;e+a>=t-10&&b.current&&!l&&(d(!0),b.current&&S())}),100),[b.current,l]);return(0,s.useEffect)((()=>{const e=document.querySelector(".design_table .ant-table-body");return e&&(j.current=e,e.addEventListener("scroll",R)),()=>{e&&e.removeEventListener("scroll",R)}}),[R]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(r.sK,{children:[(0,O.jsxs)(r.UF,{xs:12,sm:6,md:8,children:[(0,O.jsx)("h6",{className:"timesheet-heading mt-3",style:{marginLeft:"30px"},children:"Raised Request - Time Sheet"}),(0,O.jsx)(p.A,{style:{marginLeft:"30px"},className:"bread-tab",separator:(0,O.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,O.jsx)(Y.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,O.jsx)("span",{className:"text-secondary second-subheading",style:{cursor:"default"},children:"Raised Request"})}]})]}),(0,O.jsx)(r.UF,{xs:6,sm:3,md:2,children:(0,O.jsx)("div",{children:(0,O.jsx)(m.A,{style:{marginLeft:"30px"},variant:"borderless",id:"date",type:"date",name:"fieldName",placeholder:"Choose Date",className:"form-input-draft input-lg date-picker  raised_selectbox",suffixIcon:(0,O.jsx)("img",{src:c,alt:"Calendarimg",style:{width:"13px",height:"13px"}}),onChange:(e,t)=>((e,t)=>{if(h.current=0,b.current=!0,f.current=!0,i([]),d(!0),""===e&&null===g.current)u.current=null,f.current=!1;else if(""===e&&null!==g.current)u.current=null,f.current=!0;else if(null!==g.current||""!==e){f.current=!0;const t=C()(e,"DD MMM, YYYY").format("YYYY-MM-DD");u.current=t}S()})(t),format:"DD MMM, YYYY",allowClear:!0,max:C()(),disabledDate:e=>e&&e>C()().endOf("day")})})}),(0,O.jsx)(r.UF,{xs:6,sm:3,md:2,children:(0,O.jsxs)(x.A,{suffixIcon:(0,O.jsx)("img",{src:N,alt:"Downarrowimg",style:{width:"12px",height:"7px"}}),placeholder:"Choose Status",className:"form-input-draft input-lg  raised_selectbox ".concat("Approved"===g.current?"present-color":"Rejected"===g.current?"leave-color":"warnings-color"),value:g.current,allowClear:!0,onChange:e=>{h.current=0,b.current=!0,f.current=!0,i([]),d(!0),void 0===e&&null===u.current?(g.current=null,f.current=!1):null!==u.current&&void 0!==e?(f.current=!0,g.current=e):null!==u.current&&void 0===e?(f.current=!0,g.current=null):(f.current=!0,g.current=e),S()},children:[(0,O.jsx)(x.A.Option,{value:"Approved",style:{color:"#00ab55",fontWeight:"600"},children:"Approved"}),(0,O.jsx)(x.A.Option,{value:"Rejected",style:{color:"#e40e2d",fontWeight:"600"},children:"Rejected"}),(0,O.jsx)(x.A.Option,{value:"Pending",style:{color:"#ffaa00",fontWeight:"600"},children:"Pending"})]})})]}),(0,O.jsxs)("div",{className:"mt-2 design_table",children:[(0,O.jsx)("style",{children:"\n            .design_table .ant-table-body::-webkit-scrollbar {\n              display: none !important;\n            }\n          "}),(0,O.jsx)(P.A,{columns:A,dataSource:D,pagination:!1,size:"middle",className:"".concat(w?"last-row-table":""),scroll:{y:490},loading:{spinning:l,indicator:(0,O.jsx)(r.JT,{color:"danger"})}})]})]})};var W=a(12834);const{TextArea:B}=M.A,U=e=>{let{isOpen:t,closeModal:a,viewActivity:i,taskList:l,productList:c}=e,d=(0,T.A)();const[u,h]=(0,s.useState)(i.description),[m,f]=(0,s.useState)([]),[b,v]=(0,s.useState)(i.productId),[j,w]=(0,s.useState)(i.taskName),[k,S]=(0,s.useState)(),A=(0,s.useRef)(null),[N,D]=(0,s.useState)(!1),[R,I]=(0,s.useState)(!1),[M,H]=(0,s.useState)({product:"",tasks:"",hrs:"",description:""}),_=(0,s.useRef)(null),F=e=>{!e&&_.current&&_.current.blur()};(0,s.useEffect)((()=>{const e=i.hours,[t,a]=e.split(":").map(Number),s=C()().set("hour",t).set("minute",a);S(s);const r=new Set(m.map((e=>e.value)));r.has(i.taskName)||r.add(i.taskName),l.forEach((e=>{r.has(e)||r.add(e)}));const n=Array.from(r).map((e=>({value:e,label:e})));f(n)}),[i]);const P=()=>{a()},E=c.map((e=>({value:e.id,label:e.name})));return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(r.sK,{children:[(0,O.jsx)(r.UF,{sm:1,style:{width:"20px"},className:"cancle-arrow-content",children:(0,O.jsx)("span",{style:{cursor:"pointer",marginRight:"2px"},onClick:a,children:(0,O.jsx)(W.A,{width:"16",height:"15",viewBox:"0 0 18 18",fill:"#A5A1A1"})})}),(0,O.jsxs)(r.UF,{children:[(0,O.jsx)("h6",{className:"draft-heading-edit",style:{marginTop:"29px"},children:"Edit Rejected Activity - Time Sheet"}),(0,O.jsx)(p.A,{className:"bread-tab",separator:(0,O.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,O.jsx)(Y.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary first-subheading-edit",children:"Dashboard"})},{title:(0,O.jsx)("span",{className:"bread-items text-secondary second-subheading",style:{cursor:"pointer"},onClick:P,children:"Submitted - Time Sheet"})},{title:(0,O.jsx)("span",{className:"text-secondary second-subheading",style:{cursor:"default"},children:"Edit Rejected Activity - Time Sheet"})}]}),(0,O.jsxs)(r.qI,{className:"mt-4 mx-2 needs-validation",ref:A,validated:N,onSubmit:async e=>{e.preventDefault();const t=e.currentTarget;if((()=>{const e={product:"",tasks:"",hrs:"",description:""};return 0!==b&&void 0!==b||(e.product="Please Select Product Name"),void 0===j&&(e.tasks="Please Select Task Name"),null===k&&(e.hrs="Please Enter Hours"),""===u&&(e.description="Please Enter Description"),H(e),!(""!==e.tasks||""!==e.product||""!==e.hrs||""!==e.description)})())if(!1===t.checkValidity())e.preventDefault(),e.stopPropagation(),D(!0);else{I(!0);const e={product:b,task:j,activity_date:i.activity_date,description:u,hours:C()(k.$d).format("HH:mm")},t="common/timesheet/activity/update/"+i.id;await d.put(t,e,{headers:(0,o.dJ)("json")}).then((e=>{I(!1),208===e.status?n.oR.error(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}):(n.oR.success(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),A.current&&A.current.reset(),P())})).catch((e=>{const t=e.response.data;I(!1),t?n.oR.error(t.message,{position:n.oR.POSITION.BOTTOM_RIGHT}):n.oR.error(e.message,{position:n.oR.POSITION.BOTTOM_RIGHT})}))}},children:[(0,O.jsxs)(r.sK,{children:[(0,O.jsxs)(r.UF,{sm:3,children:[(0,O.jsxs)("div",{className:"label-field-container",children:[(0,O.jsxs)(r.A6,{className:"form-label text-c",htmlFor:"validationCustom01",children:["Product ",(0,O.jsx)("span",{className:"red-text1",children:"*"})]}),(0,O.jsx)(x.A,{className:"custom-select_submitted",suffixIcon:(0,O.jsx)(y.A,{className:"caretdownicon"}),id:"products",value:E.find((e=>e.value===b))||void 0,onChange:e=>v(e),showSearch:!0,ref:_,onDropdownVisibleChange:F,allowClear:!0,filterOption:(e,t)=>t.label.toLowerCase().indexOf(e.toLowerCase())>=0,dropdownRender:e=>(0,O.jsx)("div",{style:{maxHeight:"120px",overflow:"auto"},role:"listbox",children:e}),options:E,placeholder:"Choose Product",getPopupContainer:e=>e.parentNode})]}),(0,O.jsx)("span",{className:"text-danger nameflow-error ",children:M.product})]}),(0,O.jsxs)(r.UF,{sm:3,children:[(0,O.jsxs)("div",{className:"label-field-container",children:[(0,O.jsxs)(r.A6,{className:"form-label text-c",htmlFor:"validationCustom01",children:["Task ",(0,O.jsx)("span",{className:"red-text1",children:"*"})]}),(0,O.jsx)(x.A,{className:"custom-select_submitted ",suffixIcon:(0,O.jsx)(y.A,{className:"caretdownicon"}),id:"task",value:m.find((e=>e.value===j))||void 0,onChange:e=>w(e),showSearch:!0,allowClear:!0,ref:_,onDropdownVisibleChange:F,filterOption:(e,t)=>t.label.toLowerCase().indexOf(e.toLowerCase())>=0,dropdownRender:e=>(0,O.jsx)("div",{style:{maxHeight:"120px",overflow:"auto"},role:"listbox",children:e}),options:m,placeholder:"Choose Task",getPopupContainer:e=>e.parentNode})]}),(0,O.jsx)("span",{className:"text-danger nameflow-error ",children:M.tasks})]}),(0,O.jsxs)(r.UF,{sm:3,children:[(0,O.jsxs)("div",{className:"label-field-container",children:[(0,O.jsxs)(r.A6,{className:"form-label text-c",htmlFor:"validationCustom01",children:["Hours ",(0,O.jsx)("span",{className:"red-text1",children:"*"})]}),(0,O.jsx)(g.A,{variant:"borderless",placeholder:"HH:mm",format:"HH:mm",className:"border-0  time-border-bottom",suffixIcon:(0,O.jsx)(y.A,{className:"caretdownicon"}),value:C()(k,"HH:mm"),style:{width:"90%",marginTop:"9px"},showNow:!1,disabledHours:()=>{const e=[];for(let t=0;t<24;t++)(t<0||t>9)&&e.push(t);return e},disabledMinutes:e=>9===e?[...Array(60).keys()].slice(1):0===e?[0]:[],hideDisabledOptions:!0,allowClear:!1,onChange:e=>S(e)})]}),(0,O.jsx)("span",{className:"text-danger nameflow-error ",children:M.hrs})]}),(0,O.jsxs)(r.UF,{sm:3,children:[(0,O.jsxs)("div",{className:"label-field-container",children:[(0,O.jsxs)(r.A6,{className:"form-label text-c",htmlFor:"validationCustom01",children:["Description ",(0,O.jsx)("span",{className:"red-text1",children:"*"})]}),(0,O.jsx)(B,{id:"Description",variant:"borderless",value:u,className:"des-boder-input",onChange:e=>h(e.target.value),style:{color:"black",padding:"0px "},placeholder:"Enter Descriptions...",autoSize:{minRows:0,maxRows:2}})]}),(0,O.jsx)("span",{className:"text-danger nameflow-error ",children:M.description})]})]}),(0,O.jsx)("div",{style:{position:"absolute",bottom:"100px",left:0,right:0},children:(0,O.jsxs)(r.sK,{className:"m-3",children:[(0,O.jsx)(r.UF,{sm:6}),(0,O.jsxs)(r.UF,{sm:6,className:"d-flex justify-content-end align-items-center",children:[(0,O.jsx)(r.Q_,{className:"cancel-btn text-c",onClick:a,children:"Cancel"}),(0,O.jsx)(r.Q_,{className:"submit-button submit-timesheet ",style:{fontSize:"13px",color:"white"},type:"submit",disabled:R,children:"Update"})]})]})})]})]})]})})};var q=a(43003),G=a(58568),Q=a(73216);const $=e=>{let{today:t,taskList:a,productList:n}=e,i=(0,T.A)();const l=(0,D.wA)(),d=(0,Q.Zp)(),[u,x]=(0,s.useState)(C()()),[f,b]=(0,s.useState)([]),[g,v]=(0,s.useState)(null),[y,j]=(0,s.useState)(""),[w,k]=(0,s.useState)(!1),[S,A]=(0,s.useState)(!1),N=(0,o.pU)(),I=null===N||void 0===N?void 0:N.roleIntake,[M,H]=(0,s.useState)(!0),[_,F]=(0,s.useState)(!0),E=(0,s.useRef)(null),L=(0,s.useRef)(0),W=(0,s.useRef)(!1),B=(0,s.useRef)(!0),$=(0,s.useRef)(!1),[K,J]=(0,s.useState)(new AbortController),X=(0,D.d4)((e=>e.timesheet.existingDates)),V=(0,Q.zy)(),Z=(0,s.useRef)(null),ee=(0,s.useRef)(null),[te,ae]=(0,s.useState)(!1);(0,s.useEffect)((()=>{B.current=!0;const e=new URLSearchParams(V.search).get("id");e?(Z.current=e,$.current=!0,H(!1),re(e)):($.current=!1,se());const t=C()(u).format("YYYY-MM");l((0,R.Sg)(t)),F(!1)}),[]);const se=async()=>{let e,t;0===L.current&&(H(!0),b([]),K.abort(),e=new AbortController,J(e)),!1===W.current?t="common/timesheet/activity/submit-list?page=".concat(L.current,"&size=10&filter=").concat(W.current):null!==E.current&&(t="common/timesheet/activity/submit-list?page=".concat(L.current,"&size=10&date=").concat(E.current,"&filter=").concat(W.current));try{var a;const s=(await i.get(t,{headers:(0,o.dJ)("json"),signal:null===(a=e)||void 0===a?void 0:a.signal})).data.data;0===L.current?b(s):b((e=>{const t=new Set(e.map((e=>e.id))),a=s.filter((e=>!t.has(e.id)));return[...e,...a]})),s.length<10?B.current=!1:B.current=!0,L.current=L.current+1,H(!1)}catch(s){}},re=async e=>{const t="common/timesheet/taskActivitydata?id=".concat(e);try{const e=(await i.get(t,{headers:(0,o.dJ)("json")})).data.data;b(e),H(!1)}catch(a){}},ne=async e=>{l((0,R.Vt)(e)).then((e=>{const t=e.data.data;v(t),"Reject"===t.approvedStatus?j("supervisor"):"Reject"===t.finalApproveStatus&&j("final_approver"),A(!0),k(!0)})).catch((e=>{}))},oe=(e,t)=>e.length<=t?e:e.slice(0,t)+"...",ie=[{title:"SI.No",dataIndex:"index",key:"index",width:"4%",align:"center",render:(e,t,a)=>"noMoreData"===t.key?{children:null,props:{colSpan:0}}:a+1},{title:"Activity Date",dataIndex:"activity_date",key:"activity_date",width:"7%",render:(e,t,a)=>"noMoreData"===t.key?{children:null,props:{colSpan:0}}:(0,q.Yq)(e)},{title:"Product",dataIndex:"productName",key:"productName",width:"10%",render:(e,t,a)=>"noMoreData"===t.key?(ae(!0),{children:(0,O.jsx)("div",{style:{textAlign:"center"},children:(0,O.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),props:{colSpan:9}}):(0,O.jsxs)("span",{className:"",title:t.productName,children:[!0===t.assignedStatus&&(0,O.jsx)("span",{style:{fontSize:"16px",color:"#00ab55"},children:"\u2022"}),!1===t.assignedStatus&&(0,O.jsx)("span",{style:{fontSize:"16px",color:"#ffaa00"},children:"\u2022"}),(0,O.jsx)("span",{style:{marginLeft:"5px"},children:oe(t.productName,13)})]})},{title:"Task",dataIndex:"taskName",key:"taskName",width:"10%",render:(e,t,a)=>"noMoreData"===t.key?{children:null,props:{colSpan:0}}:(0,O.jsxs)("div",{title:e,children:[" ",oe(e,15)]})},{title:"No.of.Hours",dataIndex:"hours",key:"hours",width:"7%",render:(e,t,a)=>"noMoreData"===t.key?{children:null,props:{colSpan:0}}:(0,q.zA)(t.hours)},{title:"Approver Status",dataIndex:"approvedStatus",key:"approvedStatus",width:"8%",render:(e,t)=>{if("noMoreData"===t.key)return{children:null,props:{colSpan:0}};let a="";return"Approved"===e?a="font-green":"Reject"===e||"Rejected"===e?a="font-red":"Pending"===e?a="font-warning":"Resubmit"===e&&(a="font-info"),(0,O.jsxs)("div",{className:" ".concat(a),children:[(0,O.jsx)("span",{style:{fontSize:"16px"},children:"\u2022"})," ","Reject"===e?"Rejected":e]})}},{title:"Final Status",dataIndex:"Contract"===I?"finalApproveStatus":"ownerStatus",key:"Contract"===I?"finalApproveStatus":"ownerStatus",width:"8%",render:(e,t)=>{if("noMoreData"===t.key)return{children:null,props:{colSpan:0}};let a="";if("Contract"===I)switch(e){case"Approved":a="green-text1";break;case"Reject":case"Rejected":a="red-text1";break;case"Not Yet":a="info-text1";break;case"TL Approved":a="warning-text1";break;default:a="not-text1"}else switch(e){case"Approved":a="green-text1";break;case"Reject":case"Rejected":a="red-text1";break;case"Not Yet":case"Supervisor Not Approved":a="info-text1";break;case"Pending":a="warning-text1";break;default:a="not-text1"}return(0,O.jsxs)("div",{className:" ".concat(a),children:[null!==e&&(0,O.jsx)("span",{style:{fontSize:"16px"},children:"\u2022"})," ","Reject"===e?"Rejected":null===e?"--":e]})}},{title:"Remarks",dataIndex:"description",key:"description",width:"15%",render:(e,t,a)=>"noMoreData"===t.key?{children:null,props:{colSpan:0}}:(0,O.jsxs)("div",{title:e,children:[" ",oe(e,30)]})},{title:"Action",dataIndex:"action",key:"action",width:"5%",align:"center",render:(e,t)=>{if("noMoreData"===t.key)return{children:null,props:{colSpan:0}};let a;return a="Reject"===t.approvedStatus||"Reject"===t.finalApproveStatus||"Reject"===t.ownerStatus?(0,O.jsx)("button",{type:"button",className:"action-view edit-button ",onClick:()=>ne(t.id),style:{padding:"4px 8px"},children:(0,O.jsx)(G.A,{width:"13",height:"13",viewBox:"0 0 18 18",fill:"none",color:"white",clipH:"18",clipW:"18"})}):"--",a}}],le=[...f.map(((e,t)=>({key:e.id,id:e.id,index:t+1,activity_date:e.activity_date,productName:e.productName,taskName:e.taskName,hours:e.hours,description:e.description,finalApproveStatus:e.finalApproveStatus,approvedStatus:e.approvedStatus,ownerStatus:e.ownerStatus,assignedStatus:e.assignedStatus})))];!B.current&&0!==le.length&&le.length>10&&le.push({key:"noMoreData",index:"",productName:"No more Data to load",taskName:"",hours:"",description:"",action:"",finalApproveStatus:"",approvedStatus:"",ownerStatus:"",assignedStatus:""});const ce=(0,s.useCallback)(z()((()=>{if(!ee.current)return;const{scrollTop:e,scrollHeight:t,clientHeight:a}=ee.current;e+a>=t-10&&B.current&&!M&&(H(!0),B.current&&se())}),100),[B.current,M]);return(0,s.useEffect)((()=>{const e=document.querySelector(".design_table .ant-table-body");return e&&(ee.current=e,e.addEventListener("scroll",ce)),()=>{e&&e.removeEventListener("scroll",ce)}}),[ce]),(0,O.jsx)(O.Fragment,{children:S?(0,O.jsxs)(O.Fragment,{children:[" ",w&&(0,O.jsx)(U,{isOpen:w,closeModal:()=>{A(!1),k(!1),B.current=!0,W.current=!1,L.current=0,b([]),!0===$.current?re(Z.current):se()},viewActivity:g,taskList:a,statusApprove:y,productList:n})]}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(r.sK,{children:[(0,O.jsxs)(r.UF,{xs:12,sm:8,md:$.current?8:9,children:[(0,O.jsx)("h6",{className:"timesheet-heading mt-3",style:{marginLeft:"30px"},children:"Submitted - Time Sheet"}),(0,O.jsx)(p.A,{style:{marginLeft:"30px"},className:"bread-tab",separator:(0,O.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,O.jsx)(Y.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,O.jsx)("span",{className:"text-secondary second-subheading",style:{cursor:"default"},children:"Submitted Activity"})}]})]}),(0,O.jsx)(r.UF,{xs:2,sm:2,className:"draft-sumbit-button ",children:(0,O.jsx)(r.sK,{children:(0,O.jsx)(r.UF,{className:"draft-rightside-header draft-rs-datepicker submit_datepicker",children:(0,O.jsx)(m.A,{variant:"borderless",id:"date",type:"date",name:"fieldName",placeholder:"Choose Date",className:"form-input-draft input-lg date-picker activity-date ",onChange:(e,t)=>{if(null!==e){const t=C()(e,"DD MMM, YYYY").format("YYYY-MM-DD");E.current=t,W.current=!0}else E.current=null,W.current=!1;H(!0),b([]),x(e),L.current=0,se()},format:"DD MMM, YYYY",suffixIcon:(0,O.jsx)("img",{src:c,alt:"Calendarimg",style:{width:"13px",height:"13px"}}),onPanelChange:async(e,t)=>{if("date"===t){F(!0);const t=C()(e).format("YYYY-MM");try{await l((0,R.Sg)(t))}catch(a){}finally{setTimeout((()=>{F(!1)}),1e3)}}},max:t,active:!0,allowClear:!0,cellRender:e=>{if(_)return(0,O.jsx)("div",{style:{textAlign:"center"},children:Array.from({length:1},((e,t)=>(0,O.jsx)(h.A,{title:!1,paragraph:{rows:1,width:"100%",height:"10px",style:{height:"10px !important"}}},t)))});if(!X)return null;const t=(X.SubmittedList||[]).includes(e.format("YYYY-MM-DD")),a=e.isSame(u,"day"),s=a?"white":t?"green":"black",r=a?"normal":t?"bold":"normal",n=a?"#e40e2d":"transparent",o=a?"50%":"0%",i=a?"24px":"auto",l=a?"24px":"auto",c=a?"inline-block":"initial",d=a?"24px":"initial";return(0,O.jsx)("div",{style:{color:s,fontWeight:r,backgroundColor:n,borderRadius:o,minWidth:i,height:l,display:c,lineHeight:d},children:e.date()})},disabled:$.current,disabledDate:e=>{if(!X)return!0;return!(X.SubmittedList||[]).includes(e.format("YYYY-MM-DD"))}})})})}),$.current&&(0,O.jsx)(r.UF,{xs:3,sm:1,children:(0,O.jsx)("div",{style:{marginTop:"33%"},children:(0,O.jsx)(r.Q_,{className:"submit-button submit-timesheet-share ",style:{fontSize:"13px",color:"white"},type:"button",onClick:()=>{d("/timesheet")},children:"clear"})})})]}),(0,O.jsxs)("div",{className:"mt-2 design_table",children:[(0,O.jsx)("style",{children:"\n              .design_table .ant-table-body::-webkit-scrollbar {\n                display: none !important;\n              }\n              "}),(0,O.jsx)(P.A,{columns:ie,dataSource:le,size:"middle",className:"".concat(te?"last-row-table":""),rowKey:"id",pagination:!1,scroll:{y:490},loading:{spinning:M,indicator:(0,O.jsx)(r.JT,{color:"danger"})}})]})]})})};var K=a(87021),J=a(2822),X=a(78198);const V=e=>{let{formatDate:t}=e,a=(0,T.A)();const[i,l]=(0,s.useState)(null),[d,u]=(0,s.useState)([]),[h,x]=(0,s.useState)(!1),[f,b]=(0,s.useState)(),[g,v]=(0,s.useState)(new AbortController),y=(0,s.useRef)(!0),j=(0,s.useRef)(0),[w,k]=(0,s.useState)(!0),S=(0,s.useRef)(null),[A,N]=(0,s.useState)(!1);(0,s.useEffect)((()=>{y.current=!0,D()}),[]);const D=async e=>{let t,s;0===j.current&&(k(!0),u([]),g.abort(),t=new AbortController,v(t)),s=null===e||void 0===e?"activity/attendanceSheet/byuser?page=".concat(j.current,"&size=10"):"activity/attendanceSheet/byuser?page=".concat(j.current,"&size=10&date=").concat(e);try{var r;const e=(await a.get(s,{headers:(0,o.dJ)("json"),signal:null===(r=t)||void 0===r?void 0:r.signal})).data.data;0===j.current?u(e.content):u((t=>[...t,...e.content])),!0===e.last?y.current=!1:y.current=!0,j.current=j.current+1,k(!1)}catch(n){}},R=[{title:"SI.No",dataIndex:"index",key:"index",width:"4%",align:"center",render:(e,t,a)=>"noMoreData"===t.key?{children:null,props:{colSpan:0}}:a+1},{title:"Date",dataIndex:"appliedDate",key:"appliedDate",width:"7%",render:(e,a,s)=>"noMoreData"===a.key?{children:null,props:{colSpan:0}}:t(e)},{title:"Remarks",dataIndex:"status",key:"status",width:"45%",render:(e,t,a)=>"noMoreData"===t.key?(N(!0),{children:(0,O.jsx)("div",{style:{textAlign:"center"},children:(0,O.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),props:{colSpan:4}}):e},{title:"Withdraw",dataIndex:"action",key:"action",width:"5%",align:"center",render:(e,t)=>"noMoreData"===t.key?{children:null,props:{colSpan:0}}:(0,O.jsx)(K.Ay,{className:"btn border-0 text-c text-secondary cross-button",style:{fontSize:"12px",padding:"4px 8px"},onClick:()=>{return e=t.id,a=t.appliedDate,x(!0),b(e),void l(C()(a).format("DD MMM, YYYY"));var e,a},children:(0,O.jsx)(J.A,{width:"15",height:"18",viewBox:"0 0 15 18",fill:"#A5A1A1"})})}],I=[...d.map(((e,t)=>({key:e.id,id:e.id,index:t+1,appliedDate:e.appliedDate,status:e.status})))];!y.current&&0!==I.length&&I.length>10&&I.push({key:"noMoreData",index:"",status:"No more Data to load",appliedDate:"",action:""});const M=(0,s.useCallback)(z()((()=>{if(!S.current)return;const{scrollTop:e,scrollHeight:t,clientHeight:a}=S.current;e+a>=t-10&&y.current&&!w&&(k(!0),y.current&&D())}),100),[y.current,w]);return(0,s.useEffect)((()=>{const e=document.querySelector(".design_table .ant-table-body");return e&&(S.current=e,e.addEventListener("scroll",M)),()=>{e&&e.removeEventListener("scroll",M)}}),[M]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(r.sK,{children:[(0,O.jsxs)(r.UF,{xs:12,sm:6,md:9,children:[(0,O.jsx)("h6",{className:"timesheet-heading mt-3",style:{marginLeft:"30px"},children:"Leave History - Time Sheet"}),(0,O.jsx)(p.A,{style:{marginLeft:"30px"},className:"bread-tab",separator:(0,O.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,O.jsx)(Y.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,O.jsx)("span",{className:"text-secondary second-subheading",style:{cursor:"default"},children:"Leave History - Time Sheet"})}]})]}),(0,O.jsx)(r.UF,{xs:2,sm:2,className:"draft-sumbit-button ",children:(0,O.jsx)(r.sK,{children:(0,O.jsx)(r.UF,{className:"draft-rightside-header draft-rs-datepicker submit_datepicker",children:(0,O.jsx)(m.A,{variant:"borderless",id:"date",type:"date",name:"fieldName",placeholder:"Choose Date",className:"form-input-draft input-lg date-picker activity-date ",onChange:(e,t)=>{const a=C()(e).format("YYYY-MM-DD");j.current=0,y.current=!0,k(!0),u([]),void 0===e||null===e?D():D(a)},format:"DD MMM, YYYY",suffixIcon:(0,O.jsx)("img",{src:c,alt:"Calendarimg",style:{width:"13px",height:"13px"}}),max:C()(),active:!0,allowClear:!0})})})})]}),(0,O.jsxs)("div",{className:"mt-2 design_table",children:[(0,O.jsx)("style",{children:"\n            .design_table .ant-table-body::-webkit-scrollbar {\n              display: none !important;\n            }\n          "}),(0,O.jsx)(P.A,{columns:R,dataSource:I,rowKey:"id",size:"middle",pagination:!1,scroll:{y:490},className:"".concat(A?"last-row-table":""),loading:{spinning:w,indicator:(0,O.jsx)(r.JT,{color:"danger"})}})]}),h&&(0,O.jsx)(X.A,{isModalOpen:h,handleCancel:()=>{x(!1)},handleApprove:async e=>{const t="activity/attendance/delete?id=".concat(e);try{const e=await a.put(t,null,{headers:(0,o.dJ)("json")});if(e&&e.data)return n.oR.success(e.data.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),e.data;throw new Error("Empty response received from the server")}catch(s){throw n.oR.error(s.message,{position:n.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),s}},id:f,headContent:"Leave Widthraw",date:i,resetFunc:()=>{j.current=0,u([]),k(!0),y.current=!0,D(),x(!1)}})]})};var Z=a(49894);const ee=a.p+"static/media/calendar.e9b813aeff5fc6a2b0e5d153cba810b0.svg";var te=a(22019);var ae=a(50423);const{MonthPicker:se}=m.A,re=e=>{let{formatDate:t}=e,a=(0,T.A)();const n=(0,o.pU)(),i=null===n||void 0===n?void 0:n.jod,l=(0,s.useRef)(),c=(0,s.useRef)(!1),d=(0,s.useRef)(!1),u=(0,s.useRef)(0),h=(0,s.useRef)(10),f=(0,s.useRef)(C()().format("MM")),b=(0,s.useRef)(C()().format("YYYY")),[g,v]=(0,s.useState)(C()()),[y,j]=(0,s.useState)(null),[w,k]=(0,s.useState)([]),[S,A]=(0,s.useState)([]),[D,R]=(0,s.useState)(!0),Y=(0,s.useRef)(!0);(0,s.useEffect)((()=>{I(y)}),[]);const I=async e=>{let t;t=null!==e?"userbased?month=".concat(f.current,"&year=").concat(b.current,"&checkShortfallHours=").concat(c.current,"&excesshours=").concat(d.current,"&size=").concat(h.current,"&page=").concat(u.current,"&date=").concat(e):"userbased?month=".concat(f.current,"&year=").concat(b.current,"&checkShortfallHours=").concat(c.current,"&excesshours=").concat(d.current,"&size=").concat(h.current,"&page=").concat(u.current);try{const e=(await a.get(t,{headers:(0,o.dJ)("json")})).data.data;k(e.data),(e.data.length<h.current||u.current===e.totalPages-1)&&(Y.current=!1),R(!1)}catch(s){}},[M,H]=(0,s.useState)({chart:{type:"",height:350,width:300,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"45%",barGap:"50%",endingShape:"rounded",borderRadius:7,borderRadiusWhenStacked:"last",borderRadiusApplication:"end",dataLabels:{position:"top"},rangeBarOverlap:!0,width:"20%"}},states:{hover:{filter:{type:"none"}}},dataLabels:{enabled:!1},legend:{show:!0,showForSingleSeries:!0,position:"top",horizontalAlign:"right",markers:{shape:"circle",radius:6,width:"9px",height:"9px"},customLegendItems:["Shortfall","Leave","Actual Work Hours","TimeSheet Entered","Regularization"],onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},colors:["#ff4c4c","#FF7D90","#357AF6","#5CC8BE","#FFA657"],stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:[],style:{width:"50px",color:"#5C5C5C",fontWeight:600,fontSize:"13px"},title:{text:"Date & Day",style:{color:"#6D6D6D",fontWeight:600,fontSize:"12px"}}},yaxis:{min:0,max:12,title:{text:"Hours",style:{color:"#6D6D6D",fontWeight:600,fontSize:"12px"}}},fill:{colors:["#4CAF50","#FF7D90","#FFC107","#F44336"]},tooltip:{style:{background:"none"},custom:function(e){let{series:t,seriesIndex:a,dataPointIndex:s,w:r}=e;const n=r.globals.initialSeries[a].data[s];return n&&void 0!==n.signIn&&void 0!==n.signOut&&void 0!==n.shortfallHours&&void 0!==n.excessHours?'<div style="width: 275px;">\n          <div style="font-weight: bold; color: #505050; box-shadow: 0px 4.41px 48.5px 0px #0000001A; padding: 10px;height:45px;background:#FFFFFF">'.concat(n.name,' <span style="font-size:11px;color:#A7A7A7;margin-left:5px">').concat(n.date,'</span></div><br/>\n          <div style="padding-left:15px">\n          <div class="row">\n          <div class="col-sm-6">\n          <span style="font-size:11px;color:#505050;">Swipe in</span></br>\n          <div style="height: 25px;width: 100px;background: #F4F4F4;"><span style="font-size:15px;color:#909090;padding-left:5px;padding-top:5px;">').concat(n.signIn,'</span></div></br>\n          </div>\n          <div class="col-sm-6"><span style="font-size:11px;color:#505050;">Swipe out</span></br>\n          <div style="height: 25px;width: 100px;background: #F4F4F4;"><span style="font-size:15px;padding-left:5px;padding-top:5px;color:#909090;">').concat(n.signOut,'</span></div></br>\n          </div>\n          </div>\n          <div class="row">\n          <div class="col-sm-6">\n          <span style="font-size:11px;color:#505050;">Total Work Hrs</span></br>\n          <div style="height: 25px;width: 100px;background: #F4F4F4;"><span style="font-size:15px;padding-left:5px;padding-top:5px;color:#909090;">').concat(n.totalWorkHours,'</span></div></br>\n          </div>\n          <div class="col-sm-6"><span style="font-size:11px;color:#505050;">Actual Work Hrs</span></br>\n          <div style="height: 25px;width: 100px;background: #F4F4F4;"><span style="font-size:15px;padding-left:5px;padding-top:5px;color:#909090;">').concat(n.actualWorkHours,'</span></div></br>\n          </div>\n          </div>\n          <div class="row">\n          <div class="col-sm-6">\n          <span style="font-size:11px;color:#505050;">Shortfall Hrs</span></br>\n          <div style="height: 25px;width: 100px;background: #F4F4F4;"><span style="font-size:15px;padding-left:5px;padding-top:5px;color:#909090;">').concat(n.shortfallHours,'</span></div></br>\n          </div>\n          <div class="col-sm-6"><span style="font-size:11px;color:#505050;">Excess Hrs</span></br>\n          <div style="height: 25px;width: 100px;background: #F4F4F4;"><span style="font-size:15px;padding-left:5px;padding-top:5px;color:#909090;">').concat(n.excessHours,'</span></div></br>\n          </div>\n          </div>\n          <div class="row">\n          <div class="col-sm-6">\n          <span style="font-size:11px;color:#505050;">Timesheet Entered Hrs</span></br>\n          <div style="height: 25px;width: 100px;background: #F4F4F4;"><span style="font-size:15px;padding-left:5px;padding-top:5px;color:#909090;">').concat(n.timesheetEnteredHours,"</span></div></br>\n          </div>\n          </div>\n          </div>\n          </div>"):""}}});(0,s.useEffect)((()=>{const e=null===w||void 0===w?void 0:w.map((e=>{const t=C()(e.date),a=t.format("ddd");return{formattedDate:t.format("D MMM"),dayOfWeek:a}}));H((t=>({...t,xaxis:{...t.xaxis,categories:e.map((e=>"".concat(e.formattedDate,"\n").concat(e.dayOfWeek))),labels:{style:{colors:[],fontSize:"12px"}}},plotOptions:{bar:{...t.plotOptions.bar,columnWidth:1===(null===w||void 0===w?void 0:w.length)?"5%":2===(null===w||void 0===w?void 0:w.length)?"10%":3===(null===w||void 0===w?void 0:w.length)?"14%":4===(null===w||void 0===w?void 0:w.length)?"18%":5===(null===w||void 0===w?void 0:w.length)?"23%":6===(null===w||void 0===w?void 0:w.length)?"28%":7===(null===w||void 0===w?void 0:w.length)?"32%":8===(null===w||void 0===w?void 0:w.length)?"35%":9===(null===w||void 0===w?void 0:w.length)?"38%":"45%",barGap:"10%",horizontal:!1,endingShape:"rounded",borderRadius:7,borderRadiusWhenStacked:"last",borderRadiusApplication:"end",dataLabels:{position:"top"}}}}))),A([{name:"Shortfall/Actual Work Hours",data:null===w||void 0===w?void 0:w.map((e=>(e=>{if(console.log(e.attendance,"item.attendance"),null!==e.attendance&&"Leave"!==e.attendance&&"leave"!==e.attendance){const t=e.attendance,a={x:e.date,fillColor:"",name:t.username,date:C()(e.date).format("DD-MM-YYYY"),employeeID:t.employeeID,signIn:t.signIn,signOut:t.signOut,totalWorkHours:t.totalWorkHours,actualWorkHours:t.acutalWorkHours,shortfallHours:t.shortfallHours,excessHours:t.excessHours,timesheetEnteredHours:t.timesheetHours};return"00:00"!==t.shortfallHours?(a.y=t.acutalWorkHours,a.fillColor="#ff4c4c"):!0===t.regularizationStatus?(a.y=t.acutalWorkHours,a.fillColor="#FFA657"):(a.y=t.acutalWorkHours,a.fillColor="#357AF6"),a}return"Leave"===e.attendance||"leave"===e.attendance?{x:e.date,y:12,columnWidth:"60%",fillColor:"#FF7D90"}:{x:e.date,y:12,columnWidth:"60%",fillColor:"#e1e1e1"}})(e)))},{name:"Timesheet Entered",data:null===w||void 0===w?void 0:w.map((e=>{if(null!==e.attendance&&"Leave"!==e.attendance&&"leave"!==e.attendance){const t=e.attendance;return{x:e.date,y:"00:00 Hrs"===(null===t||void 0===t?void 0:t.timesheetHours)?null:null===t||void 0===t?void 0:t.timesheetHours,fillColor:"#5CC8BE",name:null===t||void 0===t?void 0:t.username,date:C()(e.date).format("DD-MM-YYYY"),employeeID:null===t||void 0===t?void 0:t.employeeID,signIn:null===t||void 0===t?void 0:t.signIn,signOut:null===t||void 0===t?void 0:t.signOut,totalWorkHours:null===t||void 0===t?void 0:t.totalWorkHours,actualWorkHours:null===t||void 0===t?void 0:t.acutalWorkHours,shortfallHours:null===t||void 0===t?void 0:t.shortfallHours,excessHours:null===t||void 0===t?void 0:t.excessHours,timesheetEnteredHours:null===t||void 0===t?void 0:t.timesheetHours}}return{x:e.date,y:null}}))}])}),[w]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(r.sK,{className:"mt-3",children:[(0,O.jsxs)(r.UF,{xs:12,sm:6,md:8,children:[(0,O.jsxs)("h6",{className:"timesheet-heading mt-4",style:{marginLeft:"30px"},children:["Swipe Details for"," ",(0,O.jsx)(se,{style:{width:"10%"},variant:"borderless",defaultValue:C()(),value:g,format:"MMM",allowClear:!1,className:"swipe-month",suffixIcon:(0,O.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAHCAYAAAA8sqwkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACsSURBVHgBhU+7EcIwDJUSJynJBpAqZVghI7AZI7ABG+BjA3fQkQ1wl8MOFvIHuPNxxyssWXofG6nvT4C4ISLgipCBB2HDp8dZPOe548sa3twkTAaQOwhrzFgsy5HXQ0gIzCiNAVwxRCtXlrtgcG/blhvJ5CGRvk+JUCvEEbXWn0QvMtZKR7QNghRGiOpRVWPH5Px/cGPR1DRyqmvHlXzvZ/APVyH2l6I4/Nq9AFohTYk4bxdhAAAAAElFTkSuQmCC",alt:"Calendarimg"}),onChange:e=>{u.current=0,Y.current=!0,f.current=e.format("MM"),b.current=e.format("YYYY"),v(e),R(!0),I(y)}})]}),(0,O.jsx)(p.A,{style:{marginLeft:"30px"},className:"bread-tab",separator:(0,O.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,O.jsx)("span",{className:"text-secondary text-decoration-none",style:{cursor:"default"},children:"Dashboard"})},{title:(0,O.jsx)("span",{className:"text-secondary second-subheading",style:{cursor:"default"},children:"Swipe Details"})}]})]}),(0,O.jsx)(r.UF,{xs:6,sm:3,md:2,children:(0,O.jsx)(m.A,{id:"date",type:"date",name:"fieldName",className:"form-input-draft input-lg date-picker swipe-date  raised_selectbox",onChange:(e,t)=>{if(R(!0),Y.current=!0,u.current=0,null!==e){const t=C()(e).format("YYYY-MM-DD");l.current=t,f.current=C()(e).format("MM"),b.current=C()(e).format("YYYY"),I(t),v(C()(e)),j(t)}else j(null),I(null)},placeholder:"Choose Date",allowClear:!0,maxDate:C()(),minDate:C()(i),variant:"borderless",suffixIcon:(0,O.jsx)("img",{src:ee,alt:"Calendarimg",style:{width:"13px",height:"13px"}}),format:"DD-MM-YYYY"})}),(0,O.jsx)(r.UF,{sm:6,md:2,children:(0,O.jsx)(x.A,{suffixIcon:(0,O.jsx)("img",{src:N,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),allowClear:!0,className:"form-input-draft input-lg swipe-select  raised_selectbox",style:{borderBottom:"1px solid #ced4da",width:"100px"},placeholder:"Choose: Shortfall or Excess",options:[{value:"Shortfall",label:"Shortfall"},{value:"Excess",label:"Excess"}],onChange:e=>{void 0!==e&&"Shortfall"===e?(c.current=!0,d.current=!1):void 0!==e&&"Excess"===e?(d.current=!0,c.current=!1):(d.current=!1,c.current=!1),u.current=0,Y.current=!0,R(!0),I(y)}})})]}),(0,O.jsxs)(r.sK,{className:"mt-1",children:[!D&&(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{style:{marginLeft:"20px"},children:(0,O.jsx)(te.A,{type:"bar",options:M,series:S,height:350})}),(0,O.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,O.jsx)("button",{style:{borderRadius:"80%",border:"none",backgroundColor:"#FFFFFF",boxShadow:" 0px 4px 10px 0px #0000001A",marginLeft:"55px"},disabled:0===u.current,onClick:()=>{u.current=u.current-1,Y.current=!0,R(!0),I(y)},children:(0,O.jsx)(ae.m6W,{width:"11px"})}),(0,O.jsx)("button",{style:{borderRadius:"80%",border:"none",backgroundColor:"#FFFFFF",boxShadow:" 0px 4px 10px 0px #0000001A",marginRight:"37px"},disabled:!1===Y.current,onClick:()=>{u.current=u.current+1,Y.current=!0,R(!0),I(y)},children:(0,O.jsx)(ae.OQo,{})})]})]}),D&&(0,O.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,O.jsx)(r.JT,{color:"danger"})})]})]})},ne=()=>{const e=(0,D.wA)(),t=(0,Q.zy)(),[a,o]=(0,s.useState)(1),[i,l]=(0,s.useState)(!0),[c,d]=(0,s.useState)(!0),u=(0,D.d4)((e=>e.timesheet.approvedProductList)),h=(0,D.d4)((e=>e.timesheet.taskList));return(0,s.useEffect)((()=>{e((0,R.MW)()),e((0,R.fA)()),l(!1),d(!1)}),[]),(0,s.useEffect)((()=>{const e=new URLSearchParams(t.search).get("tab");e&&o(parseInt(e,10))}),[t]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(n.N9,{}),(0,O.jsx)(r.sK,{className:"my-2",children:(0,O.jsx)(r.UF,{xs:12,children:(0,O.jsx)(r.E$,{className:"mt-4 timesheet-content",children:(0,O.jsxs)("div",{className:"timesheetfull-card",children:[(0,O.jsxs)(r.by,{className:"navbar-list nav_bar_scroll ",variant:"pills",role:"tablist",children:[(0,O.jsx)(r.g9,{role:"presentation5",children:(0,O.jsx)(r.HQ,{className:"nav-link-lable time-sheert-navbar",active:1===a,"aria-selected":1===a,onClick:()=>o(1),component:"button",role:"tab","aria-controls":"home-tab-pane",children:"Pending Activity"})}),(0,O.jsx)(r.g9,{role:"presentation4",children:(0,O.jsx)(r.HQ,{active:2===a,component:"button",role:"tab","aria-controls":"profile-tab-pane","aria-selected":2===a,onClick:()=>o(2),children:"Draft Activity"})}),(0,O.jsx)(r.g9,{role:"presentation3",children:(0,O.jsx)(r.HQ,{active:3===a,component:"button",role:"tab","aria-controls":"contact-tab-pane","aria-selected":3===a,onClick:()=>o(3),children:"Submitted Activity"})}),(0,O.jsx)(r.g9,{role:"presentation2",children:(0,O.jsx)(r.HQ,{active:4===a,component:"button",role:"tab","aria-controls":"contact-tab-pane","aria-selected":4===a,onClick:()=>o(4),children:"Raised Request"})}),(0,O.jsx)(r.g9,{role:"presentation1",children:(0,O.jsx)(r.HQ,{active:5===a,component:"button",role:"tab","aria-controls":"contact-tab-pane","aria-selected":5===a,onClick:()=>o(5),children:"Leave History"})}),(0,O.jsx)(r.g9,{role:"presentation6",children:(0,O.jsx)(r.HQ,{active:6===a,component:"button",role:"tab","aria-controls":"contact-tab-pane","aria-selected":6===a,onClick:()=>o(6),children:"Swipe Details"})})]}),(0,O.jsxs)(r.eL,{className:"".concat(6===a?"swp_tab_height":""),children:[(0,O.jsx)(r.x1,{role:"tabpanel","aria-labelledby":"profile-tab-pane",visible:1===a,className:"tab-content-overflow  tab_height_submit",children:1===a&&(0,O.jsx)(I,{productList:u,taskList:h,today:(0,Z.Gq)(),loader:i,loadingActiveTask:c})}),(0,O.jsx)(r.x1,{role:"tabpanel","aria-labelledby":"profile-tab-pane",visible:2===a,className:"tab-content-overflow tab_height_submit",children:2===a&&(0,O.jsx)(F,{productList:u,taskList:h,loader:i,loadingActiveTask:c,today:(0,Z.Gq)()})}),(0,O.jsx)(r.x1,{role:"tabpanel","aria-labelledby":"contact-tab-pane",visible:3===a,className:"tab-content-overflow tab_height_submit",children:3===a&&(0,O.jsx)($,{today:(0,Z.Gq)(),productList:u,taskList:h,className:"tab-content-overflow"})}),(0,O.jsx)(r.x1,{role:"tabpanel","aria-labelledby":"contact-tab-pane",visible:4===a,className:"tab-content-overflow tab_height_raised",children:4===a&&(0,O.jsx)(L,{formatDate:Z.Yq})}),(0,O.jsx)(r.x1,{role:"tabpanel","aria-labelledby":"contact-tab-pane",visible:5===a,className:"tab-content-overflow tab_height_raised",children:5===a&&(0,O.jsx)(V,{formatDate:Z.Yq})}),(0,O.jsx)(r.x1,{role:"tabpanel","aria-labelledby":"contact-tab-pane",visible:6===a,className:"tab-content-overflow tab_height_raised",children:6===a&&(0,O.jsx)(re,{formatDate:Z.Yq})})]})]})})})})]})}},18125:(e,t,a)=>{a.d(t,{A:()=>Y});var s=a(65043),r=a(98139),n=a.n(r),o=a(62149),i=a(48060),l=a(12701),c=a(35296),d=a(28369),u=a(37824);const h=e=>{let{children:t}=e;const{getPrefixCls:a}=s.useContext(c.QO),r=a("breadcrumb");return s.createElement("li",{className:"".concat(r,"-separator"),"aria-hidden":"true"},""===t?t:t||"/")};h.__ANT_BREADCRUMB_SEPARATOR=!0;const p=h;var m=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(a[s[r]]=e[s[r]])}return a};function x(e,t,a,r){if(null===a||void 0===a)return null;const{className:o,onClick:l}=t,c=m(t,["className","onClick"]),d=Object.assign(Object.assign({},(0,i.A)(c,{data:!0,aria:!0})),{onClick:l});return void 0!==r?s.createElement("a",Object.assign({},d,{className:n()("".concat(e,"-link"),o),href:r}),a):s.createElement("span",Object.assign({},d,{className:n()("".concat(e,"-link"),o)}),a)}function f(e,t){return(a,s,r,n,o)=>{if(t)return t(a,s,r,n);const i=function(e,t){if(void 0===e.title||null===e.title)return null;const a=Object.keys(t).join("|");return"object"===typeof e.title?e.title:String(e.title).replace(new RegExp(":(".concat(a,")"),"g"),((e,a)=>t[a]||e))}(a,s);return x(e,a,i,o)}}var b=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(a[s[r]]=e[s[r]])}return a};const g=e=>{const{prefixCls:t,separator:a="/",children:r,menu:n,overlay:o,dropdownProps:i,href:l}=e;const c=(e=>{if(n||o){const a=Object.assign({},i);if(n){const e=n||{},{items:t}=e,r=b(e,["items"]);a.menu=Object.assign(Object.assign({},r),{items:null===t||void 0===t?void 0:t.map(((e,t)=>{var{key:a,title:r,label:n,path:o}=e,i=b(e,["key","title","label","path"]);let c=null!==n&&void 0!==n?n:r;return o&&(c=s.createElement("a",{href:"".concat(l).concat(o)},c)),Object.assign(Object.assign({},i),{key:null!==a&&void 0!==a?a:t,label:c})}))})}else o&&(a.overlay=o);return s.createElement(u.A,Object.assign({placement:"bottom"},a),s.createElement("span",{className:"".concat(t,"-overlay-link")},e,s.createElement(d.A,null)))}return e})(r);return void 0!==c&&null!==c?s.createElement(s.Fragment,null,s.createElement("li",null,c),a&&s.createElement(p,null,a)):null},v=e=>{const{prefixCls:t,children:a,href:r}=e,n=b(e,["prefixCls","children","href"]),{getPrefixCls:o}=s.useContext(c.QO),i=o("breadcrumb",t);return s.createElement(g,Object.assign({},n,{prefixCls:i}),x(i,n,a,r))};v.__ANT_BREADCRUMB_ITEM=!0;const y=v;var j=a(36647),w=a(94414),k=a(7060),C=a(78365);const S=(0,k.OF)("Breadcrumb",(e=>(e=>{const{componentCls:t,iconCls:a,calc:s}=e;return{[t]:Object.assign(Object.assign({},(0,w.dF)(e)),{color:e.itemColor,fontSize:e.fontSize,[a]:{fontSize:e.iconFontSize},ol:{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"},a:Object.assign({color:e.linkColor,transition:"color ".concat(e.motionDurationMid),padding:"0 ".concat((0,j.zA)(e.paddingXXS)),borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",marginInline:s(e.marginXXS).mul(-1).equal(),"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover}},(0,w.K8)(e)),"li:last-child":{color:e.lastItemColor},["".concat(t,"-separator")]:{marginInline:e.separatorMargin,color:e.separatorColor},["".concat(t,"-link")]:{["\n          > ".concat(a," + span,\n          > ").concat(a," + a\n        ")]:{marginInlineStart:e.marginXXS}},["".concat(t,"-overlay-link")]:{borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",padding:"0 ".concat((0,j.zA)(e.paddingXXS)),marginInline:s(e.marginXXS).mul(-1).equal(),["> ".concat(a)]:{marginInlineStart:e.marginXXS,fontSize:e.fontSizeIcon},"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover,a:{color:e.linkHoverColor}},a:{"&:hover":{backgroundColor:"transparent"}}},["&".concat(e.componentCls,"-rtl")]:{direction:"rtl"}})}})((0,C.h1)(e,{}))),(e=>({itemColor:e.colorTextDescription,lastItemColor:e.colorText,iconFontSize:e.fontSize,linkColor:e.colorTextDescription,linkHoverColor:e.colorText,separatorColor:e.colorTextDescription,separatorMargin:e.marginXS})));var A=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(a[s[r]]=e[s[r]])}return a};function N(e){const{breadcrumbName:t,children:a}=e,s=A(e,["breadcrumbName","children"]),r=Object.assign({title:t},s);return a&&(r.menu={items:a.map((e=>{var{breadcrumbName:t}=e,a=A(e,["breadcrumbName"]);return Object.assign(Object.assign({},a),{title:t})}))}),r}var D=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(a[s[r]]=e[s[r]])}return a};const R=e=>{const{prefixCls:t,separator:a="/",style:r,className:d,rootClassName:u,routes:h,items:m,children:x,itemRender:b,params:v={}}=e,y=D(e,["prefixCls","separator","style","className","rootClassName","routes","items","children","itemRender","params"]),{getPrefixCls:j,direction:w,breadcrumb:k}=s.useContext(c.QO);let C;const A=j("breadcrumb",t),[R,Y,O]=S(A),I=function(e,t){return(0,s.useMemo)((()=>e||(t?t.map(N):null)),[e,t])}(m,h);const M=f(A,b);if(I&&I.length>0){const e=[],t=m||h;C=I.map(((r,n)=>{const{path:o,key:l,type:c,menu:d,overlay:u,onClick:h,className:m,separator:x,dropdownProps:f}=r,b=((e,t)=>{if(void 0===t)return t;let a=(t||"").replace(/^\//,"");return Object.keys(e).forEach((t=>{a=a.replace(":".concat(t),e[t])})),a})(v,o);void 0!==b&&e.push(b);const y=null!==l&&void 0!==l?l:n;if("separator"===c)return s.createElement(p,{key:y},x);const j={},w=n===I.length-1;d?j.menu=d:u&&(j.overlay=u);let{href:k}=r;return e.length&&void 0!==b&&(k="#/".concat(e.join("/"))),s.createElement(g,Object.assign({key:y},j,(0,i.A)(r,{data:!0,aria:!0}),{className:m,dropdownProps:f,href:k,separator:w?"":a,onClick:h,prefixCls:A}),M(r,v,t,e,k))}))}else if(x){const e=(0,o.A)(x).length;C=(0,o.A)(x).map(((t,s)=>{if(!t)return t;const r=s===e-1;return(0,l.Ob)(t,{separator:r?"":a,key:s})}))}const T=n()(A,null===k||void 0===k?void 0:k.className,{["".concat(A,"-rtl")]:"rtl"===w},d,u,Y,O),H=Object.assign(Object.assign({},null===k||void 0===k?void 0:k.style),r);return R(s.createElement("nav",Object.assign({className:T,style:H},y),s.createElement("ol",null,C)))};R.Item=y,R.Separator=p;const Y=R}}]);
//# sourceMappingURL=607.f484ed7e.chunk.js.map