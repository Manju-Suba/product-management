"use strict";(self.webpackChunkproduct_management=self.webpackChunkproduct_management||[]).push([[604],{84665:(e,t,r)=>{r.d(t,{A:()=>d});var c=r(65043),a=r(48903),n=r(85727),s=r(70579);const{TextArea:l}=a.A,d=e=>{let{isModalOpen:t,handleCancel:r,handleApprove:a,id:d,headContent:o,resetFunc:i}=e;const[u,h]=(0,c.useState)(""),[p,x]=(0,c.useState)(!1);return(0,s.jsxs)(n.A,{title:"Approved ".concat(o),open:t,onOk:async()=>{x(!0);try{!0===(await a("Approved",d,u)).status&&i()}catch(e){}finally{x(!1)}},okText:"Approved",onCancel:r,okButtonProps:{style:{background:"#f54550",borderColor:"#f54550",color:"white"},loading:p},maskClosable:!1,children:[(0,s.jsxs)("p",{children:["Do you want to do Approved this ",o," ?"]}),(0,s.jsx)(l,{id:"Description",variant:"borderless",value:u,onChange:e=>(e=>{(/^(?!\s)(?![&@.,()\s])(?![^a-zA-Z0-9\s.,()-]+$)[&@a-zA-Z0-9\s.,()-]*$/.test(e)||""===e)&&h(e)})(e.target.value),className:"time-border-bottom",style:{color:"black",width:"265px",fontSize:"13px",padding:"0px"},placeholder:"Enter Remarks...",autoSize:{minRows:0,maxRows:1}}),(0,s.jsx)("br",{})]})}},60537:(e,t,r)=>{r.d(t,{A:()=>d});var c=r(65043),a=r(48903),n=r(85727),s=r(70579);const{TextArea:l}=a.A,d=e=>{let{isModalOpen:t,handleCancel:r,handleApprove:a,id:d,headContent:o,resetFunc:i}=e;const[u,h]=(0,c.useState)(""),[p,x]=(0,c.useState)(!1),[m,g]=(0,c.useState)({remarks:""});return(0,s.jsxs)(n.A,{title:"Reject ".concat(o),open:t,onOk:async()=>{if((()=>{const e={remarks:""};return""===u&&(e.remarks="Please Enter Remarks"),g(e),!(""!==e.remarks)})()){x(!0);try{!0===(await a("Rejected",d,u)).status&&i()}catch(e){}finally{x(!1)}}},okText:"Reject",onCancel:r,okButtonProps:{style:{background:"#f54550",borderColor:"#f54550",color:"white"},loading:p,disabled:""===u.trim()},maskClosable:!1,children:[(0,s.jsxs)("p",{children:["Do you want to do reject this ",o," ?"]}),(0,s.jsx)(l,{id:"Description",variant:"borderless",value:u,onChange:e=>(e=>{(/^(?!\s)(?![&@.,()\s])(?![^a-zA-Z0-9\s.,()-]+$)[&@a-zA-Z0-9\s.,()-]*$/.test(e)||""===e)&&h(e)})(e.target.value),className:"time-border-bottom",style:{color:"black",width:"265px",fontSize:"13px",padding:"0px"},placeholder:"Enter Remarks...",autoSize:{minRows:0,maxRows:1}}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-danger nameflow-error ",children:m.remarks})]})}},27223:(e,t,r)=>{r.r(t),r.d(t,{default:()=>M});var c=r(65043),a=r(93946),n=r(63406),s=r(42145),l=(r(92342),r(43003)),d=r(35118),o=r(70530),i=r(60537),u=r(60446),h=r.n(u),p=r(11125),x=(r(25015),r(61393)),m=r(18125),g=r(25589),b=r(38510),A=r(32513),j=r(35402),f=r(74668),v=r(84665),w=r(64997),y=r(35475),N=r(70579);const{RangePicker:C}=x.A,S=e=>{let{formatDate:t,productLists:r,prodLoader:u}=e,x=(0,j.A)();const[S,k]=(0,c.useState)([]),[M,D]=(0,c.useState)([]),[L,I]=(0,c.useState)([]),[R,F]=(0,c.useState)([]),[Y,E]=(0,c.useState)(""),B=(0,c.useRef)(),[U,T]=(0,c.useState)(!1),[z,Q]=(0,c.useState)(),[G,P]=(0,c.useState)(!0),[Z,K]=(0,c.useState)(""),[O,H]=(0,c.useState)(!1),[q,X]=(0,c.useState)(""),[V,J]=(0,c.useState)(!1),[W,_]=(0,c.useState)(""),[$,ee]=(0,c.useState)(""),[te,re]=(0,c.useState)(!1),ce=(0,c.useRef)(null),[ae,ne]=(0,c.useState)(!1),[se,le]=(0,c.useState)(!1),de=(0,c.useRef)(null),oe=(0,c.useRef)(null),ie=(0,c.useRef)(0),ue=(0,c.useRef)(0),he=(0,c.useRef)(0),pe=(0,c.useRef)("default"),xe=(0,c.useRef)(!0),[me,ge]=(0,c.useState)(new AbortController),be=e=>{"Approved"===e?(H(!0),X("Approved")):"Reject"===e&&(J(!0),X("Reject"))};(0,c.useEffect)((()=>{I(r)}),[r]),(0,c.useEffect)((()=>{xe.current=!0,we();const e=document.querySelector(".table-container");return e.addEventListener("scroll",Ae),()=>{e.removeEventListener("scroll",Ae)}}),[]);const Ae=()=>{const e=document.querySelector(".table-container");e.scrollTop+e.clientHeight===e.scrollHeight&&!0===xe.current&&we()},je=e=>{if(e){const e=S.map((e=>e.id));D(e),E("".concat(e.length," Selected"))}else D([]),E("")},fe=async(e,t,r)=>{if("Reject"!==q||""!==r)return await Ne(q,M,r);s.oR.error("Please Enter Remarks!..",{position:s.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3})},ve=async(e,t)=>{const r=h()(e).format("YYYY-MM-DD"),c=h()(t).format("YYYY-MM-DD");P(!0);const a="common/timesheet/activity/ownerlist/daterange/all?fromdate=".concat(r,"&todate=").concat(c);try{const e=await x.get(a,{headers:(0,n.dJ)("json")}),t=e.data.data.memberNames,r=e.data.data.productNames;P(!1),I(r),le(!1),ne(!1),F(t)}catch(s){}},we=async()=>{let e;0===ie.current&&(P(!0),k([]),me.abort(),e=new AbortController,ge(e));try{var t;const r=(await x.get((()=>{let e;switch(pe.current){case"default":e="common/timesheet/activity/owner/list?page=".concat(ie.current,"&size=10&category=").concat(pe.current);break;case"all":e="common/timesheet/activity/owner/list?page=".concat(ie.current,"&size=10&category=").concat(pe.current,"&productId=").concat(ue.current,"&memberId=").concat(he.current,"&startDate=").concat(de.current,"&endDate=").concat(oe.current);break;case"product":e="common/timesheet/activity/owner/list?page=".concat(ie.current,"&size=10&category=").concat(pe.current,"&productId=").concat(ue.current);break;case"member":e="common/timesheet/activity/owner/list?page=".concat(ie.current,"&size=10&category=").concat(pe.current,"&memberId=").concat(he.current);break;case"date":e="common/timesheet/activity/owner/list?page=".concat(ie.current,"&size=10&category=").concat(pe.current,"&startDate=").concat(de.current,"&endDate=").concat(oe.current);break;case"dateandproduct":e="common/timesheet/activity/owner/list?page=".concat(ie.current,"&size=10&category=").concat(pe.current,"&productId=").concat(ue.current,"&startDate=").concat(de.current,"&endDate=").concat(oe.current);break;case"dateandmember":e="common/timesheet/activity/owner/list?page=".concat(ie.current,"&size=10&category=").concat(pe.current,"&memberId=").concat(he.current,"&startDate=").concat(de.current,"&endDate=").concat(oe.current);break;case"memberandproduct":e="common/timesheet/activity/owner/list?page=".concat(ie.current,"&size=10&category=").concat(pe.current,"&memberId=").concat(he.current,"&productId=").concat(ue.current)}return e})(),{headers:(0,n.dJ)("json"),signal:null===(t=e)||void 0===t?void 0:t.signal})).data.data;0===ie.current?k(r):k((e=>{const t=new Set(e.map((e=>e.id))),c=r.filter((e=>!t.has(e.id)));return[...e,...c]})),r.length<10?xe.current=!1:xe.current=!0,ie.current=ie.current+1,P(!1)}catch(r){}};let ye;ye=(null!==S||G)&&(0!==S.length||G)?G?(0,N.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,N.jsx)(a.JT,{color:"danger"})}):(0,N.jsx)("div",{}):(0,N.jsx)("div",{className:"text-c text-center my-3 td-text",children:"No Data Found"});const Ne=async(e,t,r)=>{const c=new FormData;c.append("status",e),c.append("remarks",r),c.append("id",t);try{const t=await x.put("common/timesheet/approval/owner/update",c,{headers:(0,n.dJ)("multi")});if(null!==t&&void 0!==t&&t.data){const r="Activity ".concat(e," Successfully");return s.oR.success(r,{position:s.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),t.data}throw new Error("Empty response received from the server")}catch(a){throw s.oR.error(a.message,{position:s.oR.POSITION.BOTTOM_RIGHT,autoClose:3e3}),a}},Ce=()=>{D([]),re(!1),H(!1),J(!1),T(!1),E(""),P(!0),ie.current=0,xe.current=!0,pe.current="default",F([]),I(r),we()},Se=L.map((e=>({value:e.id,label:e.name}))),ke=e=>{ie.current=0,xe.current=!0,ne(!0),P(!0),F([]),void 0!==e?(ue.current=e,null!==de.current&&null!==oe.current?(async e=>{if(0!==e){const r="common/timesheet/activity/ownerlist/daterange/all?fromdate=".concat(de.current,"&todate=").concat(oe.current,"&productid=").concat(e);try{const e=(await x.get(r,{headers:(0,n.dJ)("json")})).data.data.memberNames;F(e),ne(!1)}catch(t){}}})(e):F([]),ne(!1),null===de.current&&null===oe.current&&0===he.current?pe.current="product":null===de.current&&null===oe.current&&0!==he.current?pe.current="memberandproduct":null!==de.current&&null!==oe.current&&0===he.current?pe.current="dateandproduct":pe.current="all"):(ue.current=0,null===de.current&&null===oe.current&&0===he.current?pe.current="default":null===de.current&&null===oe.current&&0!==he.current?pe.current="member":null!==de.current&&null!==oe.current&&0===he.current?pe.current="date":pe.current="dateandmember",ne(!1),null!==de.current&&null!==oe.current&&(le(!0),I([]),ve(de.current,oe.current)),F([])),ce.current.blur(),we()},Me=R.map((e=>({value:e.id,label:(0,N.jsxs)("div",{className:"select-options1",children:[(0,N.jsx)("img",{src:e.profile_pic?n.ZX+e.profile_pic:p,style:e.profile_pic?{width:"29px"}:{width:"39px"},alt:e.name,className:"img-flag"}),(0,N.jsxs)("div",{className:"node1",style:e.profile_pic?{marginLeft:"11px"}:{},children:[(0,N.jsx)("p",{className:"user-name1",title:e.name,children:(0,l.MX)(e.name)}),(0,N.jsx)("p",{className:"role-text1",children:e.role})]})]})})));return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(a.sK,{className:"mt-3",children:[(0,N.jsxs)(a.UF,{sm:5,children:[(0,N.jsx)("b",{style:{marginLeft:"30px"},children:"Pending Member\u2019s Activity"}),(0,N.jsx)("br",{}),(0,N.jsx)(m.A,{style:{marginLeft:"30px"},className:"bread-tab",separator:(0,N.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,N.jsx)(y.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,N.jsx)("span",{className:"text-secondary breadcrumb_lable ",style:{cursor:"default"},children:"Pending Member\u2019s Activity"})}]})]}),(0,N.jsx)(a.UF,{sm:3,children:(0,N.jsx)(C,{variant:"borderless",ref:B,style:{width:"90%",marginRight:"5px"},onChange:e=>{if(ie.current=0,xe.current=!0,I([]),F([]),P(!0),le(!0),ne(!0),null!==e){const t=h()(e[0]).format("YYYY-MM-DD"),r=h()(e[1]).format("YYYY-MM-DD");de.current=t,oe.current=r,ve(t,r),0!==ue.current&&0===he.current?pe.current="dateandproduct":0===ue.current&&0!==he.current?pe.current="dateandmember":0===ue.current&&0===he.current?pe.current="date":pe.current="all"}else de.current=null,oe.current=null,0!==ue.current&&0===he.current?pe.current="product":0===ue.current&&0!==he.current?pe.current="member":0===ue.current&&0===he.current?pe.current="default":pe.current="memberandproduct",I(r),le(!1),ne(!1),F([]);we()},disabledDate:e=>e&&e>h()().endOf("day"),className:"rangeField rangepicker_cont_pend",format:"YYYY/MM/DD"})}),(0,N.jsx)(a.UF,{sm:2,children:(0,N.jsx)(g.A,{className:"members_activity_select  custom-select_pend mem-act-select",suffixIcon:(0,N.jsx)("img",{src:f,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),id:"products",value:Se.find((e=>e.value===ue.current))||void 0,onChange:e=>ke(e),showSearch:!0,allowClear:!0,filterOption:(e,t)=>t.label.toLowerCase().indexOf(e.toLowerCase())>=0,options:u||se?[{label:(0,N.jsx)("div",{style:{textAlign:"center"},children:Array.from({length:5},((e,t)=>(0,N.jsx)(b.A,{title:!1,paragraph:{rows:1,width:"100%",height:"10px",style:{height:"10px !important"}}},t)))}),value:"loading",disabled:!0}]:Se,ref:ce,placeholder:"Choose Product",getPopupContainer:e=>e.parentNode})}),(0,N.jsx)(a.UF,{sm:2,children:(0,N.jsx)(g.A,{className:"members_activity_select custom-select_pend mem-act-select",id:"member-list",value:Me.find((e=>e.value===he.current))||void 0,onChange:e=>{return t=e,ie.current=0,xe.current=!0,k([]),P(!0),void 0!==t?(he.current=t,null===de.current&&null===oe.current&&0===ue.current?pe.current="member":null===de.current&&null===oe.current&&0!==ue.current?pe.current="memberandproduct":null!==de.current&&null!==oe.current&&0===ue.current?pe.current="dateandmember":pe.current="all"):(he.current=0,null===de.current&&null===oe.current&&0===ue.current?pe.current="default":null===de.current&&null===oe.current&&0!==ue.current?pe.current="product":null!==de.current&&null!==oe.current&&0===ue.current?pe.current="date":pe.current="dateandproduct"),ce.current.blur(),void we();var t},options:ae?[{label:(0,N.jsx)("div",{style:{textAlign:"center"},children:Array.from({length:5},((e,t)=>(0,N.jsx)(b.A,{title:!1,avatar:{size:"20"},paragraph:{rows:2,height:"10px",style:{height:"10px !important"}}},t)))}),value:"loading",disabled:!0}]:Me,showSearch:!0,ref:ce,suffixIcon:(0,N.jsx)("img",{src:f,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),placeholder:"Choose Member",allowClear:!0,filterOption:(e,t)=>{const r=t.label.props.children[1].props.children[0].props.children,c=e.toLowerCase();return r.toLowerCase().includes(c)},popupMatchSelectWidth:!1,popupClassName:"custom-dropdown",getPopupContainer:e=>e.parentNode})})]}),(0,N.jsx)("div",{className:"table-container table_scroll mt-2",style:{border:"none"},children:(0,N.jsxs)(w.A,{dataLength:S.length,next:Ae,hasMore:xe.current,loader:(0,N.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,N.jsx)(a.JT,{color:"danger"})}),endMessage:0!==S.length&&(0,N.jsx)("p",{style:{textAlign:"center"},children:(0,N.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),children:[(0,N.jsxs)(a._v,{children:[(0,N.jsx)(a.wV,{className:"head-row",children:Y?(0,N.jsxs)(a.YI,{children:[(0,N.jsx)(a.$s,{className:"table-head-selected text-center  text-c ",width:"4%",children:(0,N.jsx)(A.A,{id:"flexCheckDefault",className:"checkbox_design",checked:M.length===S.length&&S.length,onChange:e=>je(e.target.checked)})}),(0,N.jsx)(a.$s,{className:"table-head-selected  text-c ",colSpan:"7",children:(0,N.jsx)("span",{style:{color:"#f50505"},children:Y})}),(0,N.jsx)(a.$s,{className:"table-head-selected ",style:{textAlign:"right"},children:(0,N.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,N.jsx)("button",{className:"btn border-0 text-c text-secondary check-button",style:{fontSize:"12px",padding:"4px 8px"},type:"button",onClick:()=>be("Approved"),children:(0,N.jsx)(o.A,{width:"11",height:"9",viewBox:"0 0 14 10",fill:"#00ab55"})}),(0,N.jsx)("button",{className:"btn border-0 text-c text-secondary cross-button",style:{fontSize:"12px",padding:"4px 8px"},onClick:()=>be("Reject"),children:(0,N.jsx)(d.A,{width:"9",height:"11",viewBox:"0 0 14 10",fill:"#e40e2d"})})]})})]}):(0,N.jsxs)(a.YI,{children:[null===S||0===S.length?(0,N.jsx)(a.$s,{className:"table-head-draft  text-c text-center grid-cell-header check_box_position",scope:"col",width:"4%",children:(0,N.jsx)(A.A,{id:"flexCheckDefault",onChange:e=>je(e.target.checked),disabled:!0})}):(0,N.jsx)(a.$s,{className:"table-head-draft text-center text-c grid-cell-header",scope:"col",width:"4%",style:{position:"sticky",top:"0",zIndex:"12"},children:(0,N.jsx)(A.A,{id:"flexCheckDefault",className:"checkbox_design",checked:M.length===S.length&&S.length,onChange:e=>je(e.target.checked)})}),(0,N.jsx)(a.$s,{className:"table-head-draft  text-c grid-cell-header text-center",scope:"col",width:"4%",children:"SI.No"}),(0,N.jsx)(a.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"10%",children:"Activity Date"}),(0,N.jsx)(a.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"12%",children:"Team member"}),(0,N.jsx)(a.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"15%",children:"Product"}),(0,N.jsx)(a.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"10%",children:"Task"}),(0,N.jsx)(a.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"5%",children:"No.of.Hours"}),(0,N.jsx)(a.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"15%",children:"Remarks"}),(0,N.jsx)(a.$s,{className:"table-head-draft  text-c grid-cell-header text-center",scope:"col",width:"7%",children:"Action"})]})}),(0,N.jsx)(a.jS,{children:null===S||void 0===S?void 0:S.map(((e,r)=>(0,N.jsxs)(a.YI,{children:[(0,N.jsx)(a.cC,{className:"text-c text-center pd-text1 grid-cell ".concat(M.includes(e.id)?"checked-table-row":""),width:"4%",children:(0,N.jsx)(A.A,{className:"checkbox_design",id:"flexCheckDefault-".concat(r),value:e.id,disabled:"Approved"===e.status||"Rejected"===e.status||!0===e.approved,checked:M.includes(e.id),onChange:t=>{((e,t)=>{D(t?t=>[...t,e]:t=>t.filter((t=>t!==e)));const r=(t?[...M,e]:M.filter((t=>t!==e))).length;E(r<1?"":"".concat(r," Selected"))})(e.id,t.target.checked)}})}),(0,N.jsx)(a.cC,{className:"text-c text-center pd-text1 grid-cell ".concat(M.includes(e.id)?"checked-table-row":""),width:"4%",children:r+1}),(0,N.jsx)(a.cC,{className:"text-c pd-text1 grid-cell ".concat(M.includes(e.id)?"checked-table-row":""),title:e.activity_date,width:"10%",children:t(e.activity_date)}),(0,N.jsx)(a.cC,{className:"text-c pd-text1 grid-cell ".concat(M.includes(e.id)?"checked-table-row":""),title:(0,l.MX)(e.userName),width:"12%",children:(0,l.MX)(e.userName)}),(0,N.jsx)(a.cC,{className:"text-c pd-text1 grid-cell ".concat(M.includes(e.id)?"checked-table-row":""),title:e.productName,width:"15%",children:(0,N.jsxs)("span",{children:[!0===e.assignedStatus&&(0,N.jsx)("span",{style:{fontSize:"16px",color:"#00ab55"},children:"\u2022"}),!1===e.assignedStatus&&(0,N.jsx)("span",{style:{fontSize:"16px",color:"#ffaa00"},children:"\u2022"}),(0,N.jsx)("span",{style:{marginLeft:"5px"},children:e.productName})]})}),(0,N.jsx)(a.cC,{className:"text-c pd-text1 grid-cell ".concat(M.includes(e.id)?"checked-table-row":""),title:e.taskName,width:"10%",children:e.taskName}),(0,N.jsx)(a.cC,{className:"text-c pd-text1 text-center grid-cell ".concat(M.includes(e.id)?"checked-table-row":""),title:(0,l.zA)(e.hours),width:"5%",children:(0,l.zA)(e.hours)}),(0,N.jsx)(a.cC,{className:"text-c pd-text1 grid-cell ".concat(M.includes(e.id)?"checked-table-row":""),title:e.description,width:"15%",children:e.description}),(0,N.jsxs)(a.cC,{className:"text-c pd-text1 text-center grid-cell ".concat(M.includes(e.id)?"checked-table-row":""),width:"7%",children:[(0,N.jsx)("button",{className:"btn border-0 text-c text-secondary check-button",style:{fontSize:"12px",padding:"4px 8px"},disabled:M.includes(e.id),onClick:()=>{return t="Approved",r=e.id,re(!0),_(r),void ee(t);var t,r},children:(0,N.jsx)(o.A,{width:"11",height:"9",viewBox:"0 0 14 10",fill:"#A5A1A1"})}),(0,N.jsx)("button",{className:"btn border-0 text-c text-secondary cross-button",style:{fontSize:"12px",padding:"4px 8px"},onClick:()=>{return t=e.id,r="Reject",T(!0),Q(t),void K(r);var t,r},disabled:M.includes(e.id),children:(0,N.jsx)(d.A,{width:"9",height:"11",viewBox:"0 0 14 10",fill:"#A5A1A1"})})]})]},e.id)))})]}),ye]})}),U&&(0,N.jsx)(i.A,{isModalOpen:U,handleCancel:()=>{T(!1)},handleApprove:async(e,t,r)=>await Ne(Z,t,r),id:z,headContent:"Activity",resetFunc:Ce}),te&&(0,N.jsx)(v.A,{isModalOpen:te,handleCancel:()=>{re(!1)},handleApprove:async(e,t,r)=>await Ne($,t,r),id:W,headContent:"Activity",resetFunc:Ce}),O&&(0,N.jsx)(v.A,{isModalOpen:O,handleCancel:()=>{H(!1),D([]),E("")},handleApprove:fe,headContent:"Activity",resetFunc:Ce}),V&&(0,N.jsx)(i.A,{isModalOpen:V,handleCancel:()=>{J(!1)},handleApprove:fe,headContent:"Activity",resetFunc:Ce})]})},k=e=>{let{formatDate:t,productLists:r,prodLoader:s}=e,d=(0,j.A)();const[o,i]=(0,c.useState)([]),[u,p]=(0,c.useState)([]),[A,v]=(0,c.useState)(!0),C=(0,c.useRef)(null),S=(0,c.useRef)(null),k=(0,c.useRef)("all"),M=(0,c.useRef)(0),D=(0,c.useRef)(0),L=(0,c.useRef)(0),I=(0,c.useRef)("default"),R=(0,c.useRef)(!0),[F,Y]=(0,c.useState)(new AbortController);(0,c.useEffect)((()=>{p(r)}),[r]),(0,c.useEffect)((()=>{R.current=!0,U();const e=document.querySelector(".table-container");return e.addEventListener("scroll",E),()=>{e.removeEventListener("scroll",E)}}),[]);const E=()=>{const e=document.querySelector(".table-container");e.scrollTop+e.clientHeight===e.scrollHeight&&!0===R.current&&U()};let B;B=(null!==o||A)&&(0!==o.length||A)?A?(0,N.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,N.jsx)(a.JT,{color:"danger"})}):(0,N.jsx)("div",{}):(0,N.jsx)("div",{className:"text-c text-center my-3 td-text",children:"No Data Found"});const U=async()=>{let e,t;0===M.current&&(v(!0),i([]),F.abort(),e=new AbortController,Y(e)),t=null!==S.current?"common/timesheet/approval/owner/status?page=".concat(M.current,"&size=10&category=").concat(I.current,"&status=").concat(k.current,"&productId=").concat(D.current,"&memberId=").concat(L.current,"&date=").concat(S.current):"common/timesheet/approval/owner/status?page=".concat(M.current,"&size=10&category=").concat(I.current,"&productId=").concat(D.current,"&memberId=").concat(L.current,"&status=").concat(k.current);try{var r;const c=(await d.get(t,{headers:(0,n.dJ)("json"),signal:null===(r=e)||void 0===r?void 0:r.signal})).data.data;0===M.current?i(c):i((e=>{const t=new Set(e.map((e=>e.id))),r=c.filter((e=>!t.has(e.id)));return[...e,...r]})),c.length<10?R.current=!1:R.current=!0,M.current=M.current+1,v(!1)}catch(c){}},T=u.map((e=>({value:e.id,label:e.name})));return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(a.sK,{className:"mt-3",children:[(0,N.jsxs)(a.UF,{sm:6,children:[(0,N.jsx)("b",{style:{marginLeft:"30px"},children:"Closed Activity"}),(0,N.jsx)("br",{}),(0,N.jsx)(m.A,{style:{marginLeft:"30px"},className:"bread-tab",separator:(0,N.jsx)("span",{className:"breadcrumb-separator",children:"|"}),items:[{title:(0,N.jsx)(y.N_,{rel:"Dashboard",to:"/dashboard",className:"bread-items text-decoration-none text-secondary ",children:"Dashboard"})},{title:(0,N.jsx)("span",{className:"text-secondary ",style:{cursor:"default"},children:"Closed Activity"})}]})]}),(0,N.jsx)(a.UF,{sm:2,children:(0,N.jsx)(x.A,{variant:"borderless",className:"dateField_close date_picker_clo ",onChange:(e,t)=>{if(M.current=0,R.current=!0,i([]),v(!0),null!==e){const t=h()(e).format("YYYY-MM-DD");S.current=t,0!==D.current&&0===L.current?I.current="dateandproduct":0===D.current&&0!==L.current?I.current="dateandmember":0===D.current&&0===L.current?I.current="date":0!==D.current&&""!==k.current&&(I.current="all")}else S.current=null,0!==D.current&&0===L.current?I.current="product":0===D.current&&0!==L.current?I.current="member":0===D.current&&0===L.current?I.current="default":0!==D.current&&0!==L.current&&(I.current="memberandproduct");U()},placeholder:"Choose Date",allowClear:!0,format:"DD MMM,YYYY"})}),(0,N.jsx)(a.UF,{sm:2,children:(0,N.jsx)(g.A,{className:"contract_members_activity_select custom-select_pend mem-act-select",suffixIcon:(0,N.jsx)("img",{src:f,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),variant:"borderless",id:"products",value:T.find((e=>e.value===D.current))||void 0,onChange:e=>{return t=e,C.current.blur(),M.current=0,R.current=!0,i([]),v(!0),void 0!==t?(D.current=t,null===S.current&&0===L.current?I.current="product":null===S.current&&0!==L.current?I.current="memberandproduct":null!==S.current&&0===L.current?I.current="dateandproduct":null!==S.current&&0!==L.current&&(I.current="all")):(D.current=0,null===S.current&&0===L.current?I.current="default":null===S.current&&0!==L.current?I.current="member":null!==S.current&&0===L.current?I.current="date":null!==S.current&&0!==L.current&&(I.current="dateandmember")),void U();var t},showSearch:!0,allowClear:!0,filterOption:(e,t)=>t.label.toLowerCase().indexOf(e.toLowerCase())>=0,dropdownRender:e=>(0,N.jsx)("div",{style:{maxHeight:"120px",overflow:"auto"},role:"listbox",children:e}),ref:C,options:s?[{label:(0,N.jsx)("div",{style:{textAlign:"center"},children:Array.from({length:5},((e,t)=>(0,N.jsx)(b.A,{title:!1,paragraph:{rows:1,width:"100%",height:"10px",style:{height:"10px !important"}}},t)))}),value:"loading",disabled:!0}]:T,placeholder:"Choose Product",getPopupContainer:e=>e.parentNode})}),(0,N.jsx)(a.UF,{sm:2,children:(0,N.jsx)(g.A,{suffixIcon:(0,N.jsx)("img",{src:f,alt:"Downarrowimg",style:{width:"10px",height:"6px"}}),className:"contract_members_activity_select custom-select_pend mem-act-select",allowClear:!0,placeholder:"Choose Status",options:[{value:"Approved",label:"Approved"},{value:"Rejected",label:"Rejected"}],onChange:e=>(e=>{M.current=0,R.current=!0,i([]),v(!0),k.current=void 0!==e?e:"all",U()})(e)})})]}),(0,N.jsx)("div",{className:"table-container table_scroll mt-2",style:{border:"none"},children:(0,N.jsxs)(w.A,{dataLength:o.length,next:E,hasMore:R.current,loader:(0,N.jsx)("div",{className:"text-c text-center my-3 td-text",children:(0,N.jsx)(a.JT,{color:"danger"})}),endMessage:0!==o.length&&(0,N.jsx)("p",{style:{textAlign:"center"},children:(0,N.jsx)("b",{style:{color:"#e40e2d",fontSize:"12px"},children:"No more Data to load"})}),children:[(0,N.jsxs)(a._v,{children:[(0,N.jsx)(a.wV,{className:"head-row",children:(0,N.jsxs)(a.YI,{children:[(0,N.jsx)(a.$s,{className:"table-head-draft  text-c grid-cell-header text-center",scope:"col",width:"4%",children:"SI.No"}),(0,N.jsx)(a.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"10%",children:"Activity Date"}),(0,N.jsx)(a.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"12%",children:"Team member"}),(0,N.jsx)(a.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"15%",children:"Product"}),(0,N.jsx)(a.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"10%",children:"Task"}),(0,N.jsx)(a.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"5%",children:"No.of.Hours"}),(0,N.jsx)(a.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"12%",children:"Approver Status"}),(0,N.jsx)(a.$s,{className:"table-head-draft  text-c grid-cell-header",scope:"col",width:"15%",children:"Remarks"})]})}),(0,N.jsx)(a.jS,{children:null===o||void 0===o?void 0:o.map(((e,r)=>(0,N.jsxs)(a.YI,{children:[(0,N.jsx)(a.cC,{className:"text-c pd-text1 grid-cell text-center",width:"4%",children:r+1}),(0,N.jsx)(a.cC,{className:"text-c pd-text1 grid-cell",title:e.activity_date,width:"10%",children:t(e.activity_date)}),(0,N.jsx)(a.cC,{className:"text-c pd-text1 grid-cell",title:(0,l.MX)(e.task_user_name),width:"12%",children:(0,l.MX)(e.task_user_name)}),(0,N.jsx)(a.cC,{className:"text-c pd-text1 grid-cell",title:e.productName,width:"15%",children:(0,N.jsxs)("span",{children:[!0===e.assignedStatus&&(0,N.jsx)("span",{style:{fontSize:"16px",color:"#00ab55"},children:"\u2022"}),!1===e.assignedStatus&&(0,N.jsx)("span",{style:{fontSize:"16px",color:"#ffaa00"},children:"\u2022"}),(0,N.jsx)("span",{style:{marginLeft:"5px"},children:e.productName})]})}),(0,N.jsx)(a.cC,{className:"text-c pd-text1 grid-cell",title:e.taskName,width:"10%",children:e.taskName}),(0,N.jsx)(a.cC,{className:"text-c pd-text1  text-center grid-cell",title:e.hours,width:"5%",children:(0,l.zA)(e.hours)}),(0,N.jsxs)(a.cC,{className:"text-c grid-cell ".concat("Approved"===e.supervisor_approved?"green-text1 ":"Reject"===e.supervisor_approved?"red-text1 ":""),width:"10%",children:["Approved"===e.supervisor_approved&&(0,N.jsxs)("span",{children:[(0,N.jsx)("span",{style:{fontSize:"20px"},children:"\u2022"}),(0,N.jsx)("span",{style:{marginLeft:"5px"},children:"Approved"})]}),"Reject"===e.supervisor_approved&&(0,N.jsxs)("span",{children:[(0,N.jsx)("span",{style:{fontSize:"20px"},children:"\u2022"}),(0,N.jsx)("span",{style:{marginLeft:"5px"},children:"Rejected"})]})]}),(0,N.jsx)(a.cC,{className:"text-c grid-cell pd-text1",title:e.description,width:"15%",children:e.description})]},e.id)))})]}),B]})})]})},M=()=>{let e=(0,j.A)();const[t,r]=(0,c.useState)([]),[l,d]=(0,c.useState)(1),[o,i]=(0,c.useState)(!0);(0,c.useEffect)((()=>{u()}),[]);const u=async()=>{await e.get("product/approvedlist",{headers:(0,n.dJ)("json")}).then((e=>{const t=e.data.data;r(t),i(!1)})).catch((e=>{}))},h=e=>{let t=new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});return t.includes(",")||(t=t.replace(/(\w{3}) (\d{4})/,"$1, $2")),t};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(s.N9,{}),(0,N.jsx)(a.sK,{className:"my-2",children:(0,N.jsx)(a.UF,{xs:12,children:(0,N.jsx)(a.E$,{className:"mt-4 memberActivity-content",children:(0,N.jsxs)("div",{children:[(0,N.jsxs)(a.by,{variant:"pills",role:"tablist",children:[(0,N.jsx)(a.g9,{role:"presentation2",children:(0,N.jsx)(a.HQ,{className:"nav-link-lable",active:1===l,component:"button",role:"tab","aria-controls":"home-tab-pane","aria-selected":1===l,onClick:()=>d(1),children:"Pending Activity"})}),(0,N.jsx)(a.g9,{role:"presentation1",children:(0,N.jsx)(a.HQ,{active:2===l,component:"button",role:"tab","aria-controls":"profile-tab-pane","aria-selected":2===l,onClick:()=>d(2),children:"Closed activity"})})]}),(0,N.jsxs)(a.eL,{children:[(0,N.jsx)(a.x1,{role:"tabpanel","aria-labelledby":"home-tab-pane",visible:1===l,className:"pendingactivity-card tab_height",children:(0,N.jsx)(a.sK,{children:1===l&&(0,N.jsx)(S,{formatDate:h,productLists:t,prodLoader:o})})}),(0,N.jsx)(a.x1,{role:"tabpanel","aria-labelledby":"profile-tab-pane",visible:2===l,className:"pendingactivity-card tab_height",children:(0,N.jsx)(a.sK,{children:2===l&&(0,N.jsx)(k,{formatDate:h,productLists:t,prodLoader:o})})})]})]})})})})]})}},70530:(e,t,r)=>{r.d(t,{A:()=>a});r(65043);var c=r(70579);const a=e=>{let{width:t,height:r,fill:a,viewBox:n}=e;return(0,c.jsx)("svg",{width:t,height:r,viewBox:n,fill:a,xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M4.87459 9.58157C5.2816 9.58171 5.67193 9.41992 5.95949 9.13188L12.9552 2.13716L12.9553 2.13712C13.3482 1.74402 13.3482 1.10682 12.9553 0.713727L12.9552 0.713671C12.5621 0.320704 11.9249 0.320704 11.5318 0.713671L11.5318 0.713699L4.87459 7.37091L2.4682 4.96451L2.46817 4.96448C2.07508 4.57151 1.43788 4.57151 1.04478 4.96448L1.04473 4.96454C0.651758 5.35763 0.651758 5.99483 1.04473 6.38793L1.04479 6.38799L3.7897 9.13188C3.78971 9.1319 3.78972 9.13191 3.78973 9.13192C4.07729 9.41994 4.46761 9.58171 4.87459 9.58157ZM4.87459 9.58157C4.87456 9.58157 4.87453 9.58157 4.87449 9.58157L4.87459 9.33157L4.8747 9.58157C4.87466 9.58157 4.87463 9.58157 4.87459 9.58157Z",fill:a,stroke:"#A5A1A1",strokeWidth:"0.5"})})}},11125:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAwTSURBVHgBrVlpcFPXFf6e3qLl6UnyLm+ybGMbG4gFSQyZkCkmC1k7TtqEZqaZhv7uTOjvdibQyc/MBKaddNqkTSedtE1CgCxkAdqQadhTMBhsAgRkbMu7te/L67nP2EiWrNiQ45ElveXe75373XO+c8ThDiwajToTabVH4PlOVYULUG102Jl1iZu9OMCXzqgfppM4UlJidOM2jcMyzetVbZKUeEnl0EPgXFi+uTMZdeftAF8y2DmQGajbOQ42/BCWwa5kUt29VNBLAhsIx3s4qG/9YCBzTfO0xWz82/ddWBQs86aoT75MLti+6DWjPkxen0RoJoRoMIpYMDZ/zqAYYFSMMJeaUdFYgZLqIs9KXjabDb/G7YD1eqNOUa/bV4iXqXgKQxeGcINe7PNSzUjgbdUlaLq7UXuQAnB6k/HM04vRglscKPclcnf294LkRR6CXtA+p+l8KpnGYsYAN9KrgLmTcbW7EOCCYEOR+NmFHmXLe+aTM7TUsbzrlQoZ9pUVMJeZIEoi9Ho9OCJ4PBxH1J/AUL8HXo8v7z7m6XVPrivgZeZhiQBzvqJgQ5HEaws5GpwOEtCzed602hU0uhwaF3U6DolEEvEo8TYaQSqVQlVNDQJeL8rtdoS8Idy4OEIr48kZQ5AErHtqLZQyJRdIAQ7ngA2Eoi/SpG8tBWjlijI4OqthMpsh8MKtgTgVyWQK4WAQvulJVNprEAoGUGGvBkcP1HuwH9ND3iUBzqjc0xZZvz8PbCGesqU/ufdUHtByZynqOu3kTR0kUQDP6yDSO4Ug+L0zBDaJwMw0IuEw6pyNmBgbhaN5BQwm0+y4oQTOHxyg93gO4PU/6cqlhApfMqFvnKPDPNhCy3/sn8fyOFrmsKGqowzT42OY8VxHIhKiQTIwyAp0PE8TqEjEo+AFCWECKytWJIkeZdV1cLatJC7zSKfTiHhjGDjyXc7YjMNdz3TNb1INb1rdqSjGHfNgb3r1evaN1765hutn3FhopQ1WpI1BuPuOYfT6FSS9kzCrSRgNelhLbbA7nJDMCvG5DrLFQsBSUOMx7SFmMmbY2+6Cyung+c6Dqf5Q3vh5USLLu9oj8CI2Zd/Alr8QUB0tt74MOHH4EAJTY1AmbqDRboW9vgmVDY0oJ6D60kroTDI4ycBuIHfoaMIMxb0kYjMzONl7ApZqJypqyxAbzdDGi+TMcaNvCPWr6295l7KmIMTYiu/QPBuKxJhXnXM39B8ZwOjl0TywSrmMoDCCYfKoFJjACjkOx4pmKKWltNEsEE1m8JJE+PjZG/jZd44owTybiSdw1e2BJ2UijhphUMswemlqKd7tNcuGtQKjABYEf9+oF4Us7I8gLPnRsW4D0mNXUaXzQbaVQKS4ykZMJ+O0g9PgCCSneVSCjuIt4gHtezqtory8HJKVNp1nBP5Bf8F5mHdzwHJwMTkqLKSA1+MtGPiZZZIqquodMBgMEG1WWASKBhIlgERsdqORR3WS/qY3MtpLlG0afQSjrM3KPrOHM9tsmLw4XnCeVCKlaY5sLZFmupkyTU/2hZPuKRQzPmOCnsDqePKYaEBIaUBGr4CnGCqbaLm9N8AnQlAFPZK2BqTonEogGSGEyAQy0RktuyEtaA+/mDFxlA2WVqtToNWxIuselgSKWSJAYccaRoB4e3AsgsHx40hQXFVo52/ouhfNGQ9qbDz8pMAuIYgLV9wYG/MQfXlUV1Xh0VYFybgMPqUUnYepuGxTM6pLoEDeqPHqpsVCsaKDpKMZHPv6OI4c/gqtSgLtsoqRAEWPSxG8cfQQ7m6uw5aNazFwdQh7T+ylsBbGijIZzeUKAsGreOVYCo6my3hq87NF52FyM8dYVCCgDdnHYsHiYLmwG9NX+lBuSOPnm10IUBKaGU/i6ucH0OPqwKcXh/Gfi24KWwK6V1ThspcjdS3hmU2PodKYgunUAE6PTUE/foZG61h0ngI4nAKWaf7ez9BZYaO0KlKqFVFvNeAxMYgNz3UjSRnr3/0Z/PaJNXj/6ABWNddga0Mn4jEKcVYKXZwElSLGSro/deVLcE0dLKIt2XRYpglKBcRMEqORDKY9Y+TpIGorLHCtacMEJ8NVa8Hm536GZx/sgjusYuWa1Vjd3gI93RP23MCNqTCqbDKlZ+uygGpgM6o6mH2gsIK/ZZzJDjEWRtc9Lnx4yYup6TDL37jmTeHjo33oud9FmlbG5ieewMj5Xnxw4lukICDsC+KL/km4Q2k8cC9JZXNd0XkK4HATZ3WUAdR53hrMhqK8FewuqFfPo7urEx9fOoVXD/UiQpLQmgriwVoFllgQscsXKMbp8Pz6Zuz9aA8OfFpCkUpCg1nE9q09lCh0iBhbUcxY7ZZtFA0GBfp/jgLffFXANKVv1LfoICpvAFdxL0IUJ9c1VMBVSkkhFUdJ83qUNrXh1LEz6P3XezA6V8PV3YMXWu6i4P8NpVcTeFJgZmsJQjEdArpqoAgNWJGZY5xKQkZVewnsL+aOVTjLtTqrmKmla8GbaW9aqiCQQDFZKqF0vwDBIKGlpBXeyXE0tbRAKKtCRftGGGuaEP72NNIMcE0bxgZiNG286BysGs7Fyu2nzg+3nyj32tzBkpoSTQizlFfMkjNpSO0PgOs7SDyWcf2br4Dj+yALHKz03XdSwiSJcV95I1o3PkQPpIBr34xYSkDEVxwoo+LCsp1yypGbqiu3QFxMy2bbpH8CvD0Jh8NByOMgpyJ5+A3ELA5IFbUwGI2Qx85Dt6obvKMTInE4EI6g/79XSFOUFh27utWOjk23YjCBdMsmQ6MWZ1U18yGXxVvHGgdRYXhR714d/havvrmDvGXB73a+gprqKpKPZTA+/xvSCTIkEioiSUVdYgsyghHRWIyqhhD+9MfX8dmBA3j+yW24v7N7UbALS3TaXDvZuxZnUwnDLqbI504y4Vu/unBoGZ5w4y97fw8Lqaap8VG8/fZf4aN6ixWIMZVKFuJwgiqDKCWIpGBAgr4HA34cPngI+/ftQUNDCwaGB9A/fKHg+EzLLowEjAIaLvaPlQzBcHQ3B+5lZHl39PJYnlb44uSnaGpehWgkoNVEJ44fg0024cePPwp7HSl8ympMa+gEgahgorI8ir7z5/D6H3ajrtYJu70W9po6nPvuDFbWt0On8vNjM67mexW7jebZhsd8umXeFaX4S7jZfGPeZeXxqQ9Oz9MhQdwUBBLWog4mYxUMeoNW2X7y+ee0aSbx4AP3QbFaIZCu5Rloiq29fRfw9nv7oCda1FTXo4YeiPUYrLQyqUwKEjcLdq4czzbGVZ5Xd2V9v2WsW6jj1H3Zx7S+wcdnNcBpGvzclTP4+0d/JgFtRFtzGzU1wui/dA4zXh+MNGGlzUwPYqR9oGJs2k+bl9QTlewNtBFXNLdjxufDFIW2F3/6K7TUrMwBmt/oULeZs7qLeR2ZYCi2ixLMSwsBf/Dme/ji6Gc423sc095pULgjUCa0OBuoExPD4OAgbQCS2TSiopAcDAQ1Qa7SH6NENS3/+LQXXr8fEh1vbm7FxvsfRlfHBjy8dUseULb8itmQ0xrIEzKppH4H6zVlH2MDPb7tKSg2C6oY5yqpr2UQtTbR5WvXIMsW6m+JEKnMMZmMRBUBFosMk2zURDejy7TPDz9tNBsdW9nWjvaOdVThVuNHW7vzgNLe6V0IdPZ4AWPFGbVuvlQXFJLM9vzjXex55x2SfQEMDV3H0OgEqiorKcOkqCNDwrq2lvgpat0ZL4GbnvFSGDNhZHwc9fZKtLevQTP1Dh567FF03beeSiT9QkBuomK30bjELuIc4LRauD87NTGJT/a8j76zp3H06yMY9Eygoa6G2kZxtDY2QdRRvyvNYcbvw4iHGnG8RF4HXJ1347kXfonuLY9oSSMfDNer4zJPFwI6e/57rBCHs63v7P+w9/13MTo0jJFhNyxUxcrkrEAkDdFIVTAVl6vuWovNj2zB2nu6Fp2HcdQs63dQclpURS3pN4UQdRepA/hyIVrcsVEyIo9uk7O6hYvZkn+tYbRIpbntxby8LCOQFCl2m02GXcW8mW3L/h1M43Iam27f01wv0yLLATl/J+7A5oCrnNpDAdZGecCZXS2zkomWmJaZNDPpZiZHF9s8S7H/A0BuKavg6TF+AAAAAElFTkSuQmCC"},74668:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAANCAYAAACtpZ5jAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACjSURBVHgBrczBEYIwEIXhtysFUIotWIIlpAOpADrQGQugAA+WICWkFA54UrImBxwdCEHZ//SSnfnoXF9KJzgAyKGUk77IPFpBOaZNyQQ0UE5EGu4p2/ttoZcVvhsK61hfc5bnzc8t1mUddbvCmJaGHwX8jYYHfV5W4F/oCP4TH6GT8I/4JBqFF+JRdBZO4LNoEo7gSXQRPOCQRwWhFtydUmjoBdH8byFWGreHAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=604.65c2a6e0.chunk.js.map